/**
 * Bundled by jsDelivr using Rollup v2.79.2 and Terser v5.39.0.
 * Original file: /npm/mermaid@11.6.0/dist/chunks/mermaid.esm.min/gitGraphDiagram-WO7WVN2C.mjs
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var e=Object.create,t=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,n=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,o=(e,r)=>t(e,"name",{value:r,configurable:!0}),s=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),l=(e,r)=>{for(var i in r)t(e,i,{get:r[i],enumerable:!0})},c=(e,n,o,s)=>{if(n&&"object"==typeof n||"function"==typeof n)for(let l of i(n))!a.call(e,l)&&l!==o&&t(e,l,{get:()=>n[l],enumerable:!(s=r(n,l))||s.enumerable});return e},u=(e,t,r)=>(c(e,t,"default"),r&&c(r,t,"default")),h=(r,i,a)=>(a=null!=r?e(n(r)):{},c(!i&&r&&r.__esModule?a:t(a,"default",{value:r,enumerable:!0}),r)),d=class{constructor(e){this.init=e,this.records=this.init()}static{o(this,"ImperativeState")}reset(){this.records=this.init()}};function f(e,t){e.accDescr&&t.setAccDescription?.(e.accDescr),e.accTitle&&t.setAccTitle?.(e.accTitle),e.title&&t.setDiagramTitle?.(e.title)}o(f,"populateCommonDb");var p="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function m(){throw new Error("setTimeout has not been defined")}function g(){throw new Error("clearTimeout has not been defined")}var y=m,v=g;function x(e){if(y===setTimeout)return setTimeout(e,0);if((y===m||!y)&&setTimeout)return y=setTimeout,setTimeout(e,0);try{return y(e,0)}catch(t){try{return y.call(null,e,0)}catch(t){return y.call(this,e,0)}}}"function"==typeof p.setTimeout&&(y=setTimeout),"function"==typeof p.clearTimeout&&(v=clearTimeout);var T,C=[],b=!1,k=-1;function _(){b&&T&&(b=!1,T.length?C=T.concat(C):k=-1,C.length&&S())}function S(){if(!b){var e=x(_);b=!0;for(var t=C.length;t;){for(T=C,C=[];++k<t;)T&&T[k].run();k=-1,t=C.length}T=null,b=!1,function(e){if(v===clearTimeout)return clearTimeout(e);if((v===g||!v)&&clearTimeout)return v=clearTimeout,clearTimeout(e);try{return v(e)}catch(t){try{return v.call(null,e)}catch(t){return v.call(this,e)}}}(e)}}function A(e,t){this.fun=e,this.array=t}A.prototype.run=function(){this.fun.apply(null,this.array)};function E(){}var w=E,R=E,$=E,L=E,I=E,N=E,O=E;var M=p.performance||{},P=M.now||M.mozNow||M.msNow||M.oNow||M.webkitNow||function(){return(new Date).getTime()};var B=new Date;var F={nextTick:function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];C.push(new A(e,t)),1!==C.length||b||x(S)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:w,addListener:R,once:$,off:L,removeListener:I,removeAllListeners:N,emit:O,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*P.call(M),r=Math.floor(t),i=Math.floor(t%1*1e9);return e&&(r-=e[0],(i-=e[1])<0&&(r--,i+=1e9)),[r,i]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-B)/1e3}},D="object"==typeof p&&p&&p.Object===Object&&p,U="object"==typeof self&&self&&self.Object===Object&&self,z=D||U||Function("return this")(),j=z.Symbol,G=Object.prototype,W=G.hasOwnProperty,q=G.toString,H=j?j.toStringTag:void 0;function V(e){var t=W.call(e,H),r=e[H];try{e[H]=void 0;var i=!0}catch{}var n=q.call(e);return i&&(t?e[H]=r:delete e[H]),n}o(V,"getRawTag");var K=V,Y=Object.prototype.toString;function X(e){return Y.call(e)}o(X,"objectToString");var J=X,Z=j?j.toStringTag:void 0;function Q(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Z&&Z in Object(e)?K(e):J(e)}o(Q,"baseGetTag");var ee=Q;function te(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}o(te,"isObject");var re=te;function ie(e){if(!re(e))return!1;var t=ee(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}o(ie,"isFunction");var ne=ie,ae=z["__core-js_shared__"],oe=function(){var e=/[^.]+$/.exec(ae&&ae.keys&&ae.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function se(e){return!!oe&&oe in e}o(se,"isMasked");var le=se,ce=Function.prototype.toString;function ue(e){if(null!=e){try{return ce.call(e)}catch{}try{return e+""}catch{}}return""}o(ue,"toSource");var he=ue,de=/^\[object .+?Constructor\]$/,fe=Function.prototype,pe=Object.prototype,me=fe.toString,ge=pe.hasOwnProperty,ye=RegExp("^"+me.call(ge).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ve(e){return!(!re(e)||le(e))&&(ne(e)?ye:de).test(he(e))}o(ve,"baseIsNative");var xe=ve;function Te(e,t){return e?.[t]}o(Te,"getValue");var Ce=Te;function be(e,t){var r=Ce(e,t);return xe(r)?r:void 0}o(be,"getNative");var ke=be,_e=ke(Object,"create");function Se(){this.__data__=_e?_e(null):{},this.size=0}o(Se,"hashClear");var Ae=Se;function Ee(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}o(Ee,"hashDelete");var we=Ee,Re=Object.prototype.hasOwnProperty;function $e(e){var t=this.__data__;if(_e){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return Re.call(t,e)?t[e]:void 0}o($e,"hashGet");var Le=$e,Ie=Object.prototype.hasOwnProperty;function Ne(e){var t=this.__data__;return _e?void 0!==t[e]:Ie.call(t,e)}o(Ne,"hashHas");var Oe=Ne;function Me(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=_e&&void 0===t?"__lodash_hash_undefined__":t,this}o(Me,"hashSet");var Pe=Me;function Be(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}o(Be,"Hash"),Be.prototype.clear=Ae,Be.prototype.delete=we,Be.prototype.get=Le,Be.prototype.has=Oe,Be.prototype.set=Pe;var Fe=Be;function De(){this.__data__=[],this.size=0}o(De,"listCacheClear");var Ue=De;function ze(e,t){return e===t||e!=e&&t!=t}o(ze,"eq");var je=ze;function Ge(e,t){for(var r=e.length;r--;)if(je(e[r][0],t))return r;return-1}o(Ge,"assocIndexOf");var We=Ge,qe=Array.prototype.splice;function He(e){var t=this.__data__,r=We(t,e);return!(r<0)&&(r==t.length-1?t.pop():qe.call(t,r,1),--this.size,!0)}o(He,"listCacheDelete");var Ve=He;function Ke(e){var t=this.__data__,r=We(t,e);return r<0?void 0:t[r][1]}o(Ke,"listCacheGet");var Ye=Ke;function Xe(e){return We(this.__data__,e)>-1}o(Xe,"listCacheHas");var Je=Xe;function Ze(e,t){var r=this.__data__,i=We(r,e);return i<0?(++this.size,r.push([e,t])):r[i][1]=t,this}o(Ze,"listCacheSet");var Qe=Ze;function et(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}o(et,"ListCache"),et.prototype.clear=Ue,et.prototype.delete=Ve,et.prototype.get=Ye,et.prototype.has=Je,et.prototype.set=Qe;var tt=et,rt=ke(z,"Map");function it(){this.size=0,this.__data__={hash:new Fe,map:new(rt||tt),string:new Fe}}o(it,"mapCacheClear");var nt=it;function at(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}o(at,"isKeyable");var ot=at;function st(e,t){var r=e.__data__;return ot(t)?r["string"==typeof t?"string":"hash"]:r.map}o(st,"getMapData");var lt=st;function ct(e){var t=lt(this,e).delete(e);return this.size-=t?1:0,t}o(ct,"mapCacheDelete");var ut=ct;function ht(e){return lt(this,e).get(e)}o(ht,"mapCacheGet");var dt=ht;function ft(e){return lt(this,e).has(e)}o(ft,"mapCacheHas");var pt=ft;function mt(e,t){var r=lt(this,e),i=r.size;return r.set(e,t),this.size+=r.size==i?0:1,this}o(mt,"mapCacheSet");var gt=mt;function yt(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var i=e[t];this.set(i[0],i[1])}}o(yt,"MapCache"),yt.prototype.clear=nt,yt.prototype.delete=ut,yt.prototype.get=dt,yt.prototype.has=pt,yt.prototype.set=gt;var vt=yt;function xt(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=o((function(){var i=arguments,n=t?t.apply(this,i):i[0],a=r.cache;if(a.has(n))return a.get(n);var o=e.apply(this,i);return r.cache=a.set(n,o)||a,o}),"memoized");return r.cache=new(xt.Cache||vt),r}o(xt,"memoize"),xt.Cache=vt;var Tt=xt;function Ct(e){return function(){return e}}o(Ct,"constant");var bt=Ct;function kt(){this.__data__=new tt,this.size=0}o(kt,"stackClear");var _t=kt;function St(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}o(St,"stackDelete");var At=St;function Et(e){return this.__data__.get(e)}o(Et,"stackGet");var wt=Et;function Rt(e){return this.__data__.has(e)}o(Rt,"stackHas");var $t=Rt;function Lt(e,t){var r=this.__data__;if(r instanceof tt){var i=r.__data__;if(!rt||i.length<199)return i.push([e,t]),this.size=++r.size,this;r=this.__data__=new vt(i)}return r.set(e,t),this.size=r.size,this}o(Lt,"stackSet");var It=Lt;function Nt(e){var t=this.__data__=new tt(e);this.size=t.size}o(Nt,"Stack"),Nt.prototype.clear=_t,Nt.prototype.delete=At,Nt.prototype.get=wt,Nt.prototype.has=$t,Nt.prototype.set=It;var Ot=Nt,Mt=function(){try{var e=ke(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Pt=Mt;function Bt(e,t,r){"__proto__"==t&&Pt?Pt(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}o(Bt,"baseAssignValue");var Ft=Bt;function Dt(e,t,r){(void 0!==r&&!je(e[t],r)||void 0===r&&!(t in e))&&Ft(e,t,r)}o(Dt,"assignMergeValue");var Ut=Dt;function zt(e){return function(t,r,i){for(var n=-1,a=Object(t),o=i(t),s=o.length;s--;){var l=o[e?s:++n];if(!1===r(a[l],l,a))break}return t}}o(zt,"createBaseFor");var jt=zt(),Gt="object"==typeof exports&&exports&&!exports.nodeType&&exports,Wt=Gt&&"object"==typeof module&&module&&!module.nodeType&&module,qt=Wt&&Wt.exports===Gt?z.Buffer:void 0,Ht=qt?qt.allocUnsafe:void 0;function Vt(e,t){if(t)return e.slice();var r=e.length,i=Ht?Ht(r):new e.constructor(r);return e.copy(i),i}o(Vt,"cloneBuffer");var Kt=Vt,Yt=z.Uint8Array;function Xt(e){var t=new e.constructor(e.byteLength);return new Yt(t).set(new Yt(e)),t}o(Xt,"cloneArrayBuffer");var Jt=Xt;function Zt(e,t){var r=t?Jt(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}o(Zt,"cloneTypedArray");var Qt=Zt;function er(e,t){var r=-1,i=e.length;for(t||(t=Array(i));++r<i;)t[r]=e[r];return t}o(er,"copyArray");var tr=er,rr=Object.create,ir=function(){function e(){}return o(e,"object"),function(t){if(!re(t))return{};if(rr)return rr(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),nr=ir;function ar(e,t){return function(r){return e(t(r))}}o(ar,"overArg");var or=ar,sr=or(Object.getPrototypeOf,Object),lr=Object.prototype;function cr(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||lr)}o(cr,"isPrototype");var ur=cr;function hr(e){return"function"!=typeof e.constructor||ur(e)?{}:nr(sr(e))}o(hr,"initCloneObject");var dr=hr;function fr(e){return null!=e&&"object"==typeof e}o(fr,"isObjectLike");var pr=fr;function mr(e){return pr(e)&&"[object Arguments]"==ee(e)}o(mr,"baseIsArguments");var gr=mr,yr=Object.prototype,vr=yr.hasOwnProperty,xr=yr.propertyIsEnumerable,Tr=gr(function(){return arguments}())?gr:function(e){return pr(e)&&vr.call(e,"callee")&&!xr.call(e,"callee")},Cr=Tr,br=Array.isArray;function kr(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}o(kr,"isLength");var _r=kr;function Sr(e){return null!=e&&_r(e.length)&&!ne(e)}o(Sr,"isArrayLike");var Ar=Sr;function Er(e){return pr(e)&&Ar(e)}o(Er,"isArrayLikeObject");var wr=Er;function Rr(){return!1}o(Rr,"stubFalse");var $r=Rr,Lr="object"==typeof exports&&exports&&!exports.nodeType&&exports,Ir=Lr&&"object"==typeof module&&module&&!module.nodeType&&module,Nr=Ir&&Ir.exports===Lr?z.Buffer:void 0,Or=(Nr?Nr.isBuffer:void 0)||$r,Mr=Function.prototype,Pr=Object.prototype,Br=Mr.toString,Fr=Pr.hasOwnProperty,Dr=Br.call(Object);function Ur(e){if(!pr(e)||"[object Object]"!=ee(e))return!1;var t=sr(e);if(null===t)return!0;var r=Fr.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Br.call(r)==Dr}o(Ur,"isPlainObject");var zr=Ur,jr={};function Gr(e){return pr(e)&&_r(e.length)&&!!jr[ee(e)]}jr["[object Float32Array]"]=jr["[object Float64Array]"]=jr["[object Int8Array]"]=jr["[object Int16Array]"]=jr["[object Int32Array]"]=jr["[object Uint8Array]"]=jr["[object Uint8ClampedArray]"]=jr["[object Uint16Array]"]=jr["[object Uint32Array]"]=!0,jr["[object Arguments]"]=jr["[object Array]"]=jr["[object ArrayBuffer]"]=jr["[object Boolean]"]=jr["[object DataView]"]=jr["[object Date]"]=jr["[object Error]"]=jr["[object Function]"]=jr["[object Map]"]=jr["[object Number]"]=jr["[object Object]"]=jr["[object RegExp]"]=jr["[object Set]"]=jr["[object String]"]=jr["[object WeakMap]"]=!1,o(Gr,"baseIsTypedArray");var Wr=Gr;function qr(e){return function(t){return e(t)}}o(qr,"baseUnary");var Hr=qr,Vr="object"==typeof exports&&exports&&!exports.nodeType&&exports,Kr=Vr&&"object"==typeof module&&module&&!module.nodeType&&module,Yr=Kr&&Kr.exports===Vr&&D.process,Xr=function(){try{return Kr&&Kr.require&&Kr.require("util").types||Yr&&Yr.binding&&Yr.binding("util")}catch{}}(),Jr=Xr&&Xr.isTypedArray,Zr=Jr?Hr(Jr):Wr;function Qr(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}o(Qr,"safeGet");var ei=Qr,ti=Object.prototype.hasOwnProperty;function ri(e,t,r){var i=e[t];(!ti.call(e,t)||!je(i,r)||void 0===r&&!(t in e))&&Ft(e,t,r)}o(ri,"assignValue");var ii=ri;function ni(e,t,r,i){var n=!r;r||(r={});for(var a=-1,o=t.length;++a<o;){var s=t[a],l=i?i(r[s],e[s],s,r,e):void 0;void 0===l&&(l=e[s]),n?Ft(r,s,l):ii(r,s,l)}return r}o(ni,"copyObject");var ai=ni;function oi(e,t){for(var r=-1,i=Array(e);++r<e;)i[r]=t(r);return i}o(oi,"baseTimes");var si=oi,li=/^(?:0|[1-9]\d*)$/;function ci(e,t){var r=typeof e;return!!(t=t??9007199254740991)&&("number"==r||"symbol"!=r&&li.test(e))&&e>-1&&e%1==0&&e<t}o(ci,"isIndex");var ui=ci,hi=Object.prototype.hasOwnProperty;function di(e,t){var r=br(e),i=!r&&Cr(e),n=!r&&!i&&Or(e),a=!r&&!i&&!n&&Zr(e),o=r||i||n||a,s=o?si(e.length,String):[],l=s.length;for(var c in e)(t||hi.call(e,c))&&(!o||!("length"==c||n&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ui(c,l)))&&s.push(c);return s}o(di,"arrayLikeKeys");var fi=di;function pi(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}o(pi,"nativeKeysIn");var mi=pi,gi=Object.prototype.hasOwnProperty;function yi(e){if(!re(e))return mi(e);var t=ur(e),r=[];for(var i in e)"constructor"==i&&(t||!gi.call(e,i))||r.push(i);return r}o(yi,"baseKeysIn");var vi=yi;function xi(e){return Ar(e)?fi(e,!0):vi(e)}o(xi,"keysIn");var Ti=xi;function Ci(e){return ai(e,Ti(e))}o(Ci,"toPlainObject");var bi=Ci;function ki(e,t,r,i,n,a,o){var s=ei(e,r),l=ei(t,r),c=o.get(l);if(c)Ut(e,r,c);else{var u=a?a(s,l,r+"",e,t,o):void 0,h=void 0===u;if(h){var d=br(l),f=!d&&Or(l),p=!d&&!f&&Zr(l);u=l,d||f||p?br(s)?u=s:wr(s)?u=tr(s):f?(h=!1,u=Kt(l,!0)):p?(h=!1,u=Qt(l,!0)):u=[]:zr(l)||Cr(l)?(u=s,Cr(s)?u=bi(s):(!re(s)||ne(s))&&(u=dr(l))):h=!1}h&&(o.set(l,u),n(u,l,i,a,o),o.delete(l)),Ut(e,r,u)}}o(ki,"baseMergeDeep");var _i=ki;function Si(e,t,r,i,n){e!==t&&jt(t,(function(a,o){if(n||(n=new Ot),re(a))_i(e,t,o,r,Si,i,n);else{var s=i?i(ei(e,o),a,o+"",e,t,n):void 0;void 0===s&&(s=a),Ut(e,o,s)}}),Ti)}o(Si,"baseMerge");var Ai=Si;function Ei(e){return e}o(Ei,"identity");var wi=Ei;function Ri(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}o(Ri,"apply");var $i=Ri,Li=Math.max;function Ii(e,t,r){return t=Li(void 0===t?e.length-1:t,0),function(){for(var i=arguments,n=-1,a=Li(i.length-t,0),o=Array(a);++n<a;)o[n]=i[t+n];n=-1;for(var s=Array(t+1);++n<t;)s[n]=i[n];return s[t]=r(o),$i(e,this,s)}}o(Ii,"overRest");var Ni=Ii,Oi=Pt?function(e,t){return Pt(e,"toString",{configurable:!0,enumerable:!1,value:bt(t),writable:!0})}:wi,Mi=Oi,Pi=Date.now;function Bi(e){var t=0,r=0;return function(){var i=Pi(),n=16-(i-r);if(r=i,n>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}o(Bi,"shortOut");var Fi=Bi(Mi);function Di(e,t){return Fi(Ni(e,t,wi),e+"")}o(Di,"baseRest");var Ui=Di;function zi(e,t,r){if(!re(r))return!1;var i=typeof t;return!!("number"==i?Ar(r)&&ui(t,r.length):"string"==i&&t in r)&&je(r[t],e)}o(zi,"isIterateeCall");var ji=zi;function Gi(e){return Ui((function(t,r){var i=-1,n=r.length,a=n>1?r[n-1]:void 0,o=n>2?r[2]:void 0;for(a=e.length>3&&"function"==typeof a?(n--,a):void 0,o&&ji(r[0],r[1],o)&&(a=n<3?void 0:a,n=1),t=Object(t);++i<n;){var s=r[i];s&&e(t,s,i,a)}return t}))}o(Gi,"createAssigner");var Wi=Gi,qi=Wi((function(e,t,r){Ai(e,t,r)})),Hi=qi,Vi=or(Object.keys,Object),Ki=Object.prototype.hasOwnProperty;function Yi(e){if(!ur(e))return Vi(e);var t=[];for(var r in Object(e))Ki.call(e,r)&&"constructor"!=r&&t.push(r);return t}o(Yi,"baseKeys");var Xi=Yi,Ji=ke(z,"DataView"),Zi=ke(z,"Promise"),Qi=ke(z,"Set"),en=ke(z,"WeakMap"),tn="[object Map]",rn="[object Promise]",nn="[object Set]",an="[object WeakMap]",on="[object DataView]",sn=he(Ji),ln=he(rt),cn=he(Zi),un=he(Qi),hn=he(en),dn=ee;(Ji&&dn(new Ji(new ArrayBuffer(1)))!=on||rt&&dn(new rt)!=tn||Zi&&dn(Zi.resolve())!=rn||Qi&&dn(new Qi)!=nn||en&&dn(new en)!=an)&&(dn=o((function(e){var t=ee(e),r="[object Object]"==t?e.constructor:void 0,i=r?he(r):"";if(i)switch(i){case sn:return on;case ln:return tn;case cn:return rn;case un:return nn;case hn:return an}return t}),"getTag"));var fn=dn,pn=Object.prototype.hasOwnProperty;function mn(e){if(null==e)return!0;if(Ar(e)&&(br(e)||"string"==typeof e||"function"==typeof e.splice||Or(e)||Zr(e)||Cr(e)))return!e.length;var t=fn(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(ur(e))return!Xi(e).length;for(var r in e)if(pn.call(e,r))return!1;return!0}o(mn,"isEmpty");var gn=mn;function yn(e){return Ar(e)?fi(e):Xi(e)}o(yn,"keys");var vn=yn;function xn(e,t){for(var r=-1,i=null==e?0:e.length;++r<i&&!1!==t(e[r],r,e););return e}o(xn,"arrayEach");var Tn=xn;function Cn(e,t){return e&&ai(t,vn(t),e)}o(Cn,"baseAssign");var bn=Cn;function kn(e,t){return e&&ai(t,Ti(t),e)}o(kn,"baseAssignIn");var _n=kn;function Sn(e,t){for(var r=-1,i=null==e?0:e.length,n=0,a=[];++r<i;){var o=e[r];t(o,r,e)&&(a[n++]=o)}return a}o(Sn,"arrayFilter");var An=Sn;function En(){return[]}o(En,"stubArray");var wn=En,Rn=Object.prototype.propertyIsEnumerable,$n=Object.getOwnPropertySymbols,Ln=$n?function(e){return null==e?[]:(e=Object(e),An($n(e),(function(t){return Rn.call(e,t)})))}:wn,In=Ln;function Nn(e,t){return ai(e,In(e),t)}o(Nn,"copySymbols");var On=Nn;function Mn(e,t){for(var r=-1,i=t.length,n=e.length;++r<i;)e[n+r]=t[r];return e}o(Mn,"arrayPush");var Pn=Mn,Bn=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Pn(t,In(e)),e=sr(e);return t}:wn,Fn=Bn;function Dn(e,t){return ai(e,Fn(e),t)}o(Dn,"copySymbolsIn");var Un=Dn;function zn(e,t,r){var i=t(e);return br(e)?i:Pn(i,r(e))}o(zn,"baseGetAllKeys");var jn=zn;function Gn(e){return jn(e,vn,In)}o(Gn,"getAllKeys");var Wn=Gn;function qn(e){return jn(e,Ti,Fn)}o(qn,"getAllKeysIn");var Hn=qn,Vn=Object.prototype.hasOwnProperty;function Kn(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&Vn.call(e,"index")&&(r.index=e.index,r.input=e.input),r}o(Kn,"initCloneArray");var Yn=Kn;function Xn(e,t){var r=t?Jt(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}o(Xn,"cloneDataView");var Jn=Xn,Zn=/\w*$/;function Qn(e){var t=new e.constructor(e.source,Zn.exec(e));return t.lastIndex=e.lastIndex,t}o(Qn,"cloneRegExp");var ea=Qn,ta=j?j.prototype:void 0,ra=ta?ta.valueOf:void 0;function ia(e){return ra?Object(ra.call(e)):{}}o(ia,"cloneSymbol");var na=ia;function aa(e,t,r){var i=e.constructor;switch(t){case"[object ArrayBuffer]":return Jt(e);case"[object Boolean]":case"[object Date]":return new i(+e);case"[object DataView]":return Jn(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Qt(e,r);case"[object Map]":case"[object Set]":return new i;case"[object Number]":case"[object String]":return new i(e);case"[object RegExp]":return ea(e);case"[object Symbol]":return na(e)}}o(aa,"initCloneByTag");var oa=aa;function sa(e){return pr(e)&&"[object Map]"==fn(e)}o(sa,"baseIsMap");var la=sa,ca=Xr&&Xr.isMap,ua=ca?Hr(ca):la;function ha(e){return pr(e)&&"[object Set]"==fn(e)}o(ha,"baseIsSet");var da=ha,fa=Xr&&Xr.isSet,pa=fa?Hr(fa):da,ma="[object Arguments]",ga="[object Function]",ya="[object Object]",va={};function xa(e,t,r,i,n,a){var o,s=1&t,l=2&t,c=4&t;if(r&&(o=n?r(e,i,n,a):r(e)),void 0!==o)return o;if(!re(e))return e;var u=br(e);if(u){if(o=Yn(e),!s)return tr(e,o)}else{var h=fn(e),d=h==ga||"[object GeneratorFunction]"==h;if(Or(e))return Kt(e,s);if(h==ya||h==ma||d&&!n){if(o=l||d?{}:dr(e),!s)return l?Un(e,_n(o,e)):On(e,bn(o,e))}else{if(!va[h])return n?e:{};o=oa(e,h,s)}}a||(a=new Ot);var f=a.get(e);if(f)return f;a.set(e,o),pa(e)?e.forEach((function(i){o.add(xa(i,t,r,i,e,a))})):ua(e)&&e.forEach((function(i,n){o.set(n,xa(i,t,r,n,e,a))}));var p=u?void 0:(c?l?Hn:Wn:l?Ti:vn)(e);return Tn(p||e,(function(i,n){p&&(i=e[n=i]),ii(o,n,xa(i,t,r,n,e,a))})),o}va[ma]=va["[object Array]"]=va["[object ArrayBuffer]"]=va["[object DataView]"]=va["[object Boolean]"]=va["[object Date]"]=va["[object Float32Array]"]=va["[object Float64Array]"]=va["[object Int8Array]"]=va["[object Int16Array]"]=va["[object Int32Array]"]=va["[object Map]"]=va["[object Number]"]=va[ya]=va["[object RegExp]"]=va["[object Set]"]=va["[object String]"]=va["[object Symbol]"]=va["[object Uint8Array]"]=va["[object Uint8ClampedArray]"]=va["[object Uint16Array]"]=va["[object Uint32Array]"]=!0,va["[object Error]"]=va[ga]=va["[object WeakMap]"]=!1,o(xa,"baseClone");var Ta=xa;function Ca(e){return Ta(e,4)}o(Ca,"clone");var ba=Ca,ka=Object.prototype,_a=ka.hasOwnProperty,Sa=Ui((function(e,t){e=Object(e);var r=-1,i=t.length,n=i>2?t[2]:void 0;for(n&&ji(t[0],t[1],n)&&(i=1);++r<i;)for(var a=t[r],o=Ti(a),s=-1,l=o.length;++s<l;){var c=o[s],u=e[c];(void 0===u||je(u,ka[c])&&!_a.call(e,c))&&(e[c]=a[c])}return e})),Aa=Sa;function Ea(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}o(Ea,"last");var wa=Ea;function Ra(e,t){return e&&jt(e,t,vn)}o(Ra,"baseForOwn");var $a=Ra;function La(e,t){return function(r,i){if(null==r)return r;if(!Ar(r))return e(r,i);for(var n=r.length,a=t?n:-1,o=Object(r);(t?a--:++a<n)&&!1!==i(o[a],a,o););return r}}o(La,"createBaseEach");var Ia=La($a);function Na(e){return"function"==typeof e?e:wi}o(Na,"castFunction");var Oa=Na;function Ma(e,t){return(br(e)?Tn:Ia)(e,Oa(t))}o(Ma,"forEach");var Pa=Ma;function Ba(e,t){var r=[];return Ia(e,(function(e,i,n){t(e,i,n)&&r.push(e)})),r}o(Ba,"baseFilter");var Fa=Ba;function Da(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}o(Da,"setCacheAdd");var Ua=Da;function za(e){return this.__data__.has(e)}o(za,"setCacheHas");var ja=za;function Ga(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new vt;++t<r;)this.add(e[t])}o(Ga,"SetCache"),Ga.prototype.add=Ga.prototype.push=Ua,Ga.prototype.has=ja;var Wa=Ga;function qa(e,t){for(var r=-1,i=null==e?0:e.length;++r<i;)if(t(e[r],r,e))return!0;return!1}o(qa,"arraySome");var Ha=qa;function Va(e,t){return e.has(t)}o(Va,"cacheHas");var Ka=Va;function Ya(e,t,r,i,n,a){var o=1&r,s=e.length,l=t.length;if(s!=l&&!(o&&l>s))return!1;var c=a.get(e),u=a.get(t);if(c&&u)return c==t&&u==e;var h=-1,d=!0,f=2&r?new Wa:void 0;for(a.set(e,t),a.set(t,e);++h<s;){var p=e[h],m=t[h];if(i)var g=o?i(m,p,h,t,e,a):i(p,m,h,e,t,a);if(void 0!==g){if(g)continue;d=!1;break}if(f){if(!Ha(t,(function(e,t){if(!Ka(f,t)&&(p===e||n(p,e,r,i,a)))return f.push(t)}))){d=!1;break}}else if(p!==m&&!n(p,m,r,i,a)){d=!1;break}}return a.delete(e),a.delete(t),d}o(Ya,"equalArrays");var Xa=Ya;function Ja(e){var t=-1,r=Array(e.size);return e.forEach((function(e,i){r[++t]=[i,e]})),r}o(Ja,"mapToArray");var Za=Ja;function Qa(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}o(Qa,"setToArray");var eo=Qa,to=j?j.prototype:void 0,ro=to?to.valueOf:void 0;function io(e,t,r,i,n,a,o){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new Yt(e),new Yt(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return je(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Za;case"[object Set]":var l=1&i;if(s||(s=eo),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;i|=2,o.set(e,t);var u=Xa(s(e),s(t),i,n,a,o);return o.delete(e),u;case"[object Symbol]":if(ro)return ro.call(e)==ro.call(t)}return!1}o(io,"equalByTag");var no=io,ao=Object.prototype.hasOwnProperty;function oo(e,t,r,i,n,a){var o=1&r,s=Wn(e),l=s.length;if(l!=Wn(t).length&&!o)return!1;for(var c=l;c--;){var u=s[c];if(!(o?u in t:ao.call(t,u)))return!1}var h=a.get(e),d=a.get(t);if(h&&d)return h==t&&d==e;var f=!0;a.set(e,t),a.set(t,e);for(var p=o;++c<l;){var m=e[u=s[c]],g=t[u];if(i)var y=o?i(g,m,u,t,e,a):i(m,g,u,e,t,a);if(!(void 0===y?m===g||n(m,g,r,i,a):y)){f=!1;break}p||(p="constructor"==u)}if(f&&!p){var v=e.constructor,x=t.constructor;v!=x&&"constructor"in e&&"constructor"in t&&!("function"==typeof v&&v instanceof v&&"function"==typeof x&&x instanceof x)&&(f=!1)}return a.delete(e),a.delete(t),f}o(oo,"equalObjects");var so=oo,lo="[object Arguments]",co="[object Array]",uo="[object Object]",ho=Object.prototype.hasOwnProperty;function fo(e,t,r,i,n,a){var o=br(e),s=br(t),l=o?co:fn(e),c=s?co:fn(t),u=(l=l==lo?uo:l)==uo,h=(c=c==lo?uo:c)==uo,d=l==c;if(d&&Or(e)){if(!Or(t))return!1;o=!0,u=!1}if(d&&!u)return a||(a=new Ot),o||Zr(e)?Xa(e,t,r,i,n,a):no(e,t,l,r,i,n,a);if(!(1&r)){var f=u&&ho.call(e,"__wrapped__"),p=h&&ho.call(t,"__wrapped__");if(f||p){var m=f?e.value():e,g=p?t.value():t;return a||(a=new Ot),n(m,g,r,i,a)}}return!!d&&(a||(a=new Ot),so(e,t,r,i,n,a))}o(fo,"baseIsEqualDeep");var po=fo;function mo(e,t,r,i,n){return e===t||(null==e||null==t||!pr(e)&&!pr(t)?e!=e&&t!=t:po(e,t,r,i,mo,n))}o(mo,"baseIsEqual");var go=mo;function yo(e,t,r,i){var n=r.length,a=n,o=!i;if(null==e)return!a;for(e=Object(e);n--;){var s=r[n];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++n<a;){var l=(s=r[n])[0],c=e[l],u=s[1];if(o&&s[2]){if(void 0===c&&!(l in e))return!1}else{var h=new Ot;if(i)var d=i(c,u,l,e,t,h);if(!(void 0===d?go(u,c,3,i,h):d))return!1}}return!0}o(yo,"baseIsMatch");var vo=yo;function xo(e){return e==e&&!re(e)}o(xo,"isStrictComparable");var To=xo;function Co(e){for(var t=vn(e),r=t.length;r--;){var i=t[r],n=e[i];t[r]=[i,n,To(n)]}return t}o(Co,"getMatchData");var bo=Co;function ko(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}o(ko,"matchesStrictComparable");var _o=ko;function So(e){var t=bo(e);return 1==t.length&&t[0][2]?_o(t[0][0],t[0][1]):function(r){return r===e||vo(r,e,t)}}o(So,"baseMatches");var Ao=So;function Eo(e){return"symbol"==typeof e||pr(e)&&"[object Symbol]"==ee(e)}o(Eo,"isSymbol");var wo=Eo,Ro=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$o=/^\w*$/;function Lo(e,t){if(br(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!wo(e))||($o.test(e)||!Ro.test(e)||null!=t&&e in Object(t))}o(Lo,"isKey");var Io=Lo;function No(e){var t=Tt(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}o(No,"memoizeCapped");var Oo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Mo=/\\(\\)?/g,Po=No((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Oo,(function(e,r,i,n){t.push(i?n.replace(Mo,"$1"):r||e)})),t})),Bo=Po;function Fo(e,t){for(var r=-1,i=null==e?0:e.length,n=Array(i);++r<i;)n[r]=t(e[r],r,e);return n}o(Fo,"arrayMap");var Do=Fo,Uo=j?j.prototype:void 0,zo=Uo?Uo.toString:void 0;function jo(e){if("string"==typeof e)return e;if(br(e))return Do(e,jo)+"";if(wo(e))return zo?zo.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}o(jo,"baseToString");var Go=jo;function Wo(e){return null==e?"":Go(e)}o(Wo,"toString");var qo=Wo;function Ho(e,t){return br(e)?e:Io(e,t)?[e]:Bo(qo(e))}o(Ho,"castPath");var Vo=Ho;function Ko(e){if("string"==typeof e||wo(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}o(Ko,"toKey");var Yo=Ko;function Xo(e,t){for(var r=0,i=(t=Vo(t,e)).length;null!=e&&r<i;)e=e[Yo(t[r++])];return r&&r==i?e:void 0}o(Xo,"baseGet");var Jo=Xo;function Zo(e,t,r){var i=null==e?void 0:Jo(e,t);return void 0===i?r:i}o(Zo,"get");var Qo=Zo;function es(e,t){return null!=e&&t in Object(e)}o(es,"baseHasIn");var ts=es;function rs(e,t,r){for(var i=-1,n=(t=Vo(t,e)).length,a=!1;++i<n;){var o=Yo(t[i]);if(!(a=null!=e&&r(e,o)))break;e=e[o]}return a||++i!=n?a:!!(n=null==e?0:e.length)&&_r(n)&&ui(o,n)&&(br(e)||Cr(e))}o(rs,"hasPath");var is=rs;function ns(e,t){return null!=e&&is(e,t,ts)}o(ns,"hasIn");var as=ns;function os(e,t){return Io(e)&&To(t)?_o(Yo(e),t):function(r){var i=Qo(r,e);return void 0===i&&i===t?as(r,e):go(t,i,3)}}o(os,"baseMatchesProperty");var ss=os;function ls(e){return function(t){return t?.[e]}}o(ls,"baseProperty");var cs=ls;function us(e){return function(t){return Jo(t,e)}}o(us,"basePropertyDeep");var hs=us;function ds(e){return Io(e)?cs(Yo(e)):hs(e)}o(ds,"property");var fs=ds;function ps(e){return"function"==typeof e?e:null==e?wi:"object"==typeof e?br(e)?ss(e[0],e[1]):Ao(e):fs(e)}o(ps,"baseIteratee");var ms=ps;function gs(e,t){return(br(e)?An:Fa)(e,ms(t))}o(gs,"filter");var ys=gs;function vs(e,t){var r=-1,i=Ar(e)?Array(e.length):[];return Ia(e,(function(e,n,a){i[++r]=t(e,n,a)})),i}o(vs,"baseMap");var xs=vs;function Ts(e,t){return(br(e)?Do:xs)(e,ms(t))}o(Ts,"map");var Cs=Ts;function bs(e,t){return Do(t,(function(t){return e[t]}))}o(bs,"baseValues");var ks=bs;function _s(e){return null==e?[]:ks(e,vn(e))}o(_s,"values");var Ss=_s;function As(e){return void 0===e}o(As,"isUndefined");var Es=As;function ws(e,t,r){for(var i=-1,n=e.length;++i<n;){var a=e[i],o=t(a);if(null!=o&&(void 0===s?o==o&&!wo(o):r(o,s)))var s=o,l=a}return l}o((function(e,t){var r={};return t=ms(t),$a(e,(function(e,i,n){Ft(r,i,t(e,i,n))})),r}),"mapValues"),o(ws,"baseExtremum");var Rs=ws;function $s(e,t){return e>t}o($s,"baseGt");var Ls=$s;function Is(e,t,r,i){if(!re(e))return e;for(var n=-1,a=(t=Vo(t,e)).length,o=a-1,s=e;null!=s&&++n<a;){var l=Yo(t[n]),c=r;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(n!=o){var u=s[l];void 0===(c=i?i(u,l,s):void 0)&&(c=re(u)?u:ui(t[n+1])?[]:{})}ii(s,l,c),s=s[l]}return e}o((function(e){return e&&e.length?Rs(e,wi,Ls):void 0}),"max"),o(Is,"baseSet");var Ns=Is;function Os(e,t,r){for(var i=-1,n=t.length,a={};++i<n;){var o=t[i],s=Jo(e,o);r(s,o)&&Ns(a,Vo(o,e),s)}return a}o(Os,"basePickBy");var Ms=Os;function Ps(e,t){return Ms(e,t,(function(t,r){return as(e,r)}))}o(Ps,"basePick");var Bs=Ps,Fs=j?j.isConcatSpreadable:void 0;function Ds(e){return br(e)||Cr(e)||!!(Fs&&e&&e[Fs])}o(Ds,"isFlattenable");var Us=Ds;function zs(e,t,r,i,n){var a=-1,o=e.length;for(r||(r=Us),n||(n=[]);++a<o;){var s=e[a];t>0&&r(s)?t>1?zs(s,t-1,r,i,n):Pn(n,s):i||(n[n.length]=s)}return n}o(zs,"baseFlatten");var js=zs;function Gs(e){return(null==e?0:e.length)?js(e,1):[]}o(Gs,"flatten");var Ws=Gs;function qs(e){return Fi(Ni(e,void 0,Ws),e+"")}function Hs(e,t,r,i){var n=-1,a=null==e?0:e.length;for(i&&a&&(r=e[++n]);++n<a;)r=t(r,e[n],n,e);return r}o(qs,"flatRest"),qs((function(e,t){return null==e?{}:Bs(e,t)})),o(Hs,"arrayReduce");var Vs=Hs;function Ks(e,t,r,i,n){return n(e,(function(e,n,a){r=i?(i=!1,e):t(r,e,n,a)})),r}o(Ks,"baseReduce");var Ys=Ks;function Xs(e,t,r){var i=br(e)?Vs:Ys,n=arguments.length<3;return i(e,ms(t),r,n,Ia)}o(Xs,"reduce");var Js=Xs;function Zs(e,t,r,i){for(var n=e.length,a=r+(i?1:-1);i?a--:++a<n;)if(t(e[a],a,e))return a;return-1}o(Zs,"baseFindIndex");var Qs=Zs;function el(e){return e!=e}o(el,"baseIsNaN");var tl=el;function rl(e,t,r){for(var i=r-1,n=e.length;++i<n;)if(e[i]===t)return i;return-1}o(rl,"strictIndexOf");var il=rl;function nl(e,t,r){return t==t?il(e,t,r):Qs(e,tl,r)}o(nl,"baseIndexOf");var al=nl;function ol(e,t){return!!(null==e?0:e.length)&&al(e,t,0)>-1}o(ol,"arrayIncludes");var sl=ol;function ll(e,t,r){for(var i=-1,n=null==e?0:e.length;++i<n;)if(r(t,e[i]))return!0;return!1}o(ll,"arrayIncludesWith");var cl=ll;function ul(){}o(ul,"noop");var hl=ul,dl=Qi&&1/eo(new Qi([,-0]))[1]==1/0?function(e){return new Qi(e)}:hl,fl=dl;function pl(e,t,r){var i=-1,n=sl,a=e.length,o=!0,s=[],l=s;if(r)o=!1,n=cl;else if(a>=200){var c=t?null:fl(e);if(c)return eo(c);o=!1,n=Ka,l=new Wa}else l=t?[]:s;e:for(;++i<a;){var u=e[i],h=t?t(u):u;if(u=r||0!==u?u:0,o&&h==h){for(var d=l.length;d--;)if(l[d]===h)continue e;t&&l.push(h),s.push(u)}else n(l,h,r)||(l!==s&&l.push(h),s.push(u))}return s}o(pl,"baseUniq");var ml=pl;Ui((function(e){return ml(js(e,1,wr,!0))}));var gl=/\s/;function yl(e){for(var t=e.length;t--&&gl.test(e.charAt(t)););return t}o(yl,"trimmedEndIndex");var vl=yl,xl=/^\s+/;function Tl(e){return e&&e.slice(0,vl(e)+1).replace(xl,"")}o(Tl,"baseTrim");var Cl=Tl,bl=/^[-+]0x[0-9a-f]+$/i,kl=/^0b[01]+$/i,_l=/^0o[0-7]+$/i,Sl=parseInt;function Al(e){if("number"==typeof e)return e;if(wo(e))return NaN;if(re(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=re(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Cl(e);var r=kl.test(e);return r||_l.test(e)?Sl(e.slice(2),r?2:8):bl.test(e)?NaN:+e}o(Al,"toNumber");var El=Al,wl=1/0;function Rl(e){return e?(e=El(e))===wl||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}o(Rl,"toFinite");var $l=Rl;function Ll(e){var t=$l(e),r=t%1;return t==t?r?t-r:t:0}o(Ll,"toInteger");var Il=Ll,Nl=Object.prototype.hasOwnProperty,Ol=Wi((function(e,t){if(ur(t)||Ar(t))ai(t,vn(t),e);else for(var r in t)Nl.call(t,r)&&ii(e,r,t[r])})),Ml=Ol;function Pl(e,t,r){var i=-1,n=e.length;t<0&&(t=-t>n?0:n+t),(r=r>n?n:r)<0&&(r+=n),n=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(n);++i<n;)a[i]=e[i+t];return a}o(Pl,"baseSlice");var Bl=Pl,Fl=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");function Dl(e){return Fl.test(e)}o(Dl,"hasUnicode");var Ul=Dl;function zl(e){for(var t=-1,r=null==e?0:e.length,i=0,n=[];++t<r;){var a=e[t];a&&(n[i++]=a)}return n}o((function(e){return Ta(e,5)}),"cloneDeep"),o(zl,"compact");var jl=zl;function Gl(e,t,r,i){for(var n=-1,a=null==e?0:e.length;++n<a;){var o=e[n];t(i,o,r(o),e)}return i}o(Gl,"arrayAggregator");var Wl=Gl;function ql(e,t,r,i){return Ia(e,(function(e,n,a){t(i,e,r(e),a)})),i}o(ql,"baseAggregator");var Hl=ql;function Vl(e,t){return function(r,i){var n=br(r)?Wl:Hl,a=t?t():{};return n(r,e,ms(i),a)}}o(Vl,"createAggregator");var Kl=Vl;o((function(){return z.Date.now()}),"now");function Yl(e,t,r,i){var n=-1,a=sl,o=!0,s=e.length,l=[],c=t.length;if(!s)return l;r&&(t=Do(t,Hr(r))),i?(a=cl,o=!1):t.length>=200&&(a=Ka,o=!1,t=new Wa(t));e:for(;++n<s;){var u=e[n],h=null==r?u:r(u);if(u=i||0!==u?u:0,o&&h==h){for(var d=c;d--;)if(t[d]===h)continue e;l.push(u)}else a(t,h,i)||l.push(u)}return l}o(Yl,"baseDifference");var Xl=Yl,Jl=Ui((function(e,t){return wr(e)?Xl(e,js(t,1,wr,!0)):[]})),Zl=Jl;function Ql(e,t,r){var i=null==e?0:e.length;return i?(t=r||void 0===t?1:Il(t),Bl(e,t<0?0:t,i)):[]}o(Ql,"drop");var ec=Ql;function tc(e,t,r){var i=null==e?0:e.length;return i?(t=r||void 0===t?1:Il(t),Bl(e,0,(t=i-t)<0?0:t)):[]}o(tc,"dropRight");var rc=tc;function ic(e,t){for(var r=-1,i=null==e?0:e.length;++r<i;)if(!t(e[r],r,e))return!1;return!0}o(ic,"arrayEvery");var nc=ic;function ac(e,t){var r=!0;return Ia(e,(function(e,i,n){return r=!!t(e,i,n)})),r}o(ac,"baseEvery");var oc=ac;function sc(e,t,r){var i=br(e)?nc:oc;return r&&ji(e,t,r)&&(t=void 0),i(e,ms(t))}o(sc,"every");var lc=sc;function cc(e){return function(t,r,i){var n=Object(t);if(!Ar(t)){var a=ms(r);t=vn(t),r=o((function(e){return a(n[e],e,n)}),"predicate")}var s=e(t,r,i);return s>-1?n[a?t[s]:s]:void 0}}o(cc,"createFind");var uc=cc,hc=Math.max;function dc(e,t,r){var i=null==e?0:e.length;if(!i)return-1;var n=null==r?0:Il(r);return n<0&&(n=hc(i+n,0)),Qs(e,ms(t),n)}o(dc,"findIndex");var fc=uc(dc);function pc(e){return e&&e.length?e[0]:void 0}o(pc,"head");var mc=pc;function gc(e,t){return js(Cs(e,t),1)}o(gc,"flatMap");var yc=gc;o((function(e,t){return null==e?e:jt(e,Oa(t),Ti)}),"forIn"),o((function(e,t){return e&&$a(e,Oa(t))}),"forOwn");var vc=Object.prototype.hasOwnProperty,xc=Kl((function(e,t,r){vc.call(e,r)?e[r].push(t):Ft(e,r,[t])})),Tc=xc,Cc=Object.prototype.hasOwnProperty;function bc(e,t){return null!=e&&Cc.call(e,t)}o(bc,"baseHas");var kc=bc;function _c(e,t){return null!=e&&is(e,t,kc)}o(_c,"has");var Sc=_c;function Ac(e){return"string"==typeof e||!br(e)&&pr(e)&&"[object String]"==ee(e)}o(Ac,"isString");var Ec=Ac,wc=Math.max;function Rc(e,t,r,i){e=Ar(e)?e:Ss(e),r=r&&!i?Il(r):0;var n=e.length;return r<0&&(r=wc(n+r,0)),Ec(e)?r<=n&&e.indexOf(t,r)>-1:!!n&&al(e,t,r)>-1}o(Rc,"includes");var $c=Rc,Lc=Math.max;function Ic(e,t,r){var i=null==e?0:e.length;if(!i)return-1;var n=null==r?0:Il(r);return n<0&&(n=Lc(i+n,0)),al(e,t,n)}o(Ic,"indexOf");var Nc=Ic;function Oc(e){return pr(e)&&"[object RegExp]"==ee(e)}o(Oc,"baseIsRegExp");var Mc=Oc,Pc=Xr&&Xr.isRegExp,Bc=Pc?Hr(Pc):Mc;function Fc(e,t){return e<t}o(Fc,"baseLt");var Dc=Fc;function Uc(e){return e&&e.length?Rs(e,wi,Dc):void 0}o(Uc,"min");var zc=Uc;o((function(e,t){return e&&e.length?Rs(e,ms(t),Dc):void 0}),"minBy");function jc(e){if("function"!=typeof e)throw new TypeError("Expected a function");return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}o(jc,"negate");var Gc=jc;function Wc(e,t){if(null==e)return{};var r=Do(Hn(e),(function(e){return[e]}));return t=ms(t),Ms(e,r,(function(e,r){return t(e,r[0])}))}o(Wc,"pickBy");var qc=Wc;function Hc(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}o(Hc,"baseSortBy");var Vc=Hc;function Kc(e,t){if(e!==t){var r=void 0!==e,i=null===e,n=e==e,a=wo(e),o=void 0!==t,s=null===t,l=t==t,c=wo(t);if(!s&&!c&&!a&&e>t||a&&o&&l&&!s&&!c||i&&o&&l||!r&&l||!n)return 1;if(!i&&!a&&!c&&e<t||c&&r&&n&&!i&&!a||s&&r&&n||!o&&n||!l)return-1}return 0}o(Kc,"compareAscending");var Yc=Kc;function Xc(e,t,r){for(var i=-1,n=e.criteria,a=t.criteria,o=n.length,s=r.length;++i<o;){var l=Yc(n[i],a[i]);if(l)return i>=s?l:l*("desc"==r[i]?-1:1)}return e.index-t.index}o(Xc,"compareMultiple");var Jc=Xc;function Zc(e,t,r){t=t.length?Do(t,(function(e){return br(e)?function(t){return Jo(t,1===e.length?e[0]:e)}:e})):[wi];var i=-1;t=Do(t,Hr(ms));var n=xs(e,(function(e,r,n){var a=Do(t,(function(t){return t(e)}));return{criteria:a,index:++i,value:e}}));return Vc(n,(function(e,t){return Jc(e,t,r)}))}o(Zc,"baseOrderBy");var Qc=Zc,eu=cs("length"),tu="\\ud800-\\udfff",ru="["+tu+"]",iu="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",nu="\\ud83c[\\udffb-\\udfff]",au="[^"+tu+"]",ou="(?:\\ud83c[\\udde6-\\uddff]){2}",su="[\\ud800-\\udbff][\\udc00-\\udfff]",lu="(?:"+iu+"|"+nu+")"+"?",cu="[\\ufe0e\\ufe0f]?",uu=cu+lu+("(?:\\u200d(?:"+[au,ou,su].join("|")+")"+cu+lu+")*"),hu="(?:"+[au+iu+"?",iu,ou,su,ru].join("|")+")",du=RegExp(nu+"(?="+nu+")|"+hu+uu,"g");function fu(e){for(var t=du.lastIndex=0;du.test(e);)++t;return t}o(fu,"unicodeSize");var pu=fu;function mu(e){return Ul(e)?pu(e):eu(e)}o(mu,"stringSize");var gu=mu,yu=Math.ceil,vu=Math.max;function xu(e,t,r,i){for(var n=-1,a=vu(yu((t-e)/(r||1)),0),o=Array(a);a--;)o[i?a:++n]=e,e+=r;return o}o(xu,"baseRange");var Tu=xu;function Cu(e,t){return(br(e)?An:Fa)(e,Gc(ms(t)))}o((function(e){return function(t,r,i){return i&&"number"!=typeof i&&ji(t,r,i)&&(r=i=void 0),t=$l(t),void 0===r?(r=t,t=0):r=$l(r),i=void 0===i?t<r?1:-1:$l(i),Tu(t,r,i,e)}}),"createRange"),o(Cu,"reject");var bu=Cu;function ku(e,t){var r;return Ia(e,(function(e,i,n){return!(r=t(e,i,n))})),!!r}o((function(e){if(null==e)return 0;if(Ar(e))return Ec(e)?gu(e):e.length;var t=fn(e);return"[object Map]"==t||"[object Set]"==t?e.size:Xi(e).length}),"size"),o(ku,"baseSome");var _u=ku;function Su(e,t,r){var i=br(e)?Ha:_u;return r&&ji(e,t,r)&&(t=void 0),i(e,ms(t))}o(Su,"some");var Au=Su;function Eu(e){return e&&e.length?ml(e):[]}Ui((function(e,t){if(null==e)return[];var r=t.length;return r>1&&ji(e,t[0],t[1])?t=[]:r>2&&ji(t[0],t[1],t[2])&&(t=[t[0]]),Qc(e,js(t,1),[])})),o(Eu,"uniq");var wu=Eu;function Ru(e,t){return e&&e.length?ml(e,ms(t)):[]}o(Ru,"uniqBy");var $u=Ru,Lu=0;function Iu(e,t,r){for(var i=-1,n=e.length,a=t.length,o={};++i<n;){var s=i<a?t[i]:void 0;r(o,e[i],s)}return o}o((function(e){var t=++Lu;return qo(e)+t}),"uniqueId"),o(Iu,"baseZipObject");var Nu=Iu;o((function(e,t){return Nu(e||[],t||[],ii)}),"zipObject");
/*! Bundled license information:

lodash-es/lodash.js:
  (**
   * @license
   * Lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="es" -o ./`
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/
var Ou=s((e=>{var t;function r(){if(void 0===t)throw new Error("No runtime abstraction layer installed");return t}Object.defineProperty(e,"__esModule",{value:!0}),o(r,"RAL"),function(e){function r(e){if(void 0===e)throw new Error("No runtime abstraction layer provided");t=e}o(r,"install"),e.install=r}(r||(r={})),e.default=r})),Mu=s((e=>{function t(e){return!0===e||!1===e}function r(e){return"string"==typeof e||e instanceof String}function i(e){return"number"==typeof e||e instanceof Number}function n(e){return e instanceof Error}function a(e){return"function"==typeof e}function s(e){return Array.isArray(e)}function l(e){return s(e)&&e.every((e=>r(e)))}Object.defineProperty(e,"__esModule",{value:!0}),e.stringArray=e.array=e.func=e.error=e.number=e.string=e.boolean=void 0,o(t,"boolean"),e.boolean=t,o(r,"string"),e.string=r,o(i,"number"),e.number=i,o(n,"error"),e.error=n,o(a,"func"),e.func=a,o(s,"array"),e.array=s,o(l,"stringArray"),e.stringArray=l})),Pu=s((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Emitter=e.Event=void 0;var t,r=Ou();!function(e){let t={dispose(){}};e.None=function(){return t}}(t||(e.Event=t={}));var i=class{static{o(this,"CallbackList")}add(e,t=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(r)&&r.push({dispose:o((()=>this.remove(e,t)),"dispose")})}remove(e,t=null){if(!this._callbacks)return;let r=!1;for(let i=0,n=this._callbacks.length;i<n;i++)if(this._callbacks[i]===e){if(this._contexts[i]===t)return this._callbacks.splice(i,1),void this._contexts.splice(i,1);r=!0}if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];let t=[],i=this._callbacks.slice(0),n=this._contexts.slice(0);for(let a=0,o=i.length;a<o;a++)try{t.push(i[a].apply(n[a],e))}catch(e){(0,r.default)().console.error(e)}return t}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}},n=class e{static{o(this,"Emitter")}constructor(e){this._options=e}get event(){return this._event||(this._event=(t,r,n)=>{this._callbacks||(this._callbacks=new i),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,r);let a={dispose:o((()=>{this._callbacks&&(this._callbacks.remove(t,r),a.dispose=e._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}),"dispose")};return Array.isArray(n)&&n.push(a),a}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};e.Emitter=n,n._noop=function(){}})),Bu=s((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0;var t,r=Ou(),i=Mu(),n=Pu();!function(e){function t(t){let r=t;return r&&(r===e.None||r===e.Cancelled||i.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:n.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:n.Event.None}),o(t,"is"),e.is=t}(t||(e.CancellationToken=t={}));var a=Object.freeze((function(e,t){let i=(0,r.default)().timer.setTimeout(e.bind(t),0);return{dispose(){i.dispose()}}})),s=class{static{o(this,"MutableToken")}constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?a:(this._emitter||(this._emitter=new n.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},l=class{static{o(this,"CancellationTokenSource")}get token(){return this._token||(this._token=new s),this._token}cancel(){this._token?this._token.cancel():this._token=t.Cancelled}dispose(){this._token?this._token instanceof s&&this._token.dispose():this._token=t.None}};e.CancellationTokenSource=l})),Fu={};l(Fu,{AbstractAstReflection:()=>Wu,AbstractCstNode:()=>jC,AbstractLangiumParser:()=>XC,AbstractParserErrorMessageProvider:()=>ZC,AbstractThreadedAsyncParser:()=>y_,AstUtils:()=>vf,BiMap:()=>rk,Cancellation:()=>Ab,CompositeCstNodeImpl:()=>WC,ContextCache:()=>ck,CstNodeBuilder:()=>zC,CstUtils:()=>Du,DEFAULT_TOKENIZE_OPTIONS:()=>Mk,DONE_RESULT:()=>Zu,DatatypeSymbol:()=>VC,DefaultAstNodeDescriptionProvider:()=>Sk,DefaultAstNodeLocator:()=>Ek,DefaultAsyncParser:()=>g_,DefaultCommentProvider:()=>m_,DefaultConfigurationProvider:()=>$k,DefaultDocumentBuilder:()=>Lk,DefaultDocumentValidator:()=>Ck,DefaultHydrator:()=>T_,DefaultIndexManager:()=>Ik,DefaultJsonSerializer:()=>gk,DefaultLangiumDocumentFactory:()=>Kb,DefaultLangiumDocuments:()=>Yb,DefaultLexer:()=>Pk,DefaultLexerErrorMessageProvider:()=>Ok,DefaultLinker:()=>Jb,DefaultNameProvider:()=>Qb,DefaultReferenceDescriptionProvider:()=>Ak,DefaultReferences:()=>ek,DefaultScopeComputation:()=>ik,DefaultScopeProvider:()=>dk,DefaultServiceRegistry:()=>yk,DefaultTokenBuilder:()=>_b,DefaultValueConverter:()=>Sb,DefaultWorkspaceLock:()=>x_,DefaultWorkspaceManager:()=>Nk,Deferred:()=>Bb,Disposable:()=>Rk,DisposableCache:()=>sk,DocumentCache:()=>uk,DocumentState:()=>qb,DocumentValidator:()=>xk,EMPTY_SCOPE:()=>ok,EMPTY_STREAM:()=>Ju,EmptyFileSystem:()=>P_,EmptyFileSystemProvider:()=>M_,ErrorWithLocation:()=>Sh,GrammarAST:()=>Eh,GrammarUtils:()=>_h,IndentationAwareLexer:()=>N_,IndentationAwareTokenBuilder:()=>I_,JSDocDocumentationProvider:()=>p_,LangiumCompletionParser:()=>eb,LangiumParser:()=>JC,LangiumParserErrorMessageProvider:()=>QC,LeafCstNodeImpl:()=>GC,LexingMode:()=>$_,MapScope:()=>ak,Module:()=>f_,MultiMap:()=>tk,OperationCancelled:()=>Ib,ParserWorker:()=>v_,Reduction:()=>eh,RegExpUtils:()=>Nf,RootCstNodeImpl:()=>HC,SimpleCache:()=>lk,StreamImpl:()=>Ku,StreamScope:()=>nk,TextDocument:()=>Mb,TreeStreamImpl:()=>ih,URI:()=>Hb,UriUtils:()=>Wb,ValidationCategory:()=>mk,ValidationRegistry:()=>Tk,ValueConverter:()=>kb,WorkspaceCache:()=>hk,assertUnreachable:()=>Ah,createCompletionParser:()=>Tb,createDefaultCoreModule:()=>C_,createDefaultSharedCoreModule:()=>b_,createGrammarConfig:()=>Wp,createLangiumParser:()=>Cb,createParser:()=>ib,delayNextTick:()=>Eb,diagnosticData:()=>vk,eagerLoad:()=>S_,getDiagnosticRange:()=>bk,indentationBuilderDefaultOptions:()=>L_,inject:()=>k_,interruptAndCheck:()=>Ob,isAstNode:()=>Uu,isAstNodeDescription:()=>ju,isAstNodeWithComment:()=>fk,isCompositeCstNode:()=>qu,isIMultiModeLexerDefinition:()=>Fk,isJSDoc:()=>zk,isLeafCstNode:()=>Hu,isLinkingError:()=>Gu,isNamed:()=>Zb,isOperationCancelled:()=>Nb,isReference:()=>zu,isRootCstNode:()=>Vu,isTokenTypeArray:()=>Bk,isTokenTypeDictionary:()=>Dk,loadGrammarFromJson:()=>U_,parseJSDoc:()=>Uk,prepareLangiumParser:()=>bb,setInterruptionPeriod:()=>Lb,startCancelableOperation:()=>$b,stream:()=>Qu,toDiagnosticData:()=>_k,toDiagnosticSeverity:()=>kk});var Du={};function Uu(e){return"object"==typeof e&&null!==e&&"string"==typeof e.$type}function zu(e){return"object"==typeof e&&null!==e&&"string"==typeof e.$refText}function ju(e){return"object"==typeof e&&null!==e&&"string"==typeof e.name&&"string"==typeof e.type&&"string"==typeof e.path}function Gu(e){return"object"==typeof e&&null!==e&&Uu(e.container)&&zu(e.reference)&&"string"==typeof e.message}l(Du,{DefaultNameRegexp:()=>hh,RangeComparison:()=>th,compareRange:()=>ch,findCommentNode:()=>fh,findDeclarationNodeAtOffset:()=>dh,findLeafNodeAtOffset:()=>mh,findLeafNodeBeforeOffset:()=>gh,flattenCst:()=>ah,getInteriorNodes:()=>Ch,getNextNode:()=>xh,getPreviousNode:()=>vh,getStartlineNode:()=>Th,inRange:()=>uh,isChildNode:()=>oh,isCommentNode:()=>ph,streamCst:()=>nh,toDocumentSegment:()=>lh,tokenToRange:()=>sh}),o(Uu,"isAstNode"),o(zu,"isReference"),o(ju,"isAstNodeDescription"),o(Gu,"isLinkingError");var Wu=class{static{o(this,"AbstractAstReflection")}constructor(){this.subtypes={},this.allSubtypes={}}isInstance(e,t){return Uu(e)&&this.isSubtype(e.$type,t)}isSubtype(e,t){if(e===t)return!0;let r=this.subtypes[e];r||(r=this.subtypes[e]={});let i=r[t];if(void 0!==i)return i;{let i=this.computeIsSubtype(e,t);return r[t]=i,i}}getAllSubTypes(e){let t=this.allSubtypes[e];if(t)return t;{let t=this.getAllTypes(),r=[];for(let i of t)this.isSubtype(i,e)&&r.push(i);return this.allSubtypes[e]=r,r}}};function qu(e){return"object"==typeof e&&null!==e&&Array.isArray(e.content)}function Hu(e){return"object"==typeof e&&null!==e&&"object"==typeof e.tokenType}function Vu(e){return qu(e)&&"string"==typeof e.fullText}o(qu,"isCompositeCstNode"),o(Hu,"isLeafCstNode"),o(Vu,"isRootCstNode");var Ku=class e{static{o(this,"StreamImpl")}constructor(e,t){this.startFn=e,this.nextFn=t}iterator(){let e={state:this.startFn(),next:o((()=>this.nextFn(e.state)),"next"),[Symbol.iterator]:()=>e};return e}[Symbol.iterator](){return this.iterator()}isEmpty(){return!!this.iterator().next().done}count(){let e=this.iterator(),t=0,r=e.next();for(;!r.done;)t++,r=e.next();return t}toArray(){let e,t=[],r=this.iterator();do{e=r.next(),void 0!==e.value&&t.push(e.value)}while(!e.done);return t}toSet(){return new Set(this)}toMap(e,t){let r=this.map((r=>[e?e(r):r,t?t(r):r]));return new Map(r)}toString(){return this.join()}concat(t){return new e((()=>({first:this.startFn(),firstDone:!1,iterator:t[Symbol.iterator]()})),(e=>{let t;if(!e.firstDone){do{if(t=this.nextFn(e.first),!t.done)return t}while(!t.done);e.firstDone=!0}do{if(t=e.iterator.next(),!t.done)return t}while(!t.done);return Zu}))}join(e=","){let t,r=this.iterator(),i="",n=!1;do{t=r.next(),t.done||(n&&(i+=e),i+=Yu(t.value)),n=!0}while(!t.done);return i}indexOf(e,t=0){let r=this.iterator(),i=0,n=r.next();for(;!n.done;){if(i>=t&&n.value===e)return i;n=r.next(),i++}return-1}every(e){let t=this.iterator(),r=t.next();for(;!r.done;){if(!e(r.value))return!1;r=t.next()}return!0}some(e){let t=this.iterator(),r=t.next();for(;!r.done;){if(e(r.value))return!0;r=t.next()}return!1}forEach(e){let t=this.iterator(),r=0,i=t.next();for(;!i.done;)e(i.value,r),i=t.next(),r++}map(t){return new e(this.startFn,(e=>{let{done:r,value:i}=this.nextFn(e);return r?Zu:{done:!1,value:t(i)}}))}filter(t){return new e(this.startFn,(e=>{let r;do{if(r=this.nextFn(e),!r.done&&t(r.value))return r}while(!r.done);return Zu}))}nonNullable(){return this.filter((e=>null!=e))}reduce(e,t){let r=this.iterator(),i=t,n=r.next();for(;!n.done;)i=void 0===i?n.value:e(i,n.value),n=r.next();return i}reduceRight(e,t){return this.recursiveReduce(this.iterator(),e,t)}recursiveReduce(e,t,r){let i=e.next();if(i.done)return r;let n=this.recursiveReduce(e,t,r);return void 0===n?i.value:t(n,i.value)}find(e){let t=this.iterator(),r=t.next();for(;!r.done;){if(e(r.value))return r.value;r=t.next()}}findIndex(e){let t=this.iterator(),r=0,i=t.next();for(;!i.done;){if(e(i.value))return r;i=t.next(),r++}return-1}includes(e){let t=this.iterator(),r=t.next();for(;!r.done;){if(r.value===e)return!0;r=t.next()}return!1}flatMap(t){return new e((()=>({this:this.startFn()})),(e=>{do{if(e.iterator){let t=e.iterator.next();if(!t.done)return t;e.iterator=void 0}let{done:r,value:i}=this.nextFn(e.this);if(!r){let r=t(i);if(!Xu(r))return{done:!1,value:r};e.iterator=r[Symbol.iterator]()}}while(e.iterator);return Zu}))}flat(t){if(void 0===t&&(t=1),t<=0)return this;let r=t>1?this.flat(t-1):this;return new e((()=>({this:r.startFn()})),(e=>{do{if(e.iterator){let t=e.iterator.next();if(!t.done)return t;e.iterator=void 0}let{done:t,value:i}=r.nextFn(e.this);if(!t){if(!Xu(i))return{done:!1,value:i};e.iterator=i[Symbol.iterator]()}}while(e.iterator);return Zu}))}head(){let e=this.iterator().next();if(!e.done)return e.value}tail(t=1){return new e((()=>{let e=this.startFn();for(let r=0;r<t;r++)if(this.nextFn(e).done)return e;return e}),this.nextFn)}limit(t){return new e((()=>({size:0,state:this.startFn()})),(e=>(e.size++,e.size>t?Zu:this.nextFn(e.state))))}distinct(t){return new e((()=>({set:new Set,internalState:this.startFn()})),(e=>{let r;do{if(r=this.nextFn(e.internalState),!r.done){let i=t?t(r.value):r.value;if(!e.set.has(i))return e.set.add(i),r}}while(!r.done);return Zu}))}exclude(e,t){let r=new Set;for(let i of e){let e=t?t(i):i;r.add(e)}return this.filter((e=>{let i=t?t(e):e;return!r.has(i)}))}};function Yu(e){return"string"==typeof e?e:typeof e>"u"?"undefined":"function"==typeof e.toString?e.toString():Object.prototype.toString.call(e)}function Xu(e){return!!e&&"function"==typeof e[Symbol.iterator]}o(Yu,"toString"),o(Xu,"isIterable");var Ju=new Ku((()=>{}),(()=>Zu)),Zu=Object.freeze({done:!0,value:void 0});function Qu(...e){if(1===e.length){let t=e[0];if(t instanceof Ku)return t;if(Xu(t))return new Ku((()=>t[Symbol.iterator]()),(e=>e.next()));if("number"==typeof t.length)return new Ku((()=>({index:0})),(e=>e.index<t.length?{done:!1,value:t[e.index++]}:Zu))}return e.length>1?new Ku((()=>({collIndex:0,arrIndex:0})),(t=>{do{if(t.iterator){let e=t.iterator.next();if(!e.done)return e;t.iterator=void 0}if(t.array){if(t.arrIndex<t.array.length)return{done:!1,value:t.array[t.arrIndex++]};t.array=void 0,t.arrIndex=0}if(t.collIndex<e.length){let r=e[t.collIndex++];Xu(r)?t.iterator=r[Symbol.iterator]():r&&"number"==typeof r.length&&(t.array=r)}}while(t.iterator||t.array||t.collIndex<e.length);return Zu})):Ju}o(Qu,"stream");var eh,th,rh,ih=class extends Ku{static{o(this,"TreeStreamImpl")}constructor(e,t,r){super((()=>({iterators:r?.includeRoot?[[e][Symbol.iterator]()]:[t(e)[Symbol.iterator]()],pruned:!1})),(e=>{for(e.pruned&&(e.iterators.pop(),e.pruned=!1);e.iterators.length>0;){let r=e.iterators[e.iterators.length-1].next();if(!r.done)return e.iterators.push(t(r.value)[Symbol.iterator]()),r;e.iterators.pop()}return Zu}))}iterator(){let e={state:this.startFn(),next:o((()=>this.nextFn(e.state)),"next"),prune:o((()=>{e.state.pruned=!0}),"prune"),[Symbol.iterator]:()=>e};return e}};function nh(e){return new ih(e,(e=>qu(e)?e.content:[]),{includeRoot:!0})}function ah(e){return nh(e).filter(Hu)}function oh(e,t){for(;e.container;)if((e=e.container)===t)return!0;return!1}function sh(e){return{start:{character:e.startColumn-1,line:e.startLine-1},end:{character:e.endColumn,line:e.endLine-1}}}function lh(e){if(!e)return;let{offset:t,end:r,range:i}=e;return{range:i,offset:t,end:r,length:r-t}}function ch(e,t){if(e.end.line<t.start.line||e.end.line===t.start.line&&e.end.character<=t.start.character)return th.Before;if(e.start.line>t.end.line||e.start.line===t.end.line&&e.start.character>=t.end.character)return th.After;let r=e.start.line>t.start.line||e.start.line===t.start.line&&e.start.character>=t.start.character,i=e.end.line<t.end.line||e.end.line===t.end.line&&e.end.character<=t.end.character;return r&&i?th.Inside:r?th.OverlapBack:i?th.OverlapFront:th.Outside}function uh(e,t){return ch(e,t)>th.After}!function(e){function t(e){return e.reduce(((e,t)=>e+t),0)}function r(e){return e.reduce(((e,t)=>e*t),0)}function i(e){return e.reduce(((e,t)=>Math.min(e,t)))}function n(e){return e.reduce(((e,t)=>Math.max(e,t)))}o(t,"sum"),e.sum=t,o(r,"product"),e.product=r,o(i,"min"),e.min=i,o(n,"max"),e.max=n}(eh||(eh={})),o(nh,"streamCst"),o(ah,"flattenCst"),o(oh,"isChildNode"),o(sh,"tokenToRange"),o(lh,"toDocumentSegment"),(rh=th||(th={}))[rh.Before=0]="Before",rh[rh.After=1]="After",rh[rh.OverlapFront=2]="OverlapFront",rh[rh.OverlapBack=3]="OverlapBack",rh[rh.Inside=4]="Inside",rh[rh.Outside=5]="Outside",o(ch,"compareRange"),o(uh,"inRange");var hh=/^[\w\p{L}]$/u;function dh(e,t,r=hh){if(e){if(t>0){let i=t-e.offset,n=e.text.charAt(i);r.test(n)||t--}return mh(e,t)}}function fh(e,t){if(e){let r=vh(e,!0);if(r&&ph(r,t))return r;if(Vu(e)){let r=e.content.findIndex((e=>!e.hidden));for(let i=r-1;i>=0;i--){let r=e.content[i];if(ph(r,t))return r}}}}function ph(e,t){return Hu(e)&&t.includes(e.tokenType.name)}function mh(e,t){if(Hu(e))return e;if(qu(e)){let r=yh(e,t,!1);if(r)return mh(r,t)}}function gh(e,t){if(Hu(e))return e;if(qu(e)){let r=yh(e,t,!0);if(r)return gh(r,t)}}function yh(e,t,r){let i,n=0,a=e.content.length-1;for(;n<=a;){let o=Math.floor((n+a)/2),s=e.content[o];if(s.offset<=t&&s.end>t)return s;s.end<=t?(i=r?s:void 0,n=o+1):a=o-1}return i}function vh(e,t=!0){for(;e.container;){let r=e.container,i=r.content.indexOf(e);for(;i>0;){i--;let e=r.content[i];if(t||!e.hidden)return e}e=r}}function xh(e,t=!0){for(;e.container;){let r=e.container,i=r.content.indexOf(e),n=r.content.length-1;for(;i<n;){i++;let e=r.content[i];if(t||!e.hidden)return e}e=r}}function Th(e){if(0===e.range.start.character)return e;let t,r=e.range.start.line,i=e;for(;e.container;){let n=e.container,a=t??n.content.indexOf(e);if(0===a?(e=n,t=void 0):(t=a-1,e=n.content[t]),e.range.start.line!==r)break;i=e}return i}function Ch(e,t){let r=bh(e,t);return r?r.parent.content.slice(r.a+1,r.b):[]}function bh(e,t){let r,i=kh(e),n=kh(t);for(let e=0;e<i.length&&e<n.length;e++){let t=i[e],a=n[e];if(t.parent!==a.parent)break;r={parent:t.parent,a:t.index,b:a.index}}return r}function kh(e){let t=[];for(;e.container;){let r=e.container,i=r.content.indexOf(e);t.push({parent:r,index:i}),e=r}return t.reverse()}o(dh,"findDeclarationNodeAtOffset"),o(fh,"findCommentNode"),o(ph,"isCommentNode"),o(mh,"findLeafNodeAtOffset"),o(gh,"findLeafNodeBeforeOffset"),o(yh,"binarySearch"),o(vh,"getPreviousNode"),o(xh,"getNextNode"),o(Th,"getStartlineNode"),o(Ch,"getInteriorNodes"),o(bh,"getCommonParent"),o(kh,"getParentChain");var _h={};l(_h,{findAssignment:()=>vp,findNameAssignment:()=>xp,findNodeForKeyword:()=>gp,findNodeForProperty:()=>fp,findNodesForKeyword:()=>mp,findNodesForKeywordInternal:()=>yp,findNodesForProperty:()=>dp,getActionAtElement:()=>Cp,getActionType:()=>Lp,getAllReachableRules:()=>lp,getCrossReferenceTerminal:()=>up,getEntryRule:()=>op,getExplicitRuleType:()=>Rp,getHiddenRules:()=>sp,getRuleType:()=>Np,getRuleTypeName:()=>Ip,getTypeName:()=>$p,isArrayCardinality:()=>kp,isArrayOperator:()=>_p,isCommentTerminal:()=>hp,isDataType:()=>Ep,isDataTypeRule:()=>Sp,isOptionalCardinality:()=>bp,terminalRegex:()=>Op});var Sh=class extends Error{static{o(this,"ErrorWithLocation")}constructor(e,t){super(e?`${t} at ${e.range.start.line}:${e.range.start.character}`:t)}};function Ah(e){throw new Error("Error! The input value was not handled.")}o(Ah,"assertUnreachable");var Eh={};l(Eh,{AbstractElement:()=>zh,AbstractRule:()=>Rh,AbstractType:()=>Lh,Action:()=>Md,Alternatives:()=>Bd,ArrayLiteral:()=>Gh,ArrayType:()=>qh,Assignment:()=>Dd,BooleanLiteral:()=>Vh,CharacterRange:()=>zd,Condition:()=>Nh,Conjunction:()=>Yh,CrossReference:()=>Gd,Disjunction:()=>Jh,EndOfFile:()=>qd,Grammar:()=>Qh,GrammarImport:()=>td,Group:()=>Vd,InferredType:()=>id,Interface:()=>ad,Keyword:()=>Yd,LangiumGrammarAstReflection:()=>gf,LangiumGrammarTerminals:()=>wh,NamedArgument:()=>sd,NegatedToken:()=>Jd,Negation:()=>cd,NumberLiteral:()=>hd,Parameter:()=>fd,ParameterReference:()=>md,ParserRule:()=>yd,ReferenceType:()=>xd,RegexToken:()=>Qd,ReturnType:()=>Cd,RuleCall:()=>tf,SimpleType:()=>kd,StringLiteral:()=>Sd,TerminalAlternatives:()=>nf,TerminalGroup:()=>of,TerminalRule:()=>Ed,TerminalRuleCall:()=>lf,Type:()=>Rd,TypeAttribute:()=>Ld,TypeDefinition:()=>Bh,UnionType:()=>Nd,UnorderedGroup:()=>uf,UntilToken:()=>df,ValueLiteral:()=>Dh,Wildcard:()=>pf,isAbstractElement:()=>jh,isAbstractRule:()=>$h,isAbstractType:()=>Ih,isAction:()=>Pd,isAlternatives:()=>Fd,isArrayLiteral:()=>Wh,isArrayType:()=>Hh,isAssignment:()=>Ud,isBooleanLiteral:()=>Kh,isCharacterRange:()=>jd,isCondition:()=>Oh,isConjunction:()=>Xh,isCrossReference:()=>Wd,isDisjunction:()=>Zh,isEndOfFile:()=>Hd,isFeatureName:()=>Mh,isGrammar:()=>ed,isGrammarImport:()=>rd,isGroup:()=>Kd,isInferredType:()=>nd,isInterface:()=>od,isKeyword:()=>Xd,isNamedArgument:()=>ld,isNegatedToken:()=>Zd,isNegation:()=>ud,isNumberLiteral:()=>dd,isParameter:()=>pd,isParameterReference:()=>gd,isParserRule:()=>vd,isPrimitiveType:()=>Ph,isReferenceType:()=>Td,isRegexToken:()=>ef,isReturnType:()=>bd,isRuleCall:()=>rf,isSimpleType:()=>_d,isStringLiteral:()=>Ad,isTerminalAlternatives:()=>af,isTerminalGroup:()=>sf,isTerminalRule:()=>wd,isTerminalRuleCall:()=>cf,isType:()=>$d,isTypeAttribute:()=>Id,isTypeDefinition:()=>Fh,isUnionType:()=>Od,isUnorderedGroup:()=>hf,isUntilToken:()=>ff,isValueLiteral:()=>Uh,isWildcard:()=>mf,reflection:()=>yf});var wh={ID:/\^?[_a-zA-Z][\w_]*/,STRING:/"(\\.|[^"\\])*"|'(\\.|[^'\\])*'/,NUMBER:/NaN|-?((\d*\.\d+|\d+)([Ee][+-]?\d+)?|Infinity)/,RegexLiteral:/\/(?![*+?])(?:[^\r\n\[/\\]|\\.|\[(?:[^\r\n\]\\]|\\.)*\])+\/[a-z]*/,WS:/\s+/,ML_COMMENT:/\/\*[\s\S]*?\*\//,SL_COMMENT:/\/\/[^\n\r]*/},Rh="AbstractRule";function $h(e){return yf.isInstance(e,Rh)}o($h,"isAbstractRule");var Lh="AbstractType";function Ih(e){return yf.isInstance(e,Lh)}o(Ih,"isAbstractType");var Nh="Condition";function Oh(e){return yf.isInstance(e,Nh)}function Mh(e){return Ph(e)||"current"===e||"entry"===e||"extends"===e||"false"===e||"fragment"===e||"grammar"===e||"hidden"===e||"import"===e||"interface"===e||"returns"===e||"terminal"===e||"true"===e||"type"===e||"infer"===e||"infers"===e||"with"===e||"string"==typeof e&&/\^?[_a-zA-Z][\w_]*/.test(e)}function Ph(e){return"string"===e||"number"===e||"boolean"===e||"Date"===e||"bigint"===e}o(Oh,"isCondition"),o(Mh,"isFeatureName"),o(Ph,"isPrimitiveType");var Bh="TypeDefinition";function Fh(e){return yf.isInstance(e,Bh)}o(Fh,"isTypeDefinition");var Dh="ValueLiteral";function Uh(e){return yf.isInstance(e,Dh)}o(Uh,"isValueLiteral");var zh="AbstractElement";function jh(e){return yf.isInstance(e,zh)}o(jh,"isAbstractElement");var Gh="ArrayLiteral";function Wh(e){return yf.isInstance(e,Gh)}o(Wh,"isArrayLiteral");var qh="ArrayType";function Hh(e){return yf.isInstance(e,qh)}o(Hh,"isArrayType");var Vh="BooleanLiteral";function Kh(e){return yf.isInstance(e,Vh)}o(Kh,"isBooleanLiteral");var Yh="Conjunction";function Xh(e){return yf.isInstance(e,Yh)}o(Xh,"isConjunction");var Jh="Disjunction";function Zh(e){return yf.isInstance(e,Jh)}o(Zh,"isDisjunction");var Qh="Grammar";function ed(e){return yf.isInstance(e,Qh)}o(ed,"isGrammar");var td="GrammarImport";function rd(e){return yf.isInstance(e,td)}o(rd,"isGrammarImport");var id="InferredType";function nd(e){return yf.isInstance(e,id)}o(nd,"isInferredType");var ad="Interface";function od(e){return yf.isInstance(e,ad)}o(od,"isInterface");var sd="NamedArgument";function ld(e){return yf.isInstance(e,sd)}o(ld,"isNamedArgument");var cd="Negation";function ud(e){return yf.isInstance(e,cd)}o(ud,"isNegation");var hd="NumberLiteral";function dd(e){return yf.isInstance(e,hd)}o(dd,"isNumberLiteral");var fd="Parameter";function pd(e){return yf.isInstance(e,fd)}o(pd,"isParameter");var md="ParameterReference";function gd(e){return yf.isInstance(e,md)}o(gd,"isParameterReference");var yd="ParserRule";function vd(e){return yf.isInstance(e,yd)}o(vd,"isParserRule");var xd="ReferenceType";function Td(e){return yf.isInstance(e,xd)}o(Td,"isReferenceType");var Cd="ReturnType";function bd(e){return yf.isInstance(e,Cd)}o(bd,"isReturnType");var kd="SimpleType";function _d(e){return yf.isInstance(e,kd)}o(_d,"isSimpleType");var Sd="StringLiteral";function Ad(e){return yf.isInstance(e,Sd)}o(Ad,"isStringLiteral");var Ed="TerminalRule";function wd(e){return yf.isInstance(e,Ed)}o(wd,"isTerminalRule");var Rd="Type";function $d(e){return yf.isInstance(e,Rd)}o($d,"isType");var Ld="TypeAttribute";function Id(e){return yf.isInstance(e,Ld)}o(Id,"isTypeAttribute");var Nd="UnionType";function Od(e){return yf.isInstance(e,Nd)}o(Od,"isUnionType");var Md="Action";function Pd(e){return yf.isInstance(e,Md)}o(Pd,"isAction");var Bd="Alternatives";function Fd(e){return yf.isInstance(e,Bd)}o(Fd,"isAlternatives");var Dd="Assignment";function Ud(e){return yf.isInstance(e,Dd)}o(Ud,"isAssignment");var zd="CharacterRange";function jd(e){return yf.isInstance(e,zd)}o(jd,"isCharacterRange");var Gd="CrossReference";function Wd(e){return yf.isInstance(e,Gd)}o(Wd,"isCrossReference");var qd="EndOfFile";function Hd(e){return yf.isInstance(e,qd)}o(Hd,"isEndOfFile");var Vd="Group";function Kd(e){return yf.isInstance(e,Vd)}o(Kd,"isGroup");var Yd="Keyword";function Xd(e){return yf.isInstance(e,Yd)}o(Xd,"isKeyword");var Jd="NegatedToken";function Zd(e){return yf.isInstance(e,Jd)}o(Zd,"isNegatedToken");var Qd="RegexToken";function ef(e){return yf.isInstance(e,Qd)}o(ef,"isRegexToken");var tf="RuleCall";function rf(e){return yf.isInstance(e,tf)}o(rf,"isRuleCall");var nf="TerminalAlternatives";function af(e){return yf.isInstance(e,nf)}o(af,"isTerminalAlternatives");var of="TerminalGroup";function sf(e){return yf.isInstance(e,of)}o(sf,"isTerminalGroup");var lf="TerminalRuleCall";function cf(e){return yf.isInstance(e,lf)}o(cf,"isTerminalRuleCall");var uf="UnorderedGroup";function hf(e){return yf.isInstance(e,uf)}o(hf,"isUnorderedGroup");var df="UntilToken";function ff(e){return yf.isInstance(e,df)}o(ff,"isUntilToken");var pf="Wildcard";function mf(e){return yf.isInstance(e,pf)}o(mf,"isWildcard");var gf=class extends Wu{static{o(this,"LangiumGrammarAstReflection")}getAllTypes(){return[zh,Rh,Lh,Md,Bd,Gh,qh,Dd,Vh,zd,Nh,Yh,Gd,Jh,qd,Qh,td,Vd,id,ad,Yd,sd,Jd,cd,hd,fd,md,yd,xd,Qd,Cd,tf,kd,Sd,nf,of,Ed,lf,Rd,Ld,Bh,Nd,uf,df,Dh,pf]}computeIsSubtype(e,t){switch(e){case Md:case Bd:case Dd:case zd:case Gd:case qd:case Vd:case Yd:case Jd:case Qd:case tf:case nf:case of:case lf:case uf:case df:case pf:return this.isSubtype(zh,t);case Gh:case hd:case Sd:return this.isSubtype(Dh,t);case qh:case xd:case kd:case Nd:return this.isSubtype(Bh,t);case Vh:return this.isSubtype(Nh,t)||this.isSubtype(Dh,t);case Yh:case Jh:case cd:case md:return this.isSubtype(Nh,t);case id:case ad:case Rd:return this.isSubtype(Lh,t);case yd:return this.isSubtype(Rh,t)||this.isSubtype(Lh,t);case Ed:return this.isSubtype(Rh,t);default:return!1}}getReferenceType(e){let t=`${e.container.$type}:${e.property}`;switch(t){case"Action:type":case"CrossReference:type":case"Interface:superTypes":case"ParserRule:returnType":case"SimpleType:typeRef":return Lh;case"Grammar:hiddenTokens":case"ParserRule:hiddenTokens":case"RuleCall:rule":return Rh;case"Grammar:usedGrammars":return Qh;case"NamedArgument:parameter":case"ParameterReference:parameter":return fd;case"TerminalRuleCall:rule":return Ed;default:throw new Error(`${t} is not a valid reference id.`)}}getTypeMetaData(e){switch(e){case zh:return{name:zh,properties:[{name:"cardinality"},{name:"lookahead"}]};case Gh:return{name:Gh,properties:[{name:"elements",defaultValue:[]}]};case qh:return{name:qh,properties:[{name:"elementType"}]};case Vh:return{name:Vh,properties:[{name:"true",defaultValue:!1}]};case Yh:return{name:Yh,properties:[{name:"left"},{name:"right"}]};case Jh:return{name:Jh,properties:[{name:"left"},{name:"right"}]};case Qh:return{name:Qh,properties:[{name:"definesHiddenTokens",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"imports",defaultValue:[]},{name:"interfaces",defaultValue:[]},{name:"isDeclared",defaultValue:!1},{name:"name"},{name:"rules",defaultValue:[]},{name:"types",defaultValue:[]},{name:"usedGrammars",defaultValue:[]}]};case td:return{name:td,properties:[{name:"path"}]};case id:return{name:id,properties:[{name:"name"}]};case ad:return{name:ad,properties:[{name:"attributes",defaultValue:[]},{name:"name"},{name:"superTypes",defaultValue:[]}]};case sd:return{name:sd,properties:[{name:"calledByName",defaultValue:!1},{name:"parameter"},{name:"value"}]};case cd:return{name:cd,properties:[{name:"value"}]};case hd:return{name:hd,properties:[{name:"value"}]};case fd:return{name:fd,properties:[{name:"name"}]};case md:return{name:md,properties:[{name:"parameter"}]};case yd:return{name:yd,properties:[{name:"dataType"},{name:"definesHiddenTokens",defaultValue:!1},{name:"definition"},{name:"entry",defaultValue:!1},{name:"fragment",defaultValue:!1},{name:"hiddenTokens",defaultValue:[]},{name:"inferredType"},{name:"name"},{name:"parameters",defaultValue:[]},{name:"returnType"},{name:"wildcard",defaultValue:!1}]};case xd:return{name:xd,properties:[{name:"referenceType"}]};case Cd:return{name:Cd,properties:[{name:"name"}]};case kd:return{name:kd,properties:[{name:"primitiveType"},{name:"stringType"},{name:"typeRef"}]};case Sd:return{name:Sd,properties:[{name:"value"}]};case Ed:return{name:Ed,properties:[{name:"definition"},{name:"fragment",defaultValue:!1},{name:"hidden",defaultValue:!1},{name:"name"},{name:"type"}]};case Rd:return{name:Rd,properties:[{name:"name"},{name:"type"}]};case Ld:return{name:Ld,properties:[{name:"defaultValue"},{name:"isOptional",defaultValue:!1},{name:"name"},{name:"type"}]};case Nd:return{name:Nd,properties:[{name:"types",defaultValue:[]}]};case Md:return{name:Md,properties:[{name:"cardinality"},{name:"feature"},{name:"inferredType"},{name:"lookahead"},{name:"operator"},{name:"type"}]};case Bd:return{name:Bd,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case Dd:return{name:Dd,properties:[{name:"cardinality"},{name:"feature"},{name:"lookahead"},{name:"operator"},{name:"terminal"}]};case zd:return{name:zd,properties:[{name:"cardinality"},{name:"left"},{name:"lookahead"},{name:"right"}]};case Gd:return{name:Gd,properties:[{name:"cardinality"},{name:"deprecatedSyntax",defaultValue:!1},{name:"lookahead"},{name:"terminal"},{name:"type"}]};case qd:return{name:qd,properties:[{name:"cardinality"},{name:"lookahead"}]};case Vd:return{name:Vd,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"guardCondition"},{name:"lookahead"}]};case Yd:return{name:Yd,properties:[{name:"cardinality"},{name:"lookahead"},{name:"value"}]};case Jd:return{name:Jd,properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case Qd:return{name:Qd,properties:[{name:"cardinality"},{name:"lookahead"},{name:"regex"}]};case tf:return{name:tf,properties:[{name:"arguments",defaultValue:[]},{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case nf:return{name:nf,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case of:return{name:of,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case lf:return{name:lf,properties:[{name:"cardinality"},{name:"lookahead"},{name:"rule"}]};case uf:return{name:uf,properties:[{name:"cardinality"},{name:"elements",defaultValue:[]},{name:"lookahead"}]};case df:return{name:df,properties:[{name:"cardinality"},{name:"lookahead"},{name:"terminal"}]};case pf:return{name:pf,properties:[{name:"cardinality"},{name:"lookahead"}]};default:return{name:e,properties:[]}}}},yf=new gf,vf={};function xf(e){for(let[t,r]of Object.entries(e))t.startsWith("$")||(Array.isArray(r)?r.forEach(((r,i)=>{Uu(r)&&(r.$container=e,r.$containerProperty=t,r.$containerIndex=i)})):Uu(r)&&(r.$container=e,r.$containerProperty=t))}function Tf(e,t){let r=e;for(;r;){if(t(r))return r;r=r.$container}}function Cf(e,t){let r=e;for(;r;){if(t(r))return!0;r=r.$container}return!1}function bf(e){let t=kf(e).$document;if(!t)throw new Error("AST node has no document.");return t}function kf(e){for(;e.$container;)e=e.$container;return e}function _f(e,t){if(!e)throw new Error("Node must be an AstNode.");let r=t?.range;return new Ku((()=>({keys:Object.keys(e),keyIndex:0,arrayIndex:0})),(t=>{for(;t.keyIndex<t.keys.length;){let i=t.keys[t.keyIndex];if(!i.startsWith("$")){let n=e[i];if(Uu(n)){if(t.keyIndex++,Ef(n,r))return{done:!1,value:n}}else if(Array.isArray(n)){for(;t.arrayIndex<n.length;){let e=n[t.arrayIndex++];if(Uu(e)&&Ef(e,r))return{done:!1,value:e}}t.arrayIndex=0}}t.keyIndex++}return Zu}))}function Sf(e,t){if(!e)throw new Error("Root node must be an AstNode.");return new ih(e,(e=>_f(e,t)))}function Af(e,t){if(!e)throw new Error("Root node must be an AstNode.");return t?.range&&!Ef(e,t.range)?new ih(e,(()=>[])):new ih(e,(e=>_f(e,t)),{includeRoot:!0})}function Ef(e,t){var r;if(!t)return!0;let i=null===(r=e.$cstNode)||void 0===r?void 0:r.range;return!!i&&uh(i,t)}function wf(e){return new Ku((()=>({keys:Object.keys(e),keyIndex:0,arrayIndex:0})),(t=>{for(;t.keyIndex<t.keys.length;){let r=t.keys[t.keyIndex];if(!r.startsWith("$")){let i=e[r];if(zu(i))return t.keyIndex++,{done:!1,value:{reference:i,container:e,property:r}};if(Array.isArray(i)){for(;t.arrayIndex<i.length;){let n=t.arrayIndex++,a=i[n];if(zu(a))return{done:!1,value:{reference:a,container:e,property:r,index:n}}}t.arrayIndex=0}}t.keyIndex++}return Zu}))}function Rf(e,t=bf(e).parseResult.value){let r=[];return Af(t).forEach((t=>{wf(t).forEach((t=>{t.reference.ref===e&&r.push(t.reference)}))})),Qu(r)}function $f(e,t){let r=e.getTypeMetaData(t.$type),i=t;for(let e of r.properties)void 0!==e.defaultValue&&void 0===i[e.name]&&(i[e.name]=Lf(e.defaultValue))}function Lf(e){return Array.isArray(e)?[...e.map(Lf)]:e}function If(e,t){let r={$type:e.$type};for(let[i,n]of Object.entries(e))if(!i.startsWith("$"))if(Uu(n))r[i]=If(n,t);else if(zu(n))r[i]=t(r,i,n.$refNode,n.$refText);else if(Array.isArray(n)){let e=[];for(let a of n)Uu(a)?e.push(If(a,t)):zu(a)?e.push(t(r,i,a.$refNode,a.$refText)):e.push(a);r[i]=e}else r[i]=n;return xf(r),r}l(vf,{assignMandatoryProperties:()=>$f,copyAstNode:()=>If,findLocalReferences:()=>Rf,findRootNode:()=>kf,getContainerOfType:()=>Tf,getDocument:()=>bf,hasContainerOfType:()=>Cf,linkContentToContainer:()=>xf,streamAllContents:()=>Sf,streamAst:()=>Af,streamContents:()=>_f,streamReferences:()=>wf}),o(xf,"linkContentToContainer"),o(Tf,"getContainerOfType"),o(Cf,"hasContainerOfType"),o(bf,"getDocument"),o(kf,"findRootNode"),o(_f,"streamContents"),o(Sf,"streamAllContents"),o(Af,"streamAst"),o(Ef,"isAstNodeInRange"),o(wf,"streamReferences"),o(Rf,"findLocalReferences"),o($f,"assignMandatoryProperties"),o(Lf,"copyDefaultValue"),o(If,"copyAstNode");var Nf={};function Of(e){return e.charCodeAt(0)}function Mf(e,t){Array.isArray(e)?e.forEach((function(e){t.push(e)})):t.push(e)}function Pf(e,t){if(!0===e[t])throw"duplicate flag "+t;e[t],e[t]=!0}function Bf(e){if(void 0===e)throw Error("Internal Error - Should never get here!");return!0}function Ff(){throw Error("Internal Error - Should never get here!")}function Df(e){return"Character"===e.type}l(Nf,{NEWLINE_REGEXP:()=>Kf,escapeRegExp:()=>rp,getCaseInsensitivePattern:()=>ip,getTerminalParts:()=>Zf,isMultilineComment:()=>Qf,isWhitespace:()=>tp,partialMatches:()=>np,partialRegExp:()=>ap,whitespaceCharacters:()=>ep}),o(Of,"cc"),o(Mf,"insertToSet"),o(Pf,"addFlag"),o(Bf,"ASSERT_EXISTS"),o(Ff,"ASSERT_NEVER_REACH_HERE"),o(Df,"isCharacter");var Uf=[];for(let e=Of("0");e<=Of("9");e++)Uf.push(e);var zf=[Of("_")].concat(Uf);for(let e=Of("a");e<=Of("z");e++)zf.push(e);for(let e=Of("A");e<=Of("Z");e++)zf.push(e);var jf=[Of(" "),Of("\f"),Of("\n"),Of("\r"),Of("\t"),Of("\v"),Of("\t"),Of(" "),Of(" "),Of(" "),Of(" "),Of(" "),Of(" "),Of(" "),Of(" "),Of(" "),Of(" "),Of(" "),Of(" "),Of(" "),Of("\u2028"),Of("\u2029"),Of(" "),Of(" "),Of("　"),Of("\ufeff")],Gf=/[0-9a-fA-F]/,Wf=/[0-9]/,qf=/[1-9]/,Hf=class{static{o(this,"RegExpParser")}constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(e){this.idx=e.idx,this.input=e.input,this.groupIdx=e.groupIdx}pattern(e){this.idx=0,this.input=e,this.groupIdx=0,this.consumeChar("/");let t=this.disjunction();this.consumeChar("/");let r={type:"Flags",loc:{begin:this.idx,end:e.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":Pf(r,"global");break;case"i":Pf(r,"ignoreCase");break;case"m":Pf(r,"multiLine");break;case"u":Pf(r,"unicode");break;case"y":Pf(r,"sticky")}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:r,value:t,loc:this.loc(0)}}disjunction(){let e=[],t=this.idx;for(e.push(this.alternative());"|"===this.peekChar();)this.consumeChar("|"),e.push(this.alternative());return{type:"Disjunction",value:e,loc:this.loc(t)}}alternative(){let e=[],t=this.idx;for(;this.isTerm();)e.push(this.term());return{type:"Alternative",value:e,loc:this.loc(t)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){let e=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(e)};case"$":return{type:"EndAnchor",loc:this.loc(e)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(e)};case"B":return{type:"NonWordBoundary",loc:this.loc(e)}}throw Error("Invalid Assertion Escape");case"(":let t;switch(this.consumeChar("?"),this.popChar()){case"=":t="Lookahead";break;case"!":t="NegativeLookahead"}Bf(t);let r=this.disjunction();return this.consumeChar(")"),{type:t,value:r,loc:this.loc(e)}}return Ff()}quantifier(e=!1){let t,r=this.idx;switch(this.popChar()){case"*":t={atLeast:0,atMost:1/0};break;case"+":t={atLeast:1,atMost:1/0};break;case"?":t={atLeast:0,atMost:1};break;case"{":let r=this.integerIncludingZero();switch(this.popChar()){case"}":t={atLeast:r,atMost:r};break;case",":let e;this.isDigit()?(e=this.integerIncludingZero(),t={atLeast:r,atMost:e}):t={atLeast:r,atMost:1/0},this.consumeChar("}")}if(!0===e&&void 0===t)return;Bf(t)}if((!0!==e||void 0!==t)&&Bf(t))return"?"===this.peekChar(0)?(this.consumeChar("?"),t.greedy=!1):t.greedy=!0,t.type="Quantifier",t.loc=this.loc(r),t}atom(){let e,t=this.idx;switch(this.peekChar()){case".":e=this.dotAll();break;case"\\":e=this.atomEscape();break;case"[":e=this.characterClass();break;case"(":e=this.group()}return void 0===e&&this.isPatternCharacter()&&(e=this.patternCharacter()),Bf(e)?(e.loc=this.loc(t),this.isQuantifier()&&(e.quantifier=this.quantifier()),e):Ff()}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[Of("\n"),Of("\r"),Of("\u2028"),Of("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let e,t=!1;switch(this.popChar()){case"d":e=Uf;break;case"D":e=Uf,t=!0;break;case"s":e=jf;break;case"S":e=jf,t=!0;break;case"w":e=zf;break;case"W":e=zf,t=!0}return Bf(e)?{type:"Set",value:e,complement:t}:Ff()}controlEscapeAtom(){let e;switch(this.popChar()){case"f":e=Of("\f");break;case"n":e=Of("\n");break;case"r":e=Of("\r");break;case"t":e=Of("\t");break;case"v":e=Of("\v")}return Bf(e)?{type:"Character",value:e}:Ff()}controlLetterEscapeAtom(){this.consumeChar("c");let e=this.popChar();if(!1===/[a-zA-Z]/.test(e))throw Error("Invalid ");return{type:"Character",value:e.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:Of("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){return{type:"Character",value:Of(this.popChar())}}classPatternCharacterAtom(){switch(this.peekChar()){case"\n":case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:return{type:"Character",value:Of(this.popChar())}}}characterClass(){let e=[],t=!1;for(this.consumeChar("["),"^"===this.peekChar(0)&&(this.consumeChar("^"),t=!0);this.isClassAtom();){let t=this.classAtom();if(t.type,Df(t)&&this.isRangeDash()){this.consumeChar("-");let r=this.classAtom();if(r.type,Df(r)){if(r.value<t.value)throw Error("Range out of order in character class");e.push({from:t.value,to:r.value})}else Mf(t.value,e),e.push(Of("-")),Mf(r.value,e)}else Mf(t.value,e)}return this.consumeChar("]"),{type:"Set",complement:t,value:e}}classAtom(){switch(this.peekChar()){case"]":case"\n":case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:Of("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let e=!0;if("?"===(this.consumeChar("("),this.peekChar(0)))this.consumeChar("?"),this.consumeChar(":"),e=!1;else this.groupIdx++;let t=this.disjunction();this.consumeChar(")");let r={type:"Group",capturing:e,value:t};return e&&(r.idx=this.groupIdx),r}positiveInteger(){let e=this.popChar();if(!1===qf.test(e))throw Error("Expecting a positive integer");for(;Wf.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}integerIncludingZero(){let e=this.popChar();if(!1===Wf.test(e))throw Error("Expecting an integer");for(;Wf.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}patternCharacter(){let e=this.popChar();switch(e){case"\n":case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:Of(e)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return"-"===this.peekChar()&&this.isClassAtom(1)}isDigit(){return Wf.test(this.peekChar(0))}isClassAtom(e=0){switch(this.peekChar(e)){case"]":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return"?"===this.peekChar(1)&&("="===this.peekChar(2)||"!"===this.peekChar(2));default:return!1}}isQuantifier(){let e=this.saveState();try{return void 0!==this.quantifier(!0)}catch{return!1}finally{this.restoreState(e)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case"\n":case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(e){let t="";for(let r=0;r<e;r++){let e=this.popChar();if(!1===Gf.test(e))throw Error("Expecting a HexDecimal digits");t+=e}return{type:"Character",value:parseInt(t,16)}}peekChar(e=0){return this.input[this.idx+e]}popChar(){let e=this.peekChar(0);return this.consumeChar(void 0),e}consumeChar(e){if(void 0!==e&&this.input[this.idx]!==e)throw Error("Expected: '"+e+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(e){return{begin:e,end:this.idx}}},Vf=class{static{o(this,"BaseRegExpVisitor")}visitChildren(e){for(let t in e){let r=e[t];e.hasOwnProperty(t)&&(void 0!==r.type?this.visit(r):Array.isArray(r)&&r.forEach((e=>{this.visit(e)}),this))}}visit(e){switch(e.type){case"Pattern":this.visitPattern(e);break;case"Flags":this.visitFlags(e);break;case"Disjunction":this.visitDisjunction(e);break;case"Alternative":this.visitAlternative(e);break;case"StartAnchor":this.visitStartAnchor(e);break;case"EndAnchor":this.visitEndAnchor(e);break;case"WordBoundary":this.visitWordBoundary(e);break;case"NonWordBoundary":this.visitNonWordBoundary(e);break;case"Lookahead":this.visitLookahead(e);break;case"NegativeLookahead":this.visitNegativeLookahead(e);break;case"Character":this.visitCharacter(e);break;case"Set":this.visitSet(e);break;case"Group":this.visitGroup(e);break;case"GroupBackReference":this.visitGroupBackReference(e);break;case"Quantifier":this.visitQuantifier(e)}this.visitChildren(e)}visitPattern(e){}visitFlags(e){}visitDisjunction(e){}visitAlternative(e){}visitStartAnchor(e){}visitEndAnchor(e){}visitWordBoundary(e){}visitNonWordBoundary(e){}visitLookahead(e){}visitNegativeLookahead(e){}visitCharacter(e){}visitSet(e){}visitGroup(e){}visitGroupBackReference(e){}visitQuantifier(e){}},Kf=/\r?\n/gm,Yf=new Hf,Xf=class extends Vf{static{o(this,"TerminalRegExpVisitor")}constructor(){super(...arguments),this.isStarting=!0,this.endRegexpStack=[],this.multiline=!1}get endRegex(){return this.endRegexpStack.join("")}reset(e){this.multiline=!1,this.regex=e,this.startRegexp="",this.isStarting=!0,this.endRegexpStack=[]}visitGroup(e){e.quantifier&&(this.isStarting=!1,this.endRegexpStack=[])}visitCharacter(e){let t=String.fromCharCode(e.value);if(!this.multiline&&"\n"===t&&(this.multiline=!0),e.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{let e=rp(t);this.endRegexpStack.push(e),this.isStarting&&(this.startRegexp+=e)}}visitSet(e){if(!this.multiline){let t=this.regex.substring(e.loc.begin,e.loc.end),r=new RegExp(t);this.multiline=!!"\n".match(r)}if(e.quantifier)this.isStarting=!1,this.endRegexpStack=[];else{let t=this.regex.substring(e.loc.begin,e.loc.end);this.endRegexpStack.push(t),this.isStarting&&(this.startRegexp+=t)}}visitChildren(e){"Group"===e.type&&e.quantifier||super.visitChildren(e)}},Jf=new Xf;function Zf(e){try{"string"!=typeof e&&(e=e.source),e=`/${e}/`;let t=Yf.pattern(e),r=[];for(let i of t.value.value)Jf.reset(e),Jf.visit(i),r.push({start:Jf.startRegexp,end:Jf.endRegex});return r}catch{return[]}}function Qf(e){try{return"string"==typeof e&&(e=new RegExp(e)),e=e.toString(),Jf.reset(e),Jf.visit(Yf.pattern(e)),Jf.multiline}catch{return!1}}o(Zf,"getTerminalParts"),o(Qf,"isMultilineComment");var ep="\f\n\r\t\v              \u2028\u2029  　\ufeff".split("");function tp(e){let t="string"==typeof e?new RegExp(e):e;return ep.some((e=>t.test(e)))}function rp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ip(e){return Array.prototype.map.call(e,(e=>/\w/.test(e)?`[${e.toLowerCase()}${e.toUpperCase()}]`:rp(e))).join("")}function np(e,t){let r=ap(e),i=t.match(r);return!!i&&i[0].length>0}function ap(e){"string"==typeof e&&(e=new RegExp(e));let t=e,r=e.source,i=0;function n(){let e,a="";function s(e){a+=r.substr(i,e),i+=e}function l(e){a+="(?:"+r.substr(i,e)+"|$)",i+=e}for(o(s,"appendRaw"),o(l,"appendOptional");i<r.length;)switch(r[i]){case"\\":switch(r[i+1]){case"c":l(3);break;case"x":l(4);break;case"u":t.unicode?"{"===r[i+2]?l(r.indexOf("}",i)-i+1):l(6):l(2);break;case"p":case"P":t.unicode?l(r.indexOf("}",i)-i+1):l(2);break;case"k":l(r.indexOf(">",i)-i+1);break;default:l(2)}break;case"[":e=/\[(?:\\.|.)*?\]/g,e.lastIndex=i,e=e.exec(r)||[],l(e[0].length);break;case"|":case"^":case"$":case"*":case"+":case"?":s(1);break;case"{":e=/\{\d+,?\d*\}/g,e.lastIndex=i,e=e.exec(r),e?s(e[0].length):l(1);break;case"(":if("?"===r[i+1])switch(r[i+2]){case":":a+="(?:",i+=3,a+=n()+"|$)";break;case"=":a+="(?=",i+=3,a+=n()+")";break;case"!":e=i,i+=3,n(),a+=r.substr(e,i-e);break;case"<":switch(r[i+3]){case"=":case"!":e=i,i+=4,n(),a+=r.substr(e,i-e);break;default:s(r.indexOf(">",i)-i+1),a+=n()+"|$)"}}else s(1),a+=n()+"|$)";break;case")":return++i,a;default:l(1)}return a}return o(n,"process"),new RegExp(n(),e.flags)}function op(e){return e.rules.find((e=>vd(e)&&e.entry))}function sp(e){return e.rules.filter((e=>wd(e)&&e.hidden))}function lp(e,t){let r=new Set,i=op(e);if(!i)return new Set(e.rules);let n=[i].concat(sp(e));for(let e of n)cp(e,r,t);let a=new Set;for(let t of e.rules)(r.has(t.name)||wd(t)&&t.hidden)&&a.add(t);return a}function cp(e,t,r){t.add(e.name),Sf(e).forEach((e=>{if(rf(e)||r&&cf(e)){let i=e.rule.ref;i&&!t.has(i.name)&&cp(i,t,r)}}))}function up(e){if(e.terminal)return e.terminal;if(e.type.ref){let t=xp(e.type.ref);return t?.terminal}}function hp(e){return e.hidden&&!tp(Op(e))}function dp(e,t){return e&&t?pp(e,t,e.astNode,!0):[]}function fp(e,t,r){if(!e||!t)return;let i=pp(e,t,e.astNode,!0);return 0!==i.length?i[r=void 0!==r?Math.max(0,Math.min(r,i.length-1)):0]:void 0}function pp(e,t,r,i){if(!i){let r=Tf(e.grammarSource,Ud);if(r&&r.feature===t)return[e]}return qu(e)&&e.astNode===r?e.content.flatMap((e=>pp(e,t,r,!1))):[]}function mp(e,t){return e?yp(e,t,e?.astNode):[]}function gp(e,t,r){if(!e)return;let i=yp(e,t,e?.astNode);return 0!==i.length?i[r=void 0!==r?Math.max(0,Math.min(r,i.length-1)):0]:void 0}function yp(e,t,r){if(e.astNode!==r)return[];if(Xd(e.grammarSource)&&e.grammarSource.value===t)return[e];let i,n=nh(e).iterator(),a=[];do{if(i=n.next(),!i.done){let e=i.value;e.astNode===r?Xd(e.grammarSource)&&e.grammarSource.value===t&&a.push(e):n.prune()}}while(!i.done);return a}function vp(e){var t;let r=e.astNode;for(;r===(null===(t=e.container)||void 0===t?void 0:t.astNode);){let t=Tf(e.grammarSource,Ud);if(t)return t;e=e.container}}function xp(e){let t=e;return nd(t)&&(Pd(t.$container)?t=t.$container.$container:vd(t.$container)?t=t.$container:Ah(t.$container)),Tp(e,t,new Map)}function Tp(e,t,r){var i;function n(t,i){let n;return Tf(t,Ud)||(n=Tp(i,i,r)),r.set(e,n),n}if(o(n,"go"),r.has(e))return r.get(e);r.set(e,void 0);for(let a of Sf(t)){if(Ud(a)&&"name"===a.feature.toLowerCase())return r.set(e,a),a;if(rf(a)&&vd(a.rule.ref))return n(a,a.rule.ref);if(_d(a)&&null!==(i=a.typeRef)&&void 0!==i&&i.ref)return n(a,a.typeRef.ref)}}function Cp(e){let t=e.$container;if(Kd(t)){let r=t.elements;for(let t=r.indexOf(e)-1;t>=0;t--){let e=r[t];if(Pd(e))return e;{let e=Sf(r[t]).find(Pd);if(e)return e}}}if(jh(t))return Cp(t)}function bp(e,t){return"?"===e||"*"===e||Kd(t)&&!!t.guardCondition}function kp(e){return"*"===e||"+"===e}function _p(e){return"+="===e}function Sp(e){return Ap(e,new Set)}function Ap(e,t){if(t.has(e))return!0;t.add(e);for(let r of Sf(e))if(rf(r)){if(!r.rule.ref||vd(r.rule.ref)&&!Ap(r.rule.ref,t))return!1}else{if(Ud(r))return!1;if(Pd(r))return!1}return!!e.definition}function Ep(e){return wp(e.type,new Set)}function wp(e,t){if(t.has(e))return!0;if(t.add(e),Hh(e))return!1;if(Td(e))return!1;if(Od(e))return e.types.every((e=>wp(e,t)));if(_d(e)){if(void 0!==e.primitiveType)return!0;if(void 0!==e.stringType)return!0;if(void 0!==e.typeRef){let r=e.typeRef.ref;return!!$d(r)&&wp(r.type,t)}return!1}return!1}function Rp(e){if(e.inferredType)return e.inferredType.name;if(e.dataType)return e.dataType;if(e.returnType){let t=e.returnType.ref;if(t){if(vd(t))return t.name;if(od(t)||$d(t))return t.name}}}function $p(e){var t;if(vd(e))return Sp(e)?e.name:null!==(t=Rp(e))&&void 0!==t?t:e.name;if(od(e)||$d(e)||bd(e))return e.name;if(Pd(e)){let t=Lp(e);if(t)return t}else if(nd(e))return e.name;throw new Error("Cannot get name of Unknown Type")}function Lp(e){var t;return e.inferredType?e.inferredType.name:null!==(t=e.type)&&void 0!==t&&t.ref?$p(e.type.ref):void 0}function Ip(e){var t,r,i;return wd(e)?null!==(r=null===(t=e.type)||void 0===t?void 0:t.name)&&void 0!==r?r:"string":Sp(e)?e.name:null!==(i=Rp(e))&&void 0!==i?i:e.name}function Np(e){var t,r,i;return wd(e)?null!==(r=null===(t=e.type)||void 0===t?void 0:t.name)&&void 0!==r?r:"string":null!==(i=Rp(e))&&void 0!==i?i:e.name}function Op(e){let t={s:!1,i:!1,u:!1},r=Pp(e.definition,t),i=Object.entries(t).filter((([,e])=>e)).map((([e])=>e)).join("");return new RegExp(r,i)}o(tp,"isWhitespace"),o(rp,"escapeRegExp"),o(ip,"getCaseInsensitivePattern"),o(np,"partialMatches"),o(ap,"partialRegExp"),o(op,"getEntryRule"),o(sp,"getHiddenRules"),o(lp,"getAllReachableRules"),o(cp,"ruleDfs"),o(up,"getCrossReferenceTerminal"),o(hp,"isCommentTerminal"),o(dp,"findNodesForProperty"),o(fp,"findNodeForProperty"),o(pp,"findNodesForPropertyInternal"),o(mp,"findNodesForKeyword"),o(gp,"findNodeForKeyword"),o(yp,"findNodesForKeywordInternal"),o(vp,"findAssignment"),o(xp,"findNameAssignment"),o(Tp,"findNameAssignmentInternal"),o(Cp,"getActionAtElement"),o(bp,"isOptionalCardinality"),o(kp,"isArrayCardinality"),o(_p,"isArrayOperator"),o(Sp,"isDataTypeRule"),o(Ap,"isDataTypeRuleInternal"),o(Ep,"isDataType"),o(wp,"isDataTypeInternal"),o(Rp,"getExplicitRuleType"),o($p,"getTypeName"),o(Lp,"getActionType"),o(Ip,"getRuleTypeName"),o(Np,"getRuleType"),o(Op,"terminalRegex");var Mp=/[\s\S]/.source;function Pp(e,t){if(af(e))return Bp(e);if(sf(e))return Fp(e);if(jd(e))return zp(e);if(cf(e)){let t=e.rule.ref;if(!t)throw new Error("Missing rule reference.");return Gp(Pp(t.definition),{cardinality:e.cardinality,lookahead:e.lookahead})}if(Zd(e))return Up(e);if(ff(e))return Dp(e);if(ef(e)){let r=e.regex.lastIndexOf("/"),i=e.regex.substring(1,r),n=e.regex.substring(r+1);return t&&(t.i=n.includes("i"),t.s=n.includes("s"),t.u=n.includes("u")),Gp(i,{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1})}if(mf(e))return Gp(Mp,{cardinality:e.cardinality,lookahead:e.lookahead});throw new Error(`Invalid terminal element: ${e?.$type}`)}function Bp(e){return Gp(e.elements.map((e=>Pp(e))).join("|"),{cardinality:e.cardinality,lookahead:e.lookahead})}function Fp(e){return Gp(e.elements.map((e=>Pp(e))).join(""),{cardinality:e.cardinality,lookahead:e.lookahead})}function Dp(e){return Gp(`${Mp}*?${Pp(e.terminal)}`,{cardinality:e.cardinality,lookahead:e.lookahead})}function Up(e){return Gp(`(?!${Pp(e.terminal)})${Mp}*?`,{cardinality:e.cardinality,lookahead:e.lookahead})}function zp(e){return e.right?Gp(`[${jp(e.left)}-${jp(e.right)}]`,{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1}):Gp(jp(e.left),{cardinality:e.cardinality,lookahead:e.lookahead,wrap:!1})}function jp(e){return rp(e.value)}function Gp(e,t){var r;return(!1!==t.wrap||t.lookahead)&&(e=`(${null!==(r=t.lookahead)&&void 0!==r?r:""}${e})`),t.cardinality?`${e}${t.cardinality}`:e}function Wp(e){let t=[],r=e.Grammar;for(let e of r.rules)wd(e)&&hp(e)&&Qf(Op(e))&&t.push(e.name);return{multilineCommentRules:t,nameRegexp:hh}}function qp(e){console&&console.error&&console.error(`Error: ${e}`)}function Hp(e){console&&console.warn&&console.warn(`Warning: ${e}`)}function Vp(e){let t=(new Date).getTime(),r=e();return{time:(new Date).getTime()-t,value:r}}function Kp(e){function t(){}o(t,"FakeConstructor"),t.prototype=e;let r=new t;function i(){return typeof r.bar}return o(i,"fakeAccess"),i(),i(),e}function Yp(e){return Xp(e)?e.LABEL:e.name}function Xp(e){return Ec(e.LABEL)&&""!==e.LABEL}o(Pp,"abstractElementToRegex"),o(Bp,"terminalAlternativesToRegex"),o(Fp,"terminalGroupToRegex"),o(Dp,"untilTokenToRegex"),o(Up,"negateTokenToRegex"),o(zp,"characterRangeToRegex"),o(jp,"keywordToRegex"),o(Gp,"withCardinality"),o(Wp,"createGrammarConfig"),o(qp,"PRINT_ERROR"),o(Hp,"PRINT_WARNING"),o(Vp,"timer"),o(Kp,"toFastProperties"),o(Yp,"tokenLabel"),o(Xp,"hasTokenLabel");var Jp=class{static{o(this,"AbstractProduction")}get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){this._definition=e}accept(e){e.visit(this),Pa(this.definition,(t=>{t.accept(e)}))}},Zp=class extends Jp{static{o(this,"NonTerminal")}constructor(e){super([]),this.idx=1,Ml(this,qc(e,(e=>void 0!==e)))}set definition(e){}get definition(){return void 0!==this.referencedRule?this.referencedRule.definition:[]}accept(e){e.visit(this)}},Qp=class extends Jp{static{o(this,"Rule")}constructor(e){super(e.definition),this.orgText="",Ml(this,qc(e,(e=>void 0!==e)))}},em=class extends Jp{static{o(this,"Alternative")}constructor(e){super(e.definition),this.ignoreAmbiguities=!1,Ml(this,qc(e,(e=>void 0!==e)))}},tm=class extends Jp{static{o(this,"Option")}constructor(e){super(e.definition),this.idx=1,Ml(this,qc(e,(e=>void 0!==e)))}},rm=class extends Jp{static{o(this,"RepetitionMandatory")}constructor(e){super(e.definition),this.idx=1,Ml(this,qc(e,(e=>void 0!==e)))}},im=class extends Jp{static{o(this,"RepetitionMandatoryWithSeparator")}constructor(e){super(e.definition),this.idx=1,Ml(this,qc(e,(e=>void 0!==e)))}},nm=class extends Jp{static{o(this,"Repetition")}constructor(e){super(e.definition),this.idx=1,Ml(this,qc(e,(e=>void 0!==e)))}},am=class extends Jp{static{o(this,"RepetitionWithSeparator")}constructor(e){super(e.definition),this.idx=1,Ml(this,qc(e,(e=>void 0!==e)))}},om=class extends Jp{static{o(this,"Alternation")}get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){super(e.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,Ml(this,qc(e,(e=>void 0!==e)))}},sm=class{static{o(this,"Terminal")}constructor(e){this.idx=1,Ml(this,qc(e,(e=>void 0!==e)))}accept(e){e.visit(this)}};function lm(e){return Cs(e,cm)}function cm(e){function t(e){return Cs(e,cm)}if(o(t,"convertDefinition"),e instanceof Zp){let t={type:"NonTerminal",name:e.nonTerminalName,idx:e.idx};return Ec(e.label)&&(t.label=e.label),t}if(e instanceof em)return{type:"Alternative",definition:t(e.definition)};if(e instanceof tm)return{type:"Option",idx:e.idx,definition:t(e.definition)};if(e instanceof rm)return{type:"RepetitionMandatory",idx:e.idx,definition:t(e.definition)};if(e instanceof im)return{type:"RepetitionMandatoryWithSeparator",idx:e.idx,separator:cm(new sm({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof am)return{type:"RepetitionWithSeparator",idx:e.idx,separator:cm(new sm({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof nm)return{type:"Repetition",idx:e.idx,definition:t(e.definition)};if(e instanceof om)return{type:"Alternation",idx:e.idx,definition:t(e.definition)};if(e instanceof sm){let t={type:"Terminal",name:e.terminalType.name,label:Yp(e.terminalType),idx:e.idx};Ec(e.label)&&(t.terminalLabel=e.label);let r=e.terminalType.PATTERN;return e.terminalType.PATTERN&&(t.pattern=Bc(r)?r.source:r),t}if(e instanceof Qp)return{type:"Rule",name:e.name,orgText:e.orgText,definition:t(e.definition)};throw Error("non exhaustive match")}o(lm,"serializeGrammar"),o(cm,"serializeProduction");var um=class{static{o(this,"GAstVisitor")}visit(e){let t=e;switch(t.constructor){case Zp:return this.visitNonTerminal(t);case em:return this.visitAlternative(t);case tm:return this.visitOption(t);case rm:return this.visitRepetitionMandatory(t);case im:return this.visitRepetitionMandatoryWithSeparator(t);case am:return this.visitRepetitionWithSeparator(t);case nm:return this.visitRepetition(t);case om:return this.visitAlternation(t);case sm:return this.visitTerminal(t);case Qp:return this.visitRule(t);default:throw Error("non exhaustive match")}}visitNonTerminal(e){}visitAlternative(e){}visitOption(e){}visitRepetition(e){}visitRepetitionMandatory(e){}visitRepetitionMandatoryWithSeparator(e){}visitRepetitionWithSeparator(e){}visitAlternation(e){}visitTerminal(e){}visitRule(e){}};function hm(e){return e instanceof em||e instanceof tm||e instanceof nm||e instanceof rm||e instanceof im||e instanceof am||e instanceof sm||e instanceof Qp}function dm(e,t=[]){return e instanceof tm||e instanceof nm||e instanceof am||(e instanceof om?Au(e.definition,(e=>dm(e,t))):!(e instanceof Zp&&$c(t,e))&&(e instanceof Jp&&(e instanceof Zp&&t.push(e),lc(e.definition,(e=>dm(e,t))))))}function fm(e){return e instanceof om}function pm(e){if(e instanceof Zp)return"SUBRULE";if(e instanceof tm)return"OPTION";if(e instanceof om)return"OR";if(e instanceof rm)return"AT_LEAST_ONE";if(e instanceof im)return"AT_LEAST_ONE_SEP";if(e instanceof am)return"MANY_SEP";if(e instanceof nm)return"MANY";if(e instanceof sm)return"CONSUME";throw Error("non exhaustive match")}o(hm,"isSequenceProd"),o(dm,"isOptionalProd"),o(fm,"isBranchingProd"),o(pm,"getProductionDslName");var mm=class{static{o(this,"RestWalker")}walk(e,t=[]){Pa(e.definition,((r,i)=>{let n=ec(e.definition,i+1);if(r instanceof Zp)this.walkProdRef(r,n,t);else if(r instanceof sm)this.walkTerminal(r,n,t);else if(r instanceof em)this.walkFlat(r,n,t);else if(r instanceof tm)this.walkOption(r,n,t);else if(r instanceof rm)this.walkAtLeastOne(r,n,t);else if(r instanceof im)this.walkAtLeastOneSep(r,n,t);else if(r instanceof am)this.walkManySep(r,n,t);else if(r instanceof nm)this.walkMany(r,n,t);else{if(!(r instanceof om))throw Error("non exhaustive match");this.walkOr(r,n,t)}}))}walkTerminal(e,t,r){}walkProdRef(e,t,r){}walkFlat(e,t,r){let i=t.concat(r);this.walk(e,i)}walkOption(e,t,r){let i=t.concat(r);this.walk(e,i)}walkAtLeastOne(e,t,r){let i=[new tm({definition:e.definition})].concat(t,r);this.walk(e,i)}walkAtLeastOneSep(e,t,r){let i=gm(e,t,r);this.walk(e,i)}walkMany(e,t,r){let i=[new tm({definition:e.definition})].concat(t,r);this.walk(e,i)}walkManySep(e,t,r){let i=gm(e,t,r);this.walk(e,i)}walkOr(e,t,r){let i=t.concat(r);Pa(e.definition,(e=>{let t=new em({definition:[e]});this.walk(t,i)}))}};function gm(e,t,r){return[new tm({definition:[new sm({terminalType:e.separator})].concat(e.definition)})].concat(t,r)}function ym(e){if(e instanceof Zp)return ym(e.referencedRule);if(e instanceof sm)return Tm(e);if(hm(e))return vm(e);if(fm(e))return xm(e);throw Error("non exhaustive match")}function vm(e){let t,r=[],i=e.definition,n=0,a=i.length>n,o=!0;for(;a&&o;)t=i[n],o=dm(t),r=r.concat(ym(t)),n+=1,a=i.length>n;return wu(r)}function xm(e){let t=Cs(e.definition,(e=>ym(e)));return wu(Ws(t))}function Tm(e){return[e.terminalType]}o(gm,"restForRepetitionWithSeparator"),o(ym,"first"),o(vm,"firstForSequence"),o(xm,"firstForBranching"),o(Tm,"firstForTerminal");var Cm="_~IN~_",bm=class extends mm{static{o(this,"ResyncFollowsWalker")}constructor(e){super(),this.topProd=e,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(e,t,r){}walkProdRef(e,t,r){let i=_m(e.referencedRule,e.idx)+this.topProd.name,n=t.concat(r),a=ym(new em({definition:n}));this.follows[i]=a}};function km(e){let t={};return Pa(e,(e=>{let r=new bm(e).startWalking();Ml(t,r)})),t}function _m(e,t){return e.name+t+Cm}o(km,"computeAllProdsFollows"),o(_m,"buildBetweenProdsFollowPrefix");var Sm={},Am=new Hf;function Em(e){let t=e.toString();if(Sm.hasOwnProperty(t))return Sm[t];{let e=Am.pattern(t);return Sm[t]=e,e}}function wm(){Sm={}}o(Em,"getRegExpAst"),o(wm,"clearRegExpParserCache");var Rm="Complement Sets are not supported for first char optimization",$m='Unable to use "first char" lexer optimizations:\n';function Lm(e,t=!1){try{let t=Em(e);return Im(t.value,{},t.flags.ignoreCase)}catch(r){if(r.message===Rm)t&&Hp(`${$m}\tUnable to optimize: < ${e.toString()} >\n\tComplement Sets cannot be automatically optimized.\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let r="";t&&(r="\n\tThis will disable the lexer's first char optimizations.\n\tSee: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details."),qp(`${$m}\n\tFailed parsing: < ${e.toString()} >\n\tUsing the @chevrotain/regexp-to-ast library\n\tPlease open an issue at: https://github.com/chevrotain/chevrotain/issues`+r)}}return[]}function Im(e,t,r){switch(e.type){case"Disjunction":for(let i=0;i<e.value.length;i++)Im(e.value[i],t,r);break;case"Alternative":let i=e.value;for(let e=0;e<i.length;e++){let n=i[e];switch(n.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}let a=n;switch(a.type){case"Character":Nm(a.value,t,r);break;case"Set":if(!0===a.complement)throw Error(Rm);Pa(a.value,(e=>{if("number"==typeof e)Nm(e,t,r);else{let i=e;if(!0===r)for(let e=i.from;e<=i.to;e++)Nm(e,t,r);else{for(let e=i.from;e<=i.to&&e<vg;e++)Nm(e,t,r);if(i.to>=vg){let e=i.from>=vg?i.from:vg,r=i.to,n=Tg(e),a=Tg(r);for(let e=n;e<=a;e++)t[e]=e}}}}));break;case"Group":Im(a.value,t,r);break;default:throw Error("Non Exhaustive Match")}let o=void 0!==a.quantifier&&0===a.quantifier.atLeast;if("Group"===a.type&&!1===Pm(a)||"Group"!==a.type&&!1===o)break}break;default:throw Error("non exhaustive match!")}return Ss(t)}function Nm(e,t,r){let i=Tg(e);t[i]=i,!0===r&&Om(e,t)}function Om(e,t){let r=String.fromCharCode(e),i=r.toUpperCase();if(i!==r){let e=Tg(i.charCodeAt(0));t[e]=e}else{let e=r.toLowerCase();if(e!==r){let r=Tg(e.charCodeAt(0));t[r]=r}}}function Mm(e,t){return fc(e.value,(e=>{if("number"==typeof e)return $c(t,e);{let r=e;return void 0!==fc(t,(e=>r.from<=e&&e<=r.to))}}))}function Pm(e){let t=e.quantifier;return!(!t||0!==t.atLeast)||!!e.value&&(br(e.value)?lc(e.value,Pm):Pm(e.value))}o(Lm,"getOptimizedStartCodesIndices"),o(Im,"firstCharOptimizedIndices"),o(Nm,"addOptimizedIdxToResult"),o(Om,"handleIgnoreCase"),o(Mm,"findCode"),o(Pm,"isWholeOptional");var Bm=class extends Vf{static{o(this,"CharCodeFinder")}constructor(e){super(),this.targetCharCodes=e,this.found=!1}visitChildren(e){if(!0!==this.found){switch(e.type){case"Lookahead":return void this.visitLookahead(e);case"NegativeLookahead":return void this.visitNegativeLookahead(e)}super.visitChildren(e)}}visitCharacter(e){$c(this.targetCharCodes,e.value)&&(this.found=!0)}visitSet(e){e.complement?void 0===Mm(e,this.targetCharCodes)&&(this.found=!0):void 0!==Mm(e,this.targetCharCodes)&&(this.found=!0)}};function Fm(e,t){if(t instanceof RegExp){let r=Em(t),i=new Bm(e);return i.visit(r),i.found}return void 0!==fc(t,(t=>$c(e,t.charCodeAt(0))))}o(Fm,"canMatchCharCode");var Dm="PATTERN",Um="defaultMode",zm="modes",jm="boolean"==typeof new RegExp("(?:)").sticky;function Gm(e,t){t=Aa(t,{useSticky:jm,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r","\n"],tracer:o(((e,t)=>t()),"tracer")});let r,i=t.tracer;i("initCharCodeToOptimizedIndexMap",(()=>{Cg()})),i("Reject Lexer.NA",(()=>{r=bu(e,(e=>e[Dm]===Ug.NA))}));let n,a,s,l,c,u,h,d,f,p,m,g=!1;i("Transform Patterns",(()=>{g=!1,n=Cs(r,(e=>{let r=e[Dm];if(Bc(r)){let e=r.source;return 1!==e.length||"^"===e||"$"===e||"."===e||r.ignoreCase?2!==e.length||"\\"!==e[0]||$c(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],e[1])?t.useSticky?sg(r):og(r):e[1]:e}if(ne(r))return g=!0,{exec:r};if("object"==typeof r)return g=!0,r;if("string"==typeof r){if(1===r.length)return r;{let e=r.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=new RegExp(e);return t.useSticky?sg(i):og(i)}}throw Error("non exhaustive match")}))})),i("misc mapping",(()=>{a=Cs(r,(e=>e.tokenTypeIdx)),s=Cs(r,(e=>{let t=e.GROUP;if(t!==Ug.SKIPPED){if(Ec(t))return t;if(Es(t))return!1;throw Error("non exhaustive match")}})),l=Cs(r,(e=>{let t=e.LONGER_ALT;if(t)return br(t)?Cs(t,(e=>Nc(r,e))):[Nc(r,t)]})),c=Cs(r,(e=>e.PUSH_MODE)),u=Cs(r,(e=>Sc(e,"POP_MODE")))})),i("Line Terminator Handling",(()=>{let e=gg(t.lineTerminatorCharacters);h=Cs(r,(e=>!1)),"onlyOffset"!==t.positionTracking&&(h=Cs(r,(t=>Sc(t,"LINE_BREAKS")?!!t.LINE_BREAKS:!1===pg(t,e)&&Fm(e,t.PATTERN))))})),i("Misc Mapping #2",(()=>{d=Cs(r,hg),f=Cs(n,dg),p=Js(r,((e,t)=>{let r=t.GROUP;return Ec(r)&&r!==Ug.SKIPPED&&(e[r]=[]),e}),{}),m=Cs(n,((e,t)=>({pattern:n[t],longerAlt:l[t],canLineTerminator:h[t],isCustom:d[t],short:f[t],group:s[t],push:c[t],pop:u[t],tokenTypeIdx:a[t],tokenType:r[t]})))}));let y=!0,v=[];return t.safeMode||i("First Char Optimization",(()=>{v=Js(r,((e,r,i)=>{if("string"==typeof r.PATTERN){let t=Tg(r.PATTERN.charCodeAt(0));yg(e,t,m[i])}else if(br(r.START_CHARS_HINT)){let t;Pa(r.START_CHARS_HINT,(r=>{let n=Tg("string"==typeof r?r.charCodeAt(0):r);t!==n&&(t=n,yg(e,n,m[i]))}))}else if(Bc(r.PATTERN))if(r.PATTERN.unicode)y=!1,t.ensureOptimizations&&qp(`${$m}\tUnable to analyze < ${r.PATTERN.toString()} > pattern.\n\tThe regexp unicode flag is not currently supported by the regexp-to-ast library.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{let n=Lm(r.PATTERN,t.ensureOptimizations);gn(n)&&(y=!1),Pa(n,(t=>{yg(e,t,m[i])}))}else t.ensureOptimizations&&qp(`${$m}\tTokenType: <${r.name}> is using a custom token pattern without providing <start_chars_hint> parameter.\n\tThis will disable the lexer's first char optimizations.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),y=!1;return e}),[])})),{emptyGroups:p,patternIdxToConfig:m,charCodeToPatternIdxToConfig:v,hasCustom:g,canBeOptimized:y}}function Wm(e,t){let r=[],i=Hm(e);r=r.concat(i.errors);let n=Vm(i.valid),a=n.valid;return r=r.concat(n.errors),r=r.concat(qm(a)),r=r.concat(tg(a)),r=r.concat(rg(a,t)),r=r.concat(ig(a)),r}function qm(e){let t=[],r=ys(e,(e=>Bc(e[Dm])));return t=t.concat(Ym(r)),t=t.concat(Zm(r)),t=t.concat(Qm(r)),t=t.concat(eg(r)),t=t.concat(Xm(r)),t}function Hm(e){let t=ys(e,(e=>!Sc(e,Dm))),r=Cs(t,(e=>({message:"Token Type: ->"+e.name+"<- missing static 'PATTERN' property",type:Bg.MISSING_PATTERN,tokenTypes:[e]})));return{errors:r,valid:Zl(e,t)}}function Vm(e){let t=ys(e,(e=>{let t=e[Dm];return!(Bc(t)||ne(t)||Sc(t,"exec")||Ec(t))})),r=Cs(t,(e=>({message:"Token Type: ->"+e.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:Bg.INVALID_PATTERN,tokenTypes:[e]})));return{errors:r,valid:Zl(e,t)}}o(Gm,"analyzeTokenTypes"),o(Wm,"validatePatterns"),o(qm,"validateRegExpPattern"),o(Hm,"findMissingPatterns"),o(Vm,"findInvalidPatterns");var Km=/[^\\][$]/;function Ym(e){class t extends Vf{static{o(this,"EndAnchorFinder")}constructor(){super(...arguments),this.found=!1}visitEndAnchor(e){this.found=!0}}let r=ys(e,(e=>{let r=e.PATTERN;try{let e=Em(r),i=new t;return i.visit(e),i.found}catch{return Km.test(r.source)}}));return Cs(r,(e=>({message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+e.name+"<- static 'PATTERN' cannot contain end of input anchor '$'\n\tSee chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:Bg.EOI_ANCHOR_FOUND,tokenTypes:[e]})))}function Xm(e){let t=ys(e,(e=>e.PATTERN.test("")));return Cs(t,(e=>({message:"Token Type: ->"+e.name+"<- static 'PATTERN' must not match an empty string",type:Bg.EMPTY_MATCH_PATTERN,tokenTypes:[e]})))}o(Ym,"findEndOfInputAnchor"),o(Xm,"findEmptyMatchRegExps");var Jm=/[^\\[][\^]|^\^/;function Zm(e){class t extends Vf{static{o(this,"StartAnchorFinder")}constructor(){super(...arguments),this.found=!1}visitStartAnchor(e){this.found=!0}}let r=ys(e,(e=>{let r=e.PATTERN;try{let e=Em(r),i=new t;return i.visit(e),i.found}catch{return Jm.test(r.source)}}));return Cs(r,(e=>({message:"Unexpected RegExp Anchor Error:\n\tToken Type: ->"+e.name+"<- static 'PATTERN' cannot contain start of input anchor '^'\n\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS\tfor details.",type:Bg.SOI_ANCHOR_FOUND,tokenTypes:[e]})))}function Qm(e){let t=ys(e,(e=>{let t=e[Dm];return t instanceof RegExp&&(t.multiline||t.global)}));return Cs(t,(e=>({message:"Token Type: ->"+e.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:Bg.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[e]})))}function eg(e){let t=[],r=Cs(e,(r=>Js(e,((e,i)=>(r.PATTERN.source===i.PATTERN.source&&!$c(t,i)&&i.PATTERN!==Ug.NA&&(t.push(i),e.push(i)),e)),[])));r=jl(r);let i=ys(r,(e=>e.length>1));return Cs(i,(e=>{let t=Cs(e,(e=>e.name));return{message:`The same RegExp pattern ->${mc(e).PATTERN}<-has been used in all of the following Token Types: ${t.join(", ")} <-`,type:Bg.DUPLICATE_PATTERNS_FOUND,tokenTypes:e}}))}function tg(e){let t=ys(e,(e=>{if(!Sc(e,"GROUP"))return!1;let t=e.GROUP;return t!==Ug.SKIPPED&&t!==Ug.NA&&!Ec(t)}));return Cs(t,(e=>({message:"Token Type: ->"+e.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:Bg.INVALID_GROUP_TYPE_FOUND,tokenTypes:[e]})))}function rg(e,t){let r=ys(e,(e=>void 0!==e.PUSH_MODE&&!$c(t,e.PUSH_MODE)));return Cs(r,(e=>({message:`Token Type: ->${e.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${e.PUSH_MODE}<-which does not exist`,type:Bg.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[e]})))}function ig(e){let t=[],r=Js(e,((e,t,r)=>{let i=t.PATTERN;return i===Ug.NA||(Ec(i)?e.push({str:i,idx:r,tokenType:t}):Bc(i)&&ag(i)&&e.push({str:i.source,idx:r,tokenType:t})),e}),[]);return Pa(e,((e,i)=>{Pa(r,(({str:r,idx:n,tokenType:a})=>{if(i<n&&ng(r,e.PATTERN)){let r=`Token: ->${a.name}<- can never be matched.\nBecause it appears AFTER the Token Type ->${e.name}<-in the lexer's definition.\nSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;t.push({message:r,type:Bg.UNREACHABLE_PATTERN,tokenTypes:[e,a]})}}))})),t}function ng(e,t){if(Bc(t)){let r=t.exec(e);return null!==r&&0===r.index}if(ne(t))return t(e,0,[],{});if(Sc(t,"exec"))return t.exec(e,0,[],{});if("string"==typeof t)return t===e;throw Error("non exhaustive match")}function ag(e){return void 0===fc([".","\\","[","]","|","^","$","(",")","?","*","+","{"],(t=>-1!==e.source.indexOf(t)))}function og(e){let t=e.ignoreCase?"i":"";return new RegExp(`^(?:${e.source})`,t)}function sg(e){let t=e.ignoreCase?"iy":"y";return new RegExp(`${e.source}`,t)}function lg(e,t,r){let i=[];return Sc(e,Um)||i.push({message:"A MultiMode Lexer cannot be initialized without a <"+Um+"> property in its definition\n",type:Bg.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),Sc(e,zm)||i.push({message:"A MultiMode Lexer cannot be initialized without a <modes> property in its definition\n",type:Bg.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),Sc(e,zm)&&Sc(e,Um)&&!Sc(e.modes,e.defaultMode)&&i.push({message:`A MultiMode Lexer cannot be initialized with a ${Um}: <${e.defaultMode}>which does not exist\n`,type:Bg.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),Sc(e,zm)&&Pa(e.modes,((e,t)=>{Pa(e,((r,n)=>{if(Es(r))i.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${t}> at index: <${n}>\n`,type:Bg.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(Sc(r,"LONGER_ALT")){let n=br(r.LONGER_ALT)?r.LONGER_ALT:[r.LONGER_ALT];Pa(n,(n=>{!Es(n)&&!$c(e,n)&&i.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${n.name}> on token <${r.name}> outside of mode <${t}>\n`,type:Bg.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})}))}}))})),i}function cg(e,t,r){let i=[],n=!1,a=jl(Ws(Ss(e.modes))),o=bu(a,(e=>e[Dm]===Ug.NA)),s=gg(r);return t&&Pa(o,(e=>{let t=pg(e,s);if(!1!==t){let r={message:mg(e,t),type:t.issue,tokenType:e};i.push(r)}else Sc(e,"LINE_BREAKS")?!0===e.LINE_BREAKS&&(n=!0):Fm(s,e.PATTERN)&&(n=!0)})),t&&!n&&i.push({message:"Warning: No LINE_BREAKS Found.\n\tThis Lexer has been defined to track line and column information,\n\tBut none of the Token Types can be identified as matching a line terminator.\n\tSee https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS \n\tfor details.",type:Bg.NO_LINE_BREAKS_FLAGS}),i}function ug(e){let t={},r=vn(e);return Pa(r,(r=>{let i=e[r];if(!br(i))throw Error("non exhaustive match");t[r]=[]})),t}function hg(e){let t=e.PATTERN;if(Bc(t))return!1;if(ne(t))return!0;if(Sc(t,"exec"))return!0;if(Ec(t))return!1;throw Error("non exhaustive match")}function dg(e){return!(!Ec(e)||1!==e.length)&&e.charCodeAt(0)}o(Zm,"findStartOfInputAnchor"),o(Qm,"findUnsupportedFlags"),o(eg,"findDuplicatePatterns"),o(tg,"findInvalidGroupType"),o(rg,"findModesThatDoNotExist"),o(ig,"findUnreachablePatterns"),o(ng,"testTokenType"),o(ag,"noMetaChar"),o(og,"addStartOfInput"),o(sg,"addStickyFlag"),o(lg,"performRuntimeChecks"),o(cg,"performWarningRuntimeChecks"),o(ug,"cloneEmptyGroups"),o(hg,"isCustomPattern"),o(dg,"isShortPattern");var fg={test:o((function(e){let t=e.length;for(let r=this.lastIndex;r<t;r++){let t=e.charCodeAt(r);if(10===t)return this.lastIndex=r+1,!0;if(13===t)return 10===e.charCodeAt(r+1)?this.lastIndex=r+2:this.lastIndex=r+1,!0}return!1}),"test"),lastIndex:0};function pg(e,t){if(Sc(e,"LINE_BREAKS"))return!1;if(Bc(e.PATTERN)){try{Fm(t,e.PATTERN)}catch(e){return{issue:Bg.IDENTIFY_TERMINATOR,errMsg:e.message}}return!1}if(Ec(e.PATTERN))return!1;if(hg(e))return{issue:Bg.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}function mg(e,t){if(t.issue===Bg.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.\n\tThe problem is in the <${e.name}> Token Type\n\t Root cause: ${t.errMsg}.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(t.issue===Bg.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.\n\tThe problem is in the <${e.name}> Token Type\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}function gg(e){return Cs(e,(e=>Ec(e)?e.charCodeAt(0):e))}function yg(e,t,r){void 0===e[t]?e[t]=[r]:e[t].push(r)}o(pg,"checkLineBreaksIssues"),o(mg,"buildLineBreakIssueMessage"),o(gg,"getCharCodes"),o(yg,"addToMapOfArrays");var vg=256,xg=[];function Tg(e){return e<vg?e:xg[e]}function Cg(){if(gn(xg)){xg=new Array(65536);for(let e=0;e<65536;e++)xg[e]=e>255?255+~~(e/255):e}}function bg(e,t){let r=e.tokenTypeIdx;return r===t.tokenTypeIdx||!0===t.isParent&&!0===t.categoryMatchesMap[r]}function kg(e,t){return e.tokenTypeIdx===t.tokenTypeIdx}o(Tg,"charCodeToOptimizedIndex"),o(Cg,"initCharCodeToOptimizedIndexMap"),o(bg,"tokenStructuredMatcher"),o(kg,"tokenStructuredMatcherNoCategories");var _g=1,Sg={};function Ag(e){let t=Eg(e);wg(t),$g(t),Rg(t),Pa(t,(e=>{e.isParent=e.categoryMatches.length>0}))}function Eg(e){let t=ba(e),r=e,i=!0;for(;i;){r=jl(Ws(Cs(r,(e=>e.CATEGORIES))));let e=Zl(r,t);t=t.concat(e),gn(e)?i=!1:r=e}return t}function wg(e){Pa(e,(e=>{Ig(e)||(Sg[_g]=e,e.tokenTypeIdx=_g++),Ng(e)&&!br(e.CATEGORIES)&&(e.CATEGORIES=[e.CATEGORIES]),Ng(e)||(e.CATEGORIES=[]),Og(e)||(e.categoryMatches=[]),Mg(e)||(e.categoryMatchesMap={})}))}function Rg(e){Pa(e,(e=>{e.categoryMatches=[],Pa(e.categoryMatchesMap,((t,r)=>{e.categoryMatches.push(Sg[r].tokenTypeIdx)}))}))}function $g(e){Pa(e,(e=>{Lg([],e)}))}function Lg(e,t){Pa(e,(e=>{t.categoryMatchesMap[e.tokenTypeIdx]=!0})),Pa(t.CATEGORIES,(r=>{let i=e.concat(t);$c(i,r)||Lg(i,r)}))}function Ig(e){return Sc(e,"tokenTypeIdx")}function Ng(e){return Sc(e,"CATEGORIES")}function Og(e){return Sc(e,"categoryMatches")}function Mg(e){return Sc(e,"categoryMatchesMap")}function Pg(e){return Sc(e,"tokenTypeIdx")}o(Ag,"augmentTokenTypes"),o(Eg,"expandCategories"),o(wg,"assignTokenDefaultProps"),o(Rg,"assignCategoriesTokensProp"),o($g,"assignCategoriesMapProp"),o(Lg,"singleAssignCategoriesToksMap"),o(Ig,"hasShortKeyProperty"),o(Ng,"hasCategoriesProperty"),o(Og,"hasExtendingTokensTypesProperty"),o(Mg,"hasExtendingTokensTypesMapProperty"),o(Pg,"isTokenType");var Bg,Fg={buildUnableToPopLexerModeMessage:e=>`Unable to pop Lexer Mode after encountering Token ->${e.image}<- The Mode Stack is empty`,buildUnexpectedCharactersMessage:(e,t,r,i,n)=>`unexpected character: ->${e.charAt(t)}<- at offset: ${t}, skipped ${r} characters.`};!function(e){e[e.MISSING_PATTERN=0]="MISSING_PATTERN",e[e.INVALID_PATTERN=1]="INVALID_PATTERN",e[e.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",e[e.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",e[e.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",e[e.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",e[e.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",e[e.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",e[e.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",e[e.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",e[e.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",e[e.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",e[e.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",e[e.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",e[e.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",e[e.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",e[e.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",e[e.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"}(Bg||(Bg={}));var Dg={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:["\n","\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:Fg,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(Dg);var Ug=class{static{o(this,"Lexer")}constructor(e,t=Dg){if(this.lexerDefinition=e,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(e,t)=>{if(!0===this.traceInitPerf){this.traceInitIndent++;let r=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${r}--\x3e <${e}>`);let{time:i,value:n}=Vp(t),a=i>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&a(`${r}<-- <${e}> time: ${i}ms`),this.traceInitIndent--,n}return t()},"boolean"==typeof t)throw Error("The second argument to the Lexer constructor is now an ILexerConfig Object.\na boolean 2nd argument is no longer supported");this.config=Ml({},Dg,t);let r=this.config.traceInitPerf;!0===r?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):"number"==typeof r&&(this.traceInitMaxIdent=r,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",(()=>{let r,i=!0;this.TRACE_INIT("Lexer Config handling",(()=>{if(this.config.lineTerminatorsPattern===Dg.lineTerminatorsPattern)this.config.lineTerminatorsPattern=fg;else if(this.config.lineTerminatorCharacters===Dg.lineTerminatorCharacters)throw Error("Error: Missing <lineTerminatorCharacters> property on the Lexer config.\n\tFor details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS");if(t.safeMode&&t.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),br(e)?r={modes:{defaultMode:ba(e)},defaultMode:Um}:(i=!1,r=ba(e))})),!1===this.config.skipValidations&&(this.TRACE_INIT("performRuntimeChecks",(()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(lg(r,this.trackStartLines,this.config.lineTerminatorCharacters))})),this.TRACE_INIT("performWarningRuntimeChecks",(()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(cg(r,this.trackStartLines,this.config.lineTerminatorCharacters))}))),r.modes=r.modes?r.modes:{},Pa(r.modes,((e,t)=>{r.modes[t]=bu(e,(e=>Es(e)))}));let n=vn(r.modes);if(Pa(r.modes,((e,r)=>{this.TRACE_INIT(`Mode: <${r}> processing`,(()=>{if(this.modes.push(r),!1===this.config.skipValidations&&this.TRACE_INIT("validatePatterns",(()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(Wm(e,n))})),gn(this.lexerDefinitionErrors)){let i;Ag(e),this.TRACE_INIT("analyzeTokenTypes",(()=>{i=Gm(e,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:t.positionTracking,ensureOptimizations:t.ensureOptimizations,safeMode:t.safeMode,tracer:this.TRACE_INIT})})),this.patternIdxToConfig[r]=i.patternIdxToConfig,this.charCodeToPatternIdxToConfig[r]=i.charCodeToPatternIdxToConfig,this.emptyGroups=Ml({},this.emptyGroups,i.emptyGroups),this.hasCustom=i.hasCustom||this.hasCustom,this.canModeBeOptimized[r]=i.canBeOptimized}}))})),this.defaultMode=r.defaultMode,!gn(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){let e=Cs(this.lexerDefinitionErrors,(e=>e.message)).join("-----------------------\n");throw new Error("Errors detected in definition of Lexer:\n"+e)}Pa(this.lexerDefinitionWarning,(e=>{Hp(e.message)})),this.TRACE_INIT("Choosing sub-methods implementations",(()=>{if(jm?(this.chopInput=wi,this.match=this.matchWithTest):(this.updateLastIndex=hl,this.match=this.matchWithExec),i&&(this.handleModes=hl),!1===this.trackStartLines&&(this.computeNewColumn=wi),!1===this.trackEndLines&&(this.updateTokenEndLineColumnLocation=hl),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else{if(!/onlyOffset/i.test(this.config.positionTracking))throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.createTokenInstance=this.createOffsetOnlyToken}this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)})),this.TRACE_INIT("Failed Optimization Warnings",(()=>{let e=Js(this.canModeBeOptimized,((e,t,r)=>(!1===t&&e.push(r),e)),[]);if(t.ensureOptimizations&&!gn(e))throw Error(`Lexer Modes: < ${e.join(", ")} > cannot be optimized.\n\t Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.\n\t Or inspect the console log for details on how to resolve these issues.`)})),this.TRACE_INIT("clearRegExpParserCache",(()=>{wm()})),this.TRACE_INIT("toFastProperties",(()=>{Kp(this)}))}))}tokenize(e,t=this.defaultMode){if(!gn(this.lexerDefinitionErrors)){let e=Cs(this.lexerDefinitionErrors,(e=>e.message)).join("-----------------------\n");throw new Error("Unable to Tokenize because Errors detected in definition of Lexer:\n"+e)}return this.tokenizeInternal(e,t)}tokenizeInternal(e,t){let r,i,n,a,s,l,c,u,h,d,f,p,m,g,y,v,x=e,T=x.length,C=0,b=0,k=this.hasCustom?0:Math.floor(e.length/10),_=new Array(k),S=[],A=this.trackStartLines?1:void 0,E=this.trackStartLines?1:void 0,w=ug(this.emptyGroups),R=this.trackStartLines,$=this.config.lineTerminatorsPattern,L=0,I=[],N=[],O=[],M=[];function P(){return I}function B(e){let t=Tg(e),r=N[t];return void 0===r?M:r}Object.freeze(M),o(P,"getPossiblePatternsSlow"),o(B,"getPossiblePatternsOptimized");let F=o((e=>{if(1===O.length&&void 0===e.tokenType.PUSH_MODE){let t=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(e);S.push({offset:e.startOffset,line:e.startLine,column:e.startColumn,length:e.image.length,message:t})}else{O.pop();let e=wa(O);I=this.patternIdxToConfig[e],N=this.charCodeToPatternIdxToConfig[e],L=I.length;let t=this.canModeBeOptimized[e]&&!1===this.config.safeMode;v=N&&t?B:P}}),"pop_mode");function D(e){O.push(e),N=this.charCodeToPatternIdxToConfig[e],I=this.patternIdxToConfig[e],L=I.length,L=I.length;let t=this.canModeBeOptimized[e]&&!1===this.config.safeMode;v=N&&t?B:P}o(D,"push_mode"),D.call(this,t);let U,z=this.config.recoveryEnabled;for(;C<T;){l=null;let t=x.charCodeAt(C),o=v(t),k=o.length;for(r=0;r<k;r++){U=o[r];let i=U.pattern;c=null;let h=U.short;if(!1!==h?t===h&&(l=i):!0===U.isCustom?(y=i.exec(x,C,_,w),null!==y?(l=y[0],void 0!==y.payload&&(c=y.payload)):l=null):(this.updateLastIndex(i,C),l=this.match(i,e,C)),null!==l){if(s=U.longerAlt,void 0!==s){let t=s.length;for(n=0;n<t;n++){let t=I[s[n]],r=t.pattern;if(u=null,!0===t.isCustom?(y=r.exec(x,C,_,w),null!==y?(a=y[0],void 0!==y.payload&&(u=y.payload)):a=null):(this.updateLastIndex(r,C),a=this.match(r,e,C)),a&&a.length>l.length){l=a,c=u,U=t;break}}}break}}if(null!==l){if(h=l.length,d=U.group,void 0!==d&&(f=U.tokenTypeIdx,p=this.createTokenInstance(l,C,f,U.tokenType,A,E,h),this.handlePayload(p,c),!1===d?b=this.addToken(_,b,p):w[d].push(p)),e=this.chopInput(e,h),C+=h,E=this.computeNewColumn(E,h),!0===R&&!0===U.canLineTerminator){let e,t,r=0;$.lastIndex=0;do{e=$.test(l),!0===e&&(t=$.lastIndex-1,r++)}while(!0===e);0!==r&&(A+=r,E=h-t,this.updateTokenEndLineColumnLocation(p,d,t,r,A,E,h))}this.handleModes(U,F,D,p)}else{let t=C,r=A,n=E,a=!1===z;for(;!1===a&&C<T;)for(e=this.chopInput(e,1),C++,i=0;i<L;i++){let t=I[i],r=t.pattern,n=t.short;if(!1!==n?x.charCodeAt(C)===n&&(a=!0):!0===t.isCustom?a=null!==r.exec(x,C,_,w):(this.updateLastIndex(r,C),a=null!==r.exec(e)),!0===a)break}if(m=C-t,E=this.computeNewColumn(E,m),g=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(x,t,m,r,n),S.push({offset:t,line:r,column:n,length:m,message:g}),!1===z)break}}return this.hasCustom||(_.length=b),{tokens:_,groups:w,errors:S}}handleModes(e,t,r,i){if(!0===e.pop){let n=e.push;t(i),void 0!==n&&r.call(this,n)}else void 0!==e.push&&r.call(this,e.push)}chopInput(e,t){return e.substring(t)}updateLastIndex(e,t){e.lastIndex=t}updateTokenEndLineColumnLocation(e,t,r,i,n,a,o){let s,l;void 0!==t&&(s=r===o-1,l=s?-1:0,1===i&&!0===s||(e.endLine=n+l,e.endColumn=a-1-l))}computeNewColumn(e,t){return e+t}createOffsetOnlyToken(e,t,r,i){return{image:e,startOffset:t,tokenTypeIdx:r,tokenType:i}}createStartOnlyToken(e,t,r,i,n,a){return{image:e,startOffset:t,startLine:n,startColumn:a,tokenTypeIdx:r,tokenType:i}}createFullToken(e,t,r,i,n,a,o){return{image:e,startOffset:t,endOffset:t+o-1,startLine:n,endLine:n,startColumn:a,endColumn:a+o-1,tokenTypeIdx:r,tokenType:i}}addTokenUsingPush(e,t,r){return e.push(r),t}addTokenUsingMemberAccess(e,t,r){return e[t]=r,++t}handlePayloadNoCustom(e,t){}handlePayloadWithCustom(e,t){null!==t&&(e.payload=t)}matchWithTest(e,t,r){return!0===e.test(t)?t.substring(r,e.lastIndex):null}matchWithExec(e,t){let r=e.exec(t);return null!==r?r[0]:null}};function zg(e){return jg(e)?e.LABEL:e.name}function jg(e){return Ec(e.LABEL)&&""!==e.LABEL}Ug.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",Ug.NA=/NOT_APPLICABLE/,o(zg,"tokenLabel"),o(jg,"hasTokenLabel");var Gg="categories",Wg="label",qg="group",Hg="push_mode",Vg="pop_mode",Kg="longer_alt",Yg="line_breaks",Xg="start_chars_hint";function Jg(e){return Zg(e)}function Zg(e){let t=e.pattern,r={};if(r.name=e.name,Es(t)||(r.PATTERN=t),Sc(e,"parent"))throw"The parent property is no longer supported.\nSee: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.";return Sc(e,Gg)&&(r.CATEGORIES=e[Gg]),Ag([r]),Sc(e,Wg)&&(r.LABEL=e[Wg]),Sc(e,qg)&&(r.GROUP=e[qg]),Sc(e,Vg)&&(r.POP_MODE=e[Vg]),Sc(e,Hg)&&(r.PUSH_MODE=e[Hg]),Sc(e,Kg)&&(r.LONGER_ALT=e[Kg]),Sc(e,Yg)&&(r.LINE_BREAKS=e[Yg]),Sc(e,Xg)&&(r.START_CHARS_HINT=e[Xg]),r}o(Jg,"createToken"),o(Zg,"createTokenInternal");var Qg=Jg({name:"EOF",pattern:Ug.NA});function ey(e,t,r,i,n,a,o,s){return{image:t,startOffset:r,endOffset:i,startLine:n,endLine:a,startColumn:o,endColumn:s,tokenTypeIdx:e.tokenTypeIdx,tokenType:e}}function ty(e,t){return bg(e,t)}Ag([Qg]),o(ey,"createTokenInstance"),o(ty,"tokenMatcher");var ry={buildMismatchTokenMessage:({expected:e,actual:t,previous:r,ruleName:i})=>`Expecting ${jg(e)?`--\x3e ${zg(e)} <--`:`token of type --\x3e ${e.name} <--`} but found --\x3e '${t.image}' <--`,buildNotAllInputParsedMessage:({firstRedundant:e,ruleName:t})=>"Redundant input, expecting EOF but found: "+e.image,buildNoViableAltMessage({expectedPathsPerAlt:e,actual:t,previous:r,customUserDescription:i,ruleName:n}){let a="Expecting: ",o="\nbut found: '"+mc(t).image+"'";if(i)return a+i+o;{let t=Js(e,((e,t)=>e.concat(t)),[]),r=Cs(t,(e=>`[${Cs(e,(e=>zg(e))).join(", ")}]`)),i=`one of these possible Token sequences:\n${Cs(r,((e,t)=>`  ${t+1}. ${e}`)).join("\n")}`;return a+i+o}},buildEarlyExitMessage({expectedIterationPaths:e,actual:t,customUserDescription:r,ruleName:i}){let n="Expecting: ",a="\nbut found: '"+mc(t).image+"'";if(r)return n+r+a;{let t=`expecting at least one iteration which starts with one of these possible Token sequences::\n  <${Cs(e,(e=>`[${Cs(e,(e=>zg(e))).join(",")}]`)).join(" ,")}>`;return n+t+a}}};Object.freeze(ry);var iy={buildRuleNotFoundError:(e,t)=>"Invalid grammar, reference to a rule which is not defined: ->"+t.nonTerminalName+"<-\ninside top level rule: ->"+e.name+"<-"},ny={buildDuplicateFoundError(e,t){function r(e){return e instanceof sm?e.terminalType.name:e instanceof Zp?e.nonTerminalName:""}o(r,"getExtraProductionArgument");let i=e.name,n=mc(t),a=n.idx,s=pm(n),l=r(n),c=`->${s}${a>0?a:""}<- ${l?`with argument: ->${l}<-`:""}\n                  appears more than once (${t.length} times) in the top level rule: ->${i}<-.                  \n                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES \n                  `;return c=c.replace(/[ \t]+/g," "),c=c.replace(/\s\s+/g,"\n"),c},buildNamespaceConflictError:e=>`Namespace conflict found in grammar.\nThe grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${e.name}>.\nTo resolve this make sure each Terminal and Non-Terminal names are unique\nThis is easy to accomplish by using the convention that Terminal names start with an uppercase letter\nand Non-Terminal names start with a lower case letter.`,buildAlternationPrefixAmbiguityError(e){let t=Cs(e.prefixPath,(e=>zg(e))).join(", "),r=0===e.alternation.idx?"":e.alternation.idx;return`Ambiguous alternatives: <${e.ambiguityIndices.join(" ,")}> due to common lookahead prefix\nin <OR${r}> inside <${e.topLevelRule.name}> Rule,\n<${t}> may appears as a prefix path in all these alternatives.\nSee: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX\nFor Further details.`},buildAlternationAmbiguityError(e){let t=Cs(e.prefixPath,(e=>zg(e))).join(", "),r=0===e.alternation.idx?"":e.alternation.idx,i=`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(" ,")}> in <OR${r}> inside <${e.topLevelRule.name}> Rule,\n<${t}> may appears as a prefix path in all these alternatives.\n`;return i+="See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details.",i},buildEmptyRepetitionError(e){let t=pm(e.repetition);return 0!==e.repetition.idx&&(t+=e.repetition.idx),`The repetition <${t}> within Rule <${e.topLevelRule.name}> can never consume any tokens.\nThis could lead to an infinite loop.`},buildTokenNameError:e=>"deprecated",buildEmptyAlternationError:e=>`Ambiguous empty alternative: <${e.emptyChoiceIdx+1}> in <OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.\nOnly the last alternative may be an empty alternative.`,buildTooManyAlternativesError:e=>`An Alternation cannot have more than 256 alternatives:\n<OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.\n has ${e.alternation.definition.length+1} alternatives.`,buildLeftRecursionError(e){let t=e.topLevelRule.name,r=Cs(e.leftRecursionPath,(e=>e.name));return`Left Recursion found in grammar.\nrule: <${t}> can be invoked from itself (directly or indirectly)\nwithout consuming any Tokens. The grammar path that causes this is: \n ${`${t} --\x3e ${r.concat([t]).join(" --\x3e ")}`}\n To fix this refactor your grammar to remove the left recursion.\nsee: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError:e=>"deprecated",buildDuplicateRuleNameError(e){let t;return t=e.topLevelRule instanceof Qp?e.topLevelRule.name:e.topLevelRule,`Duplicate definition, rule: ->${t}<- is already defined in the grammar: ->${e.grammarName}<-`}};function ay(e,t){let r=new sy(e,t);return r.resolveRefs(),r.errors}o(ay,"resolveGrammar");var oy,sy=class extends um{static{o(this,"GastRefResolverVisitor")}constructor(e,t){super(),this.nameToTopRule=e,this.errMsgProvider=t,this.errors=[]}resolveRefs(){Pa(Ss(this.nameToTopRule),(e=>{this.currTopLevel=e,e.accept(this)}))}visitNonTerminal(e){let t=this.nameToTopRule[e.nonTerminalName];if(t)e.referencedRule=t;else{let t=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,e);this.errors.push({message:t,type:tx.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:e.nonTerminalName})}}},ly=class extends mm{static{o(this,"AbstractNextPossibleTokensWalker")}constructor(e,t){super(),this.topProd=e,this.path=t,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=ba(this.path.ruleStack).reverse(),this.occurrenceStack=ba(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(e,t=[]){this.found||super.walk(e,t)}walkProdRef(e,t,r){if(e.referencedRule.name===this.nextProductionName&&e.idx===this.nextProductionOccurrence){let i=t.concat(r);this.updateExpectedNext(),this.walk(e.referencedRule,i)}}updateExpectedNext(){gn(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}},cy=class extends ly{static{o(this,"NextAfterTokenWalker")}constructor(e,t){super(e,t),this.path=t,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(e,t,r){if(this.isAtEndOfPath&&e.terminalType.name===this.nextTerminalName&&e.idx===this.nextTerminalOccurrence&&!this.found){let e=t.concat(r),i=new em({definition:e});this.possibleTokTypes=ym(i),this.found=!0}}},uy=class extends mm{static{o(this,"AbstractNextTerminalAfterProductionWalker")}constructor(e,t){super(),this.topRule=e,this.occurrence=t,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}},hy=class extends uy{static{o(this,"NextTerminalAfterManyWalker")}walkMany(e,t,r){if(e.idx===this.occurrence){let e=mc(t.concat(r));this.result.isEndOfRule=void 0===e,e instanceof sm&&(this.result.token=e.terminalType,this.result.occurrence=e.idx)}else super.walkMany(e,t,r)}},dy=class extends uy{static{o(this,"NextTerminalAfterManySepWalker")}walkManySep(e,t,r){if(e.idx===this.occurrence){let e=mc(t.concat(r));this.result.isEndOfRule=void 0===e,e instanceof sm&&(this.result.token=e.terminalType,this.result.occurrence=e.idx)}else super.walkManySep(e,t,r)}},fy=class extends uy{static{o(this,"NextTerminalAfterAtLeastOneWalker")}walkAtLeastOne(e,t,r){if(e.idx===this.occurrence){let e=mc(t.concat(r));this.result.isEndOfRule=void 0===e,e instanceof sm&&(this.result.token=e.terminalType,this.result.occurrence=e.idx)}else super.walkAtLeastOne(e,t,r)}},py=class extends uy{static{o(this,"NextTerminalAfterAtLeastOneSepWalker")}walkAtLeastOneSep(e,t,r){if(e.idx===this.occurrence){let e=mc(t.concat(r));this.result.isEndOfRule=void 0===e,e instanceof sm&&(this.result.token=e.terminalType,this.result.occurrence=e.idx)}else super.walkAtLeastOneSep(e,t,r)}};function my(e,t,r=[]){r=ba(r);let i=[],n=0;function a(t){return t.concat(ec(e,n+1))}function s(e){let n=my(a(e),t,r);return i.concat(n)}for(o(a,"remainingPathWith"),o(s,"getAlternativesForProd");r.length<t&&n<e.length;){let t=e[n];if(t instanceof em)return s(t.definition);if(t instanceof Zp)return s(t.definition);if(t instanceof tm)i=s(t.definition);else{if(t instanceof rm){return s(t.definition.concat([new nm({definition:t.definition})]))}if(t instanceof im){return s([new em({definition:t.definition}),new nm({definition:[new sm({terminalType:t.separator})].concat(t.definition)})])}if(t instanceof am){let e=t.definition.concat([new nm({definition:[new sm({terminalType:t.separator})].concat(t.definition)})]);i=s(e)}else if(t instanceof nm){let e=t.definition.concat([new nm({definition:t.definition})]);i=s(e)}else{if(t instanceof om)return Pa(t.definition,(e=>{!1===gn(e.definition)&&(i=s(e.definition))})),i;if(!(t instanceof sm))throw Error("non exhaustive match");r.push(t.terminalType)}}n++}return i.push({partialPath:r,suffixDef:ec(e,n)}),i}function gy(e,t,r,i){let n="EXIT_NONE_TERMINAL",a=[n],o="EXIT_ALTERNATIVE",s=!1,l=t.length,c=l-i-1,u=[],h=[];for(h.push({idx:-1,def:e,ruleStack:[],occurrenceStack:[]});!gn(h);){let e=h.pop();if(e===o){s&&wa(h).idx<=c&&h.pop();continue}let i=e.def,d=e.idx,f=e.ruleStack,p=e.occurrenceStack;if(gn(i))continue;let m=i[0];if(m===n){let e={idx:d,def:ec(i),ruleStack:rc(f),occurrenceStack:rc(p)};h.push(e)}else if(m instanceof sm)if(d<l-1){let e=d+1;if(r(t[e],m.terminalType)){let t={idx:e,def:ec(i),ruleStack:f,occurrenceStack:p};h.push(t)}}else{if(d!==l-1)throw Error("non exhaustive match");u.push({nextTokenType:m.terminalType,nextTokenOccurrence:m.idx,ruleStack:f,occurrenceStack:p}),s=!0}else if(m instanceof Zp){let e=ba(f);e.push(m.nonTerminalName);let t=ba(p);t.push(m.idx);let r={idx:d,def:m.definition.concat(a,ec(i)),ruleStack:e,occurrenceStack:t};h.push(r)}else if(m instanceof tm){let e={idx:d,def:ec(i),ruleStack:f,occurrenceStack:p};h.push(e),h.push(o);let t={idx:d,def:m.definition.concat(ec(i)),ruleStack:f,occurrenceStack:p};h.push(t)}else if(m instanceof rm){let e=new nm({definition:m.definition,idx:m.idx}),t={idx:d,def:m.definition.concat([e],ec(i)),ruleStack:f,occurrenceStack:p};h.push(t)}else if(m instanceof im){let e=new sm({terminalType:m.separator}),t=new nm({definition:[e].concat(m.definition),idx:m.idx}),r={idx:d,def:m.definition.concat([t],ec(i)),ruleStack:f,occurrenceStack:p};h.push(r)}else if(m instanceof am){let e={idx:d,def:ec(i),ruleStack:f,occurrenceStack:p};h.push(e),h.push(o);let t=new sm({terminalType:m.separator}),r=new nm({definition:[t].concat(m.definition),idx:m.idx}),n={idx:d,def:m.definition.concat([r],ec(i)),ruleStack:f,occurrenceStack:p};h.push(n)}else if(m instanceof nm){let e={idx:d,def:ec(i),ruleStack:f,occurrenceStack:p};h.push(e),h.push(o);let t=new nm({definition:m.definition,idx:m.idx}),r={idx:d,def:m.definition.concat([t],ec(i)),ruleStack:f,occurrenceStack:p};h.push(r)}else if(m instanceof om)for(let e=m.definition.length-1;e>=0;e--){let t={idx:d,def:m.definition[e].definition.concat(ec(i)),ruleStack:f,occurrenceStack:p};h.push(t),h.push(o)}else if(m instanceof em)h.push({idx:d,def:m.definition.concat(ec(i)),ruleStack:f,occurrenceStack:p});else{if(!(m instanceof Qp))throw Error("non exhaustive match");h.push(yy(m,d,f,p))}}return u}function yy(e,t,r,i){let n=ba(r);n.push(e.name);let a=ba(i);return a.push(1),{idx:t,def:e.definition,ruleStack:n,occurrenceStack:a}}function vy(e){if(e instanceof tm||"Option"===e)return oy.OPTION;if(e instanceof nm||"Repetition"===e)return oy.REPETITION;if(e instanceof rm||"RepetitionMandatory"===e)return oy.REPETITION_MANDATORY;if(e instanceof im||"RepetitionMandatoryWithSeparator"===e)return oy.REPETITION_MANDATORY_WITH_SEPARATOR;if(e instanceof am||"RepetitionWithSeparator"===e)return oy.REPETITION_WITH_SEPARATOR;if(e instanceof om||"Alternation"===e)return oy.ALTERNATION;throw Error("non exhaustive match")}function xy(e){let{occurrence:t,rule:r,prodType:i,maxLookahead:n}=e,a=vy(i);return a===oy.ALTERNATION?$y(t,r,n):Ly(t,r,a,n)}function Ty(e,t,r,i,n,a){let o=$y(e,t,r);return a(o,i,Oy(o)?kg:bg,n)}function Cy(e,t,r,i,n,a){let o=Ly(e,t,n,r),s=Oy(o)?kg:bg;return a(o[0],s,i)}function by(e,t,r,i){let n=e.length,a=lc(e,(e=>lc(e,(e=>1===e.length))));if(t)return function(t){let i=Cs(t,(e=>e.GATE));for(let t=0;t<n;t++){let n=e[t],a=n.length,o=i[t];if(void 0===o||!1!==o.call(this))e:for(let e=0;e<a;e++){let i=n[e],a=i.length;for(let e=0;e<a;e++){let t=this.LA(e+1);if(!1===r(t,i[e]))continue e}return t}}};if(a&&!i){let t=Cs(e,(e=>Ws(e))),r=Js(t,((e,t,r)=>(Pa(t,(t=>{Sc(e,t.tokenTypeIdx)||(e[t.tokenTypeIdx]=r),Pa(t.categoryMatches,(t=>{Sc(e,t)||(e[t]=r)}))})),e)),{});return function(){let e=this.LA(1);return r[e.tokenTypeIdx]}}return function(){for(let t=0;t<n;t++){let i=e[t],n=i.length;e:for(let e=0;e<n;e++){let n=i[e],a=n.length;for(let e=0;e<a;e++){let t=this.LA(e+1);if(!1===r(t,n[e]))continue e}return t}}}}function ky(e,t,r){let i=lc(e,(e=>1===e.length)),n=e.length;if(i&&!r){let t=Ws(e);if(1===t.length&&gn(t[0].categoryMatches)){let e=t[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===e}}{let e=Js(t,((e,t,r)=>(e[t.tokenTypeIdx]=!0,Pa(t.categoryMatches,(t=>{e[t]=!0})),e)),[]);return function(){let t=this.LA(1);return!0===e[t.tokenTypeIdx]}}}return function(){e:for(let r=0;r<n;r++){let i=e[r],n=i.length;for(let e=0;e<n;e++){let r=this.LA(e+1);if(!1===t(r,i[e]))continue e}return!0}return!1}}o(my,"possiblePathsFrom"),o(gy,"nextPossibleTokensAfter"),o(yy,"expandTopLevelRule"),function(e){e[e.OPTION=0]="OPTION",e[e.REPETITION=1]="REPETITION",e[e.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",e[e.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",e[e.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",e[e.ALTERNATION=5]="ALTERNATION"}(oy||(oy={})),o(vy,"getProdType"),o(xy,"getLookaheadPaths"),o(Ty,"buildLookaheadFuncForOr"),o(Cy,"buildLookaheadFuncForOptionalProd"),o(by,"buildAlternativesLookAheadFunc"),o(ky,"buildSingleAlternativeLookaheadFunction");var _y=class extends mm{static{o(this,"RestDefinitionFinderWalker")}constructor(e,t,r){super(),this.topProd=e,this.targetOccurrence=t,this.targetProdType=r}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(e,t,r,i){return e.idx===this.targetOccurrence&&this.targetProdType===t&&(this.restDef=r.concat(i),!0)}walkOption(e,t,r){this.checkIsTarget(e,oy.OPTION,t,r)||super.walkOption(e,t,r)}walkAtLeastOne(e,t,r){this.checkIsTarget(e,oy.REPETITION_MANDATORY,t,r)||super.walkOption(e,t,r)}walkAtLeastOneSep(e,t,r){this.checkIsTarget(e,oy.REPETITION_MANDATORY_WITH_SEPARATOR,t,r)||super.walkOption(e,t,r)}walkMany(e,t,r){this.checkIsTarget(e,oy.REPETITION,t,r)||super.walkOption(e,t,r)}walkManySep(e,t,r){this.checkIsTarget(e,oy.REPETITION_WITH_SEPARATOR,t,r)||super.walkOption(e,t,r)}},Sy=class extends um{static{o(this,"InsideDefinitionFinderVisitor")}constructor(e,t,r){super(),this.targetOccurrence=e,this.targetProdType=t,this.targetRef=r,this.result=[]}checkIsTarget(e,t){e.idx===this.targetOccurrence&&this.targetProdType===t&&(void 0===this.targetRef||e===this.targetRef)&&(this.result=e.definition)}visitOption(e){this.checkIsTarget(e,oy.OPTION)}visitRepetition(e){this.checkIsTarget(e,oy.REPETITION)}visitRepetitionMandatory(e){this.checkIsTarget(e,oy.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(e){this.checkIsTarget(e,oy.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(e){this.checkIsTarget(e,oy.REPETITION_WITH_SEPARATOR)}visitAlternation(e){this.checkIsTarget(e,oy.ALTERNATION)}};function Ay(e){let t=new Array(e);for(let r=0;r<e;r++)t[r]=[];return t}function Ey(e){let t=[""];for(let r=0;r<e.length;r++){let i=e[r],n=[];for(let e=0;e<t.length;e++){let r=t[e];n.push(r+"_"+i.tokenTypeIdx);for(let e=0;e<i.categoryMatches.length;e++){let t="_"+i.categoryMatches[e];n.push(r+t)}}t=n}return t}function wy(e,t,r){for(let i=0;i<e.length;i++){if(i===r)continue;let n=e[i];for(let e=0;e<t.length;e++){if(!0===n[t[e]])return!1}}return!0}function Ry(e,t){let r=Cs(e,(e=>my([e],1))),i=Ay(r.length),n=Cs(r,(e=>{let t={};return Pa(e,(e=>{let r=Ey(e.partialPath);Pa(r,(e=>{t[e]=!0}))})),t})),a=r;for(let e=1;e<=t;e++){let r=a;a=Ay(r.length);for(let o=0;o<r.length;o++){let s=r[o];for(let r=0;r<s.length;r++){let l=s[r].partialPath,c=s[r].suffixDef,u=Ey(l);if(wy(n,u,o)||gn(c)||l.length===t){let e=i[o];if(!1===Iy(e,l)){e.push(l);for(let e=0;e<u.length;e++){let t=u[e];n[o][t]=!0}}}else{let t=my(c,e+1,l);a[o]=a[o].concat(t),Pa(t,(e=>{let t=Ey(e.partialPath);Pa(t,(e=>{n[o][e]=!0}))}))}}}}return i}function $y(e,t,r,i){let n=new Sy(e,oy.ALTERNATION,i);return t.accept(n),Ry(n.result,r)}function Ly(e,t,r,i){let n=new Sy(e,r);t.accept(n);let a=n.result,o=new _y(t,e,r).startWalking();return Ry([new em({definition:a}),new em({definition:o})],i)}function Iy(e,t){e:for(let r=0;r<e.length;r++){let i=e[r];if(i.length===t.length){for(let e=0;e<i.length;e++){let r=t[e],n=i[e];if(!1==(r===n||void 0!==n.categoryMatchesMap[r.tokenTypeIdx]))continue e}return!0}}return!1}function Ny(e,t){return e.length<t.length&&lc(e,((e,r)=>{let i=t[r];return e===i||i.categoryMatchesMap[e.tokenTypeIdx]}))}function Oy(e){return lc(e,(e=>lc(e,(e=>lc(e,(e=>gn(e.categoryMatches)))))))}function My(e){let t=e.lookaheadStrategy.validate({rules:e.rules,tokenTypes:e.tokenTypes,grammarName:e.grammarName});return Cs(t,(e=>Object.assign({type:tx.CUSTOM_LOOKAHEAD_VALIDATION},e)))}function Py(e,t,r,i){let n=yc(e,(e=>By(e,r))),a=Qy(e,t,r),o=yc(e,(e=>Yy(e,r))),s=yc(e,(t=>zy(t,e,i,r)));return n.concat(a,o,s)}function By(e,t){let r=new Uy;e.accept(r);let i=r.allProductions,n=Tc(i,Fy),a=qc(n,(e=>e.length>1));return Cs(Ss(a),(r=>{let i=mc(r),n=t.buildDuplicateFoundError(e,r),a=pm(i),o={message:n,type:tx.DUPLICATE_PRODUCTIONS,ruleName:e.name,dslName:a,occurrence:i.idx},s=Dy(i);return s&&(o.parameter=s),o}))}function Fy(e){return`${pm(e)}_#_${e.idx}_#_${Dy(e)}`}function Dy(e){return e instanceof sm?e.terminalType.name:e instanceof Zp?e.nonTerminalName:""}o(Ay,"initializeArrayOfArrays"),o(Ey,"pathToHashKeys"),o(wy,"isUniquePrefixHash"),o(Ry,"lookAheadSequenceFromAlternatives"),o($y,"getLookaheadPathsForOr"),o(Ly,"getLookaheadPathsForOptionalProd"),o(Iy,"containsPath"),o(Ny,"isStrictPrefixOfPath"),o(Oy,"areTokenCategoriesNotUsed"),o(My,"validateLookahead"),o(Py,"validateGrammar"),o(By,"validateDuplicateProductions"),o(Fy,"identifyProductionForDuplicates"),o(Dy,"getExtraProductionArgument");var Uy=class extends um{static{o(this,"OccurrenceValidationCollector")}constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(e){this.allProductions.push(e)}visitOption(e){this.allProductions.push(e)}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}visitAlternation(e){this.allProductions.push(e)}visitTerminal(e){this.allProductions.push(e)}};function zy(e,t,r,i){let n=[];if(Js(t,((t,r)=>r.name===e.name?t+1:t),0)>1){let t=i.buildDuplicateRuleNameError({topLevelRule:e,grammarName:r});n.push({message:t,type:tx.DUPLICATE_RULE_NAME,ruleName:e.name})}return n}function jy(e,t,r){let i,n=[];return $c(t,e)||(i=`Invalid rule override, rule: ->${e}<- cannot be overridden in the grammar: ->${r}<-as it is not defined in any of the super grammars `,n.push({message:i,type:tx.INVALID_RULE_OVERRIDE,ruleName:e})),n}function Gy(e,t,r,i=[]){let n=[],a=Wy(t.definition);if(gn(a))return[];{let t=e.name;$c(a,e)&&n.push({message:r.buildLeftRecursionError({topLevelRule:e,leftRecursionPath:i}),type:tx.LEFT_RECURSION,ruleName:t});let o=Zl(a,i.concat([e])),s=yc(o,(t=>{let n=ba(i);return n.push(t),Gy(e,t,r,n)}));return n.concat(s)}}function Wy(e){let t=[];if(gn(e))return t;let r=mc(e);if(r instanceof Zp)t.push(r.referencedRule);else if(r instanceof em||r instanceof tm||r instanceof rm||r instanceof im||r instanceof am||r instanceof nm)t=t.concat(Wy(r.definition));else if(r instanceof om)t=Ws(Cs(r.definition,(e=>Wy(e.definition))));else if(!(r instanceof sm))throw Error("non exhaustive match");let i=dm(r),n=e.length>1;if(i&&n){let r=ec(e);return t.concat(Wy(r))}return t}o(zy,"validateRuleDoesNotAlreadyExist"),o(jy,"validateRuleIsOverridden"),o(Gy,"validateNoLeftRecursion"),o(Wy,"getFirstNoneTerminal");var qy=class extends um{static{o(this,"OrCollector")}constructor(){super(...arguments),this.alternations=[]}visitAlternation(e){this.alternations.push(e)}};function Hy(e,t){let r=new qy;e.accept(r);let i=r.alternations;return yc(i,(r=>{let i=rc(r.definition);return yc(i,((i,n)=>{let a=gy([i],[],bg,1);return gn(a)?[{message:t.buildEmptyAlternationError({topLevelRule:e,alternation:r,emptyChoiceIdx:n}),type:tx.NONE_LAST_EMPTY_ALT,ruleName:e.name,occurrence:r.idx,alternative:n+1}]:[]}))}))}function Vy(e,t,r){let i=new qy;e.accept(i);let n=i.alternations;return n=bu(n,(e=>!0===e.ignoreAmbiguities)),yc(n,(i=>{let n=i.idx,a=i.maxLookahead||t,o=$y(n,e,a,i),s=Jy(o,i,e,r),l=Zy(o,i,e,r);return s.concat(l)}))}o(Hy,"validateEmptyOrAlternative"),o(Vy,"validateAmbiguousAlternationAlternatives");var Ky=class extends um{static{o(this,"RepetitionCollector")}constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}};function Yy(e,t){let r=new qy;e.accept(r);let i=r.alternations;return yc(i,(r=>r.definition.length>255?[{message:t.buildTooManyAlternativesError({topLevelRule:e,alternation:r}),type:tx.TOO_MANY_ALTS,ruleName:e.name,occurrence:r.idx}]:[]))}function Xy(e,t,r){let i=[];return Pa(e,(e=>{let n=new Ky;e.accept(n);let a=n.allProductions;Pa(a,(n=>{let a=vy(n),o=n.maxLookahead||t,s=Ly(n.idx,e,a,o)[0];if(gn(Ws(s))){let t=r.buildEmptyRepetitionError({topLevelRule:e,repetition:n});i.push({message:t,type:tx.NO_NON_EMPTY_LOOKAHEAD,ruleName:e.name})}}))})),i}function Jy(e,t,r,i){let n=[],a=Js(e,((r,i,a)=>(!0===t.definition[a].ignoreAmbiguities||Pa(i,(i=>{let o=[a];Pa(e,((e,r)=>{a!==r&&Iy(e,i)&&!0!==t.definition[r].ignoreAmbiguities&&o.push(r)})),o.length>1&&!Iy(n,i)&&(n.push(i),r.push({alts:o,path:i}))})),r)),[]);return Cs(a,(e=>{let n=Cs(e.alts,(e=>e+1));return{message:i.buildAlternationAmbiguityError({topLevelRule:r,alternation:t,ambiguityIndices:n,prefixPath:e.path}),type:tx.AMBIGUOUS_ALTS,ruleName:r.name,occurrence:t.idx,alternatives:e.alts}}))}function Zy(e,t,r,i){let n=Js(e,((e,t,r)=>{let i=Cs(t,(e=>({idx:r,path:e})));return e.concat(i)}),[]);return jl(yc(n,(e=>{if(!0===t.definition[e.idx].ignoreAmbiguities)return[];let a=e.idx,o=e.path,s=ys(n,(e=>!0!==t.definition[e.idx].ignoreAmbiguities&&e.idx<a&&Ny(e.path,o)));return Cs(s,(e=>{let n=[e.idx+1,a+1],o=0===t.idx?"":t.idx;return{message:i.buildAlternationPrefixAmbiguityError({topLevelRule:r,alternation:t,ambiguityIndices:n,prefixPath:e.path}),type:tx.AMBIGUOUS_PREFIX_ALTS,ruleName:r.name,occurrence:o,alternatives:n}}))})))}function Qy(e,t,r){let i=[],n=Cs(t,(e=>e.name));return Pa(e,(e=>{let t=e.name;if($c(n,t)){let n=r.buildNamespaceConflictError(e);i.push({message:n,type:tx.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:t})}})),i}function ev(e){let t=Aa(e,{errMsgProvider:iy}),r={};return Pa(e.rules,(e=>{r[e.name]=e})),ay(r,t.errMsgProvider)}function tv(e){return Py((e=Aa(e,{errMsgProvider:ny})).rules,e.tokenTypes,e.errMsgProvider,e.grammarName)}o(Yy,"validateTooManyAlts"),o(Xy,"validateSomeNonEmptyLookaheadPath"),o(Jy,"checkAlternativesAmbiguities"),o(Zy,"checkPrefixAlternativesAmbiguities"),o(Qy,"checkTerminalAndNoneTerminalsNameSpace"),o(ev,"resolveGrammar"),o(tv,"validateGrammar");var rv="MismatchedTokenException",iv="NoViableAltException",nv="EarlyExitException",av="NotAllInputParsedException",ov=[rv,iv,nv,av];function sv(e){return $c(ov,e.name)}Object.freeze(ov),o(sv,"isRecognitionException");var lv=class extends Error{static{o(this,"RecognitionException")}constructor(e,t){super(e),this.token=t,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},cv=class extends lv{static{o(this,"MismatchedTokenException")}constructor(e,t,r){super(e,t),this.previousToken=r,this.name=rv}},uv=class extends lv{static{o(this,"NoViableAltException")}constructor(e,t,r){super(e,t),this.previousToken=r,this.name=iv}},hv=class extends lv{static{o(this,"NotAllInputParsedException")}constructor(e,t){super(e,t),this.name=av}},dv=class extends lv{static{o(this,"EarlyExitException")}constructor(e,t,r){super(e,t),this.previousToken=r,this.name=nv}},fv={},pv="InRuleRecoveryException",mv=class extends Error{static{o(this,"InRuleRecoveryException")}constructor(e){super(e),this.name=pv}},gv=class{static{o(this,"Recoverable")}initRecoverable(e){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=Sc(e,"recoveryEnabled")?e.recoveryEnabled:rx.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=yv)}getTokenToInsert(e){let t=ey(e,"",NaN,NaN,NaN,NaN,NaN,NaN);return t.isInsertedInRecovery=!0,t}canTokenTypeBeInsertedInRecovery(e){return!0}canTokenTypeBeDeletedInRecovery(e){return!0}tryInRepetitionRecovery(e,t,r,i){let n=this.findReSyncTokenType(),a=this.exportLexerState(),s=[],l=!1,c=this.LA(1),u=this.LA(1),h=o((()=>{let e=this.LA(0),t=this.errorMessageProvider.buildMismatchTokenMessage({expected:i,actual:c,previous:e,ruleName:this.getCurrRuleFullName()}),r=new cv(t,c,this.LA(0));r.resyncedTokens=rc(s),this.SAVE_ERROR(r)}),"generateErrorMessage");for(;!l;){if(this.tokenMatcher(u,i))return void h();if(r.call(this))return h(),void e.apply(this,t);this.tokenMatcher(u,n)?l=!0:(u=this.SKIP_TOKEN(),this.addToResyncTokens(u,s))}this.importLexerState(a)}shouldInRepetitionRecoveryBeTried(e,t,r){return!(!1===r||this.tokenMatcher(this.LA(1),e)||this.isBackTracking()||this.canPerformInRuleRecovery(e,this.getFollowsForInRuleRecovery(e,t)))}getFollowsForInRuleRecovery(e,t){let r=this.getCurrentGrammarPath(e,t);return this.getNextPossibleTokenTypes(r)}tryInRuleRecovery(e,t){if(this.canRecoverWithSingleTokenInsertion(e,t))return this.getTokenToInsert(e);if(this.canRecoverWithSingleTokenDeletion(e)){let e=this.SKIP_TOKEN();return this.consumeToken(),e}throw new mv("sad sad panda")}canPerformInRuleRecovery(e,t){return this.canRecoverWithSingleTokenInsertion(e,t)||this.canRecoverWithSingleTokenDeletion(e)}canRecoverWithSingleTokenInsertion(e,t){if(!this.canTokenTypeBeInsertedInRecovery(e)||gn(t))return!1;let r=this.LA(1);return void 0!==fc(t,(e=>this.tokenMatcher(r,e)))}canRecoverWithSingleTokenDeletion(e){return!!this.canTokenTypeBeDeletedInRecovery(e)&&this.tokenMatcher(this.LA(2),e)}isInCurrentRuleReSyncSet(e){let t=this.getCurrFollowKey(),r=this.getFollowSetFromFollowKey(t);return $c(r,e)}findReSyncTokenType(){let e=this.flattenFollowSet(),t=this.LA(1),r=2;for(;;){let i=fc(e,(e=>ty(t,e)));if(void 0!==i)return i;t=this.LA(r),r++}}getCurrFollowKey(){if(1===this.RULE_STACK.length)return fv;let e=this.getLastExplicitRuleShortName(),t=this.getLastExplicitRuleOccurrenceIndex(),r=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(e),idxInCallingRule:t,inRule:this.shortRuleNameToFullName(r)}}buildFullFollowKeyStack(){let e=this.RULE_STACK,t=this.RULE_OCCURRENCE_STACK;return Cs(e,((r,i)=>0===i?fv:{ruleName:this.shortRuleNameToFullName(r),idxInCallingRule:t[i],inRule:this.shortRuleNameToFullName(e[i-1])}))}flattenFollowSet(){let e=Cs(this.buildFullFollowKeyStack(),(e=>this.getFollowSetFromFollowKey(e)));return Ws(e)}getFollowSetFromFollowKey(e){if(e===fv)return[Qg];let t=e.ruleName+e.idxInCallingRule+Cm+e.inRule;return this.resyncFollows[t]}addToResyncTokens(e,t){return this.tokenMatcher(e,Qg)||t.push(e),t}reSyncTo(e){let t=[],r=this.LA(1);for(;!1===this.tokenMatcher(r,e);)r=this.SKIP_TOKEN(),this.addToResyncTokens(r,t);return rc(t)}attemptInRepetitionRecovery(e,t,r,i,n,a,o){}getCurrentGrammarPath(e,t){return{ruleStack:this.getHumanReadableRuleStack(),occurrenceStack:ba(this.RULE_OCCURRENCE_STACK),lastTok:e,lastTokOccurrence:t}}getHumanReadableRuleStack(){return Cs(this.RULE_STACK,(e=>this.shortRuleNameToFullName(e)))}};function yv(e,t,r,i,n,a,o){let s=this.getKeyForAutomaticLookahead(i,n),l=this.firstAfterRepMap[s];if(void 0===l){let e=this.getCurrRuleFullName();l=new a(this.getGAstProductions()[e],n).startWalking(),this.firstAfterRepMap[s]=l}let c=l.token,u=l.occurrence,h=l.isEndOfRule;1===this.RULE_STACK.length&&h&&void 0===c&&(c=Qg,u=1),void 0!==c&&void 0!==u&&this.shouldInRepetitionRecoveryBeTried(c,u,o)&&this.tryInRepetitionRecovery(e,t,r,c)}function vv(e,t,r){return r|t|e}o(yv,"attemptInRepetitionRecovery"),o(vv,"getKeyForAutomaticLookahead");var xv=class{static{o(this,"LLkLookaheadStrategy")}constructor(e){var t;this.maxLookahead=null!==(t=e?.maxLookahead)&&void 0!==t?t:rx.maxLookahead}validate(e){let t=this.validateNoLeftRecursion(e.rules);if(gn(t)){let r=this.validateEmptyOrAlternatives(e.rules),i=this.validateAmbiguousAlternationAlternatives(e.rules,this.maxLookahead),n=this.validateSomeNonEmptyLookaheadPath(e.rules,this.maxLookahead);return[...t,...r,...i,...n]}return t}validateNoLeftRecursion(e){return yc(e,(e=>Gy(e,e,ny)))}validateEmptyOrAlternatives(e){return yc(e,(e=>Hy(e,ny)))}validateAmbiguousAlternationAlternatives(e,t){return yc(e,(e=>Vy(e,t,ny)))}validateSomeNonEmptyLookaheadPath(e,t){return Xy(e,t,ny)}buildLookaheadForAlternation(e){return Ty(e.prodOccurrence,e.rule,e.maxLookahead,e.hasPredicates,e.dynamicTokensEnabled,by)}buildLookaheadForOptional(e){return Cy(e.prodOccurrence,e.rule,e.maxLookahead,e.dynamicTokensEnabled,vy(e.prodType),ky)}},Tv=class{static{o(this,"LooksAhead")}initLooksAhead(e){this.dynamicTokensEnabled=Sc(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:rx.dynamicTokensEnabled,this.maxLookahead=Sc(e,"maxLookahead")?e.maxLookahead:rx.maxLookahead,this.lookaheadStrategy=Sc(e,"lookaheadStrategy")?e.lookaheadStrategy:new xv({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(e){Pa(e,(e=>{this.TRACE_INIT(`${e.name} Rule Lookahead`,(()=>{let{alternation:t,repetition:r,option:i,repetitionMandatory:n,repetitionMandatoryWithSeparator:a,repetitionWithSeparator:o}=kv(e);Pa(t,(t=>{let r=0===t.idx?"":t.idx;this.TRACE_INIT(`${pm(t)}${r}`,(()=>{let r=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:t.idx,rule:e,maxLookahead:t.maxLookahead||this.maxLookahead,hasPredicates:t.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),i=vv(this.fullRuleNameToShort[e.name],256,t.idx);this.setLaFuncCache(i,r)}))})),Pa(r,(t=>{this.computeLookaheadFunc(e,t.idx,768,"Repetition",t.maxLookahead,pm(t))})),Pa(i,(t=>{this.computeLookaheadFunc(e,t.idx,512,"Option",t.maxLookahead,pm(t))})),Pa(n,(t=>{this.computeLookaheadFunc(e,t.idx,1024,"RepetitionMandatory",t.maxLookahead,pm(t))})),Pa(a,(t=>{this.computeLookaheadFunc(e,t.idx,1536,"RepetitionMandatoryWithSeparator",t.maxLookahead,pm(t))})),Pa(o,(t=>{this.computeLookaheadFunc(e,t.idx,1280,"RepetitionWithSeparator",t.maxLookahead,pm(t))}))}))}))}computeLookaheadFunc(e,t,r,i,n,a){this.TRACE_INIT(`${a}${0===t?"":t}`,(()=>{let a=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:t,rule:e,maxLookahead:n||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:i}),o=vv(this.fullRuleNameToShort[e.name],r,t);this.setLaFuncCache(o,a)}))}getKeyForAutomaticLookahead(e,t){return vv(this.getLastExplicitRuleShortName(),e,t)}getLaFuncFromCache(e){return this.lookAheadFuncsCache.get(e)}setLaFuncCache(e,t){this.lookAheadFuncsCache.set(e,t)}},Cv=class extends um{static{o(this,"DslMethodsCollectorVisitor")}constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(e){this.dslMethods.option.push(e)}visitRepetitionWithSeparator(e){this.dslMethods.repetitionWithSeparator.push(e)}visitRepetitionMandatory(e){this.dslMethods.repetitionMandatory.push(e)}visitRepetitionMandatoryWithSeparator(e){this.dslMethods.repetitionMandatoryWithSeparator.push(e)}visitRepetition(e){this.dslMethods.repetition.push(e)}visitAlternation(e){this.dslMethods.alternation.push(e)}},bv=new Cv;function kv(e){bv.reset(),e.accept(bv);let t=bv.dslMethods;return bv.reset(),t}function _v(e,t){!0===isNaN(e.startOffset)?(e.startOffset=t.startOffset,e.endOffset=t.endOffset):e.endOffset<t.endOffset&&(e.endOffset=t.endOffset)}function Sv(e,t){!0===isNaN(e.startOffset)?(e.startOffset=t.startOffset,e.startColumn=t.startColumn,e.startLine=t.startLine,e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine):e.endOffset<t.endOffset&&(e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine)}function Av(e,t,r){void 0===e.children[r]?e.children[r]=[t]:e.children[r].push(t)}function Ev(e,t,r){void 0===e.children[t]?e.children[t]=[r]:e.children[t].push(r)}o(kv,"collectMethods"),o(_v,"setNodeLocationOnlyOffset"),o(Sv,"setNodeLocationFull"),o(Av,"addTerminalToCst"),o(Ev,"addNoneTerminalToCst");var wv;function Rv(e,t){Object.defineProperty(e,"name",{enumerable:!1,configurable:!0,writable:!1,value:t})}function $v(e,t){let r=vn(e),i=r.length;for(let n=0;n<i;n++){let i=e[r[n]],a=i.length;for(let e=0;e<a;e++){let r=i[e];void 0===r.tokenTypeIdx&&this[r.name](r.children,t)}}}function Lv(e,t){let r=o((function(){}),"derivedConstructor");Rv(r,e+"BaseSemantics");let i={visit:o((function(e,t){if(br(e)&&(e=e[0]),!Es(e))return this[e.name](e.children,t)}),"visit"),validateVisitor:o((function(){let e=Nv(this,t);if(!gn(e)){let t=Cs(e,(e=>e.msg));throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:\n\t${t.join("\n\n").replace(/\n/g,"\n\t")}`)}}),"validateVisitor")};return r.prototype=i,r.prototype.constructor=r,r._RULE_NAMES=t,r}function Iv(e,t,r){let i=o((function(){}),"derivedConstructor");Rv(i,e+"BaseSemanticsWithDefaults");let n=Object.create(r.prototype);return Pa(t,(e=>{n[e]=$v})),i.prototype=n,i.prototype.constructor=i,i}function Nv(e,t){return Ov(e,t)}function Ov(e,t){let r=ys(t,(t=>!1===ne(e[t]))),i=Cs(r,(t=>({msg:`Missing visitor method: <${t}> on ${e.constructor.name} CST Visitor.`,type:wv.MISSING_METHOD,methodName:t})));return jl(i)}o(Rv,"defineNameProp"),o($v,"defaultVisit"),o(Lv,"createBaseSemanticVisitorConstructor"),o(Iv,"createBaseVisitorConstructorWithDefaults"),function(e){e[e.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",e[e.MISSING_METHOD=1]="MISSING_METHOD"}(wv||(wv={})),o(Nv,"validateVisitor"),o(Ov,"validateMissingCstMethods");var Mv=class{static{o(this,"TreeBuilder")}initTreeBuilder(e){if(this.CST_STACK=[],this.outputCst=e.outputCst,this.nodeLocationTracking=Sc(e,"nodeLocationTracking")?e.nodeLocationTracking:rx.nodeLocationTracking,this.outputCst)if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=Sv,this.setNodeLocationFromNode=Sv,this.cstPostRule=hl,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=hl,this.setNodeLocationFromNode=hl,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=_v,this.setNodeLocationFromNode=_v,this.cstPostRule=hl,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=hl,this.setNodeLocationFromNode=hl,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else{if(!/none/i.test(this.nodeLocationTracking))throw Error(`Invalid <nodeLocationTracking> config option: "${e.nodeLocationTracking}"`);this.setNodeLocationFromToken=hl,this.setNodeLocationFromNode=hl,this.cstPostRule=hl,this.setInitialNodeLocation=hl}else this.cstInvocationStateUpdate=hl,this.cstFinallyStateUpdate=hl,this.cstPostTerminal=hl,this.cstPostNonTerminal=hl,this.cstPostRule=hl}setInitialNodeLocationOnlyOffsetRecovery(e){e.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(e){e.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(e){e.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(e){let t=this.LA(1);e.location={startOffset:t.startOffset,startLine:t.startLine,startColumn:t.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(e){let t={name:e,children:Object.create(null)};this.setInitialNodeLocation(t),this.CST_STACK.push(t)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(e){let t=this.LA(0),r=e.location;r.startOffset<=t.startOffset?(r.endOffset=t.endOffset,r.endLine=t.endLine,r.endColumn=t.endColumn):(r.startOffset=NaN,r.startLine=NaN,r.startColumn=NaN)}cstPostRuleOnlyOffset(e){let t=this.LA(0),r=e.location;r.startOffset<=t.startOffset?r.endOffset=t.endOffset:r.startOffset=NaN}cstPostTerminal(e,t){let r=this.CST_STACK[this.CST_STACK.length-1];Av(r,t,e),this.setNodeLocationFromToken(r.location,t)}cstPostNonTerminal(e,t){let r=this.CST_STACK[this.CST_STACK.length-1];Ev(r,t,e),this.setNodeLocationFromNode(r.location,e.location)}getBaseCstVisitorConstructor(){if(Es(this.baseCstVisitorConstructor)){let e=Lv(this.className,vn(this.gastProductionsCache));return this.baseCstVisitorConstructor=e,e}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(Es(this.baseCstVisitorWithDefaultsConstructor)){let e=Iv(this.className,vn(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=e,e}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){let e=this.RULE_STACK;return e[e.length-1]}getPreviousExplicitRuleShortName(){let e=this.RULE_STACK;return e[e.length-2]}getLastExplicitRuleOccurrenceIndex(){let e=this.RULE_OCCURRENCE_STACK;return e[e.length-1]}},Pv=class{static{o(this,"LexerAdapter")}initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(e){if(!0!==this.selfAnalysisDone)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=e,this.tokVectorLength=e.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):ex}LA(e){let t=this.currIdx+e;return t<0||this.tokVectorLength<=t?ex:this.tokVector[t]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(e){this.currIdx=e}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}},Bv=class{static{o(this,"RecognizerApi")}ACTION(e){return e.call(this)}consume(e,t,r){return this.consumeInternal(t,e,r)}subrule(e,t,r){return this.subruleInternal(t,e,r)}option(e,t){return this.optionInternal(t,e)}or(e,t){return this.orInternal(t,e)}many(e,t){return this.manyInternal(e,t)}atLeastOne(e,t){return this.atLeastOneInternal(e,t)}CONSUME(e,t){return this.consumeInternal(e,0,t)}CONSUME1(e,t){return this.consumeInternal(e,1,t)}CONSUME2(e,t){return this.consumeInternal(e,2,t)}CONSUME3(e,t){return this.consumeInternal(e,3,t)}CONSUME4(e,t){return this.consumeInternal(e,4,t)}CONSUME5(e,t){return this.consumeInternal(e,5,t)}CONSUME6(e,t){return this.consumeInternal(e,6,t)}CONSUME7(e,t){return this.consumeInternal(e,7,t)}CONSUME8(e,t){return this.consumeInternal(e,8,t)}CONSUME9(e,t){return this.consumeInternal(e,9,t)}SUBRULE(e,t){return this.subruleInternal(e,0,t)}SUBRULE1(e,t){return this.subruleInternal(e,1,t)}SUBRULE2(e,t){return this.subruleInternal(e,2,t)}SUBRULE3(e,t){return this.subruleInternal(e,3,t)}SUBRULE4(e,t){return this.subruleInternal(e,4,t)}SUBRULE5(e,t){return this.subruleInternal(e,5,t)}SUBRULE6(e,t){return this.subruleInternal(e,6,t)}SUBRULE7(e,t){return this.subruleInternal(e,7,t)}SUBRULE8(e,t){return this.subruleInternal(e,8,t)}SUBRULE9(e,t){return this.subruleInternal(e,9,t)}OPTION(e){return this.optionInternal(e,0)}OPTION1(e){return this.optionInternal(e,1)}OPTION2(e){return this.optionInternal(e,2)}OPTION3(e){return this.optionInternal(e,3)}OPTION4(e){return this.optionInternal(e,4)}OPTION5(e){return this.optionInternal(e,5)}OPTION6(e){return this.optionInternal(e,6)}OPTION7(e){return this.optionInternal(e,7)}OPTION8(e){return this.optionInternal(e,8)}OPTION9(e){return this.optionInternal(e,9)}OR(e){return this.orInternal(e,0)}OR1(e){return this.orInternal(e,1)}OR2(e){return this.orInternal(e,2)}OR3(e){return this.orInternal(e,3)}OR4(e){return this.orInternal(e,4)}OR5(e){return this.orInternal(e,5)}OR6(e){return this.orInternal(e,6)}OR7(e){return this.orInternal(e,7)}OR8(e){return this.orInternal(e,8)}OR9(e){return this.orInternal(e,9)}MANY(e){this.manyInternal(0,e)}MANY1(e){this.manyInternal(1,e)}MANY2(e){this.manyInternal(2,e)}MANY3(e){this.manyInternal(3,e)}MANY4(e){this.manyInternal(4,e)}MANY5(e){this.manyInternal(5,e)}MANY6(e){this.manyInternal(6,e)}MANY7(e){this.manyInternal(7,e)}MANY8(e){this.manyInternal(8,e)}MANY9(e){this.manyInternal(9,e)}MANY_SEP(e){this.manySepFirstInternal(0,e)}MANY_SEP1(e){this.manySepFirstInternal(1,e)}MANY_SEP2(e){this.manySepFirstInternal(2,e)}MANY_SEP3(e){this.manySepFirstInternal(3,e)}MANY_SEP4(e){this.manySepFirstInternal(4,e)}MANY_SEP5(e){this.manySepFirstInternal(5,e)}MANY_SEP6(e){this.manySepFirstInternal(6,e)}MANY_SEP7(e){this.manySepFirstInternal(7,e)}MANY_SEP8(e){this.manySepFirstInternal(8,e)}MANY_SEP9(e){this.manySepFirstInternal(9,e)}AT_LEAST_ONE(e){this.atLeastOneInternal(0,e)}AT_LEAST_ONE1(e){return this.atLeastOneInternal(1,e)}AT_LEAST_ONE2(e){this.atLeastOneInternal(2,e)}AT_LEAST_ONE3(e){this.atLeastOneInternal(3,e)}AT_LEAST_ONE4(e){this.atLeastOneInternal(4,e)}AT_LEAST_ONE5(e){this.atLeastOneInternal(5,e)}AT_LEAST_ONE6(e){this.atLeastOneInternal(6,e)}AT_LEAST_ONE7(e){this.atLeastOneInternal(7,e)}AT_LEAST_ONE8(e){this.atLeastOneInternal(8,e)}AT_LEAST_ONE9(e){this.atLeastOneInternal(9,e)}AT_LEAST_ONE_SEP(e){this.atLeastOneSepFirstInternal(0,e)}AT_LEAST_ONE_SEP1(e){this.atLeastOneSepFirstInternal(1,e)}AT_LEAST_ONE_SEP2(e){this.atLeastOneSepFirstInternal(2,e)}AT_LEAST_ONE_SEP3(e){this.atLeastOneSepFirstInternal(3,e)}AT_LEAST_ONE_SEP4(e){this.atLeastOneSepFirstInternal(4,e)}AT_LEAST_ONE_SEP5(e){this.atLeastOneSepFirstInternal(5,e)}AT_LEAST_ONE_SEP6(e){this.atLeastOneSepFirstInternal(6,e)}AT_LEAST_ONE_SEP7(e){this.atLeastOneSepFirstInternal(7,e)}AT_LEAST_ONE_SEP8(e){this.atLeastOneSepFirstInternal(8,e)}AT_LEAST_ONE_SEP9(e){this.atLeastOneSepFirstInternal(9,e)}RULE(e,t,r=ix){if($c(this.definedRulesNames,e)){let t={message:ny.buildDuplicateRuleNameError({topLevelRule:e,grammarName:this.className}),type:tx.DUPLICATE_RULE_NAME,ruleName:e};this.definitionErrors.push(t)}this.definedRulesNames.push(e);let i=this.defineRule(e,t,r);return this[e]=i,i}OVERRIDE_RULE(e,t,r=ix){let i=jy(e,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(i);let n=this.defineRule(e,t,r);return this[e]=n,n}BACKTRACK(e,t){return function(){this.isBackTrackingStack.push(1);let r=this.saveRecogState();try{return e.apply(this,t),!0}catch(e){if(sv(e))return!1;throw e}finally{this.reloadRecogState(r),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return lm(Ss(this.gastProductionsCache))}},Fv=class{static{o(this,"RecognizerEngine")}initRecognizerEngine(e,t){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=kg,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},Sc(t,"serializedGrammar"))throw Error("The Parser's configuration can no longer contain a <serializedGrammar> property.\n\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0\n\tFor Further details.");if(br(e)){if(gn(e))throw Error("A Token Vocabulary cannot be empty.\n\tNote that the first argument for the parser constructor\n\tis no longer a Token vector (since v4.0).");if("number"==typeof e[0].startOffset)throw Error("The Parser constructor no longer accepts a token vector as the first argument.\n\tSee: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0\n\tFor Further details.")}if(br(e))this.tokensMap=Js(e,((e,t)=>(e[t.name]=t,e)),{});else if(Sc(e,"modes")&&lc(Ws(Ss(e.modes)),Pg)){let t=Ws(Ss(e.modes)),r=wu(t);this.tokensMap=Js(r,((e,t)=>(e[t.name]=t,e)),{})}else{if(!re(e))throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap=ba(e)}this.tokensMap.EOF=Qg;let r=Sc(e,"modes")?Ws(Ss(e.modes)):Ss(e),i=lc(r,(e=>gn(e.categoryMatches)));this.tokenMatcher=i?kg:bg,Ag(Ss(this.tokensMap))}defineRule(e,t,r){if(this.selfAnalysisDone)throw Error(`Grammar rule <${e}> may not be defined after the 'performSelfAnalysis' method has been called'\nMake sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);let i,n=Sc(r,"resyncEnabled")?r.resyncEnabled:ix.resyncEnabled,a=Sc(r,"recoveryValueFunc")?r.recoveryValueFunc:ix.recoveryValueFunc,s=this.ruleShortNameIdx<<12;return this.ruleShortNameIdx++,this.shortRuleNameToFull[s]=e,this.fullRuleNameToShort[e]=s,i=!0===this.outputCst?o((function(...r){try{this.ruleInvocationStateUpdate(s,e,this.subruleIdx),t.apply(this,r);let i=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(i),i}catch(e){return this.invokeRuleCatch(e,n,a)}finally{this.ruleFinallyStateUpdate()}}),"invokeRuleWithTry"):o((function(...r){try{return this.ruleInvocationStateUpdate(s,e,this.subruleIdx),t.apply(this,r)}catch(e){return this.invokeRuleCatch(e,n,a)}finally{this.ruleFinallyStateUpdate()}}),"invokeRuleWithTryCst"),Object.assign(i,{ruleName:e,originalGrammarAction:t})}invokeRuleCatch(e,t,r){let i=1===this.RULE_STACK.length,n=t&&!this.isBackTracking()&&this.recoveryEnabled;if(sv(e)){let t=e;if(n){let i=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(i)){if(t.resyncedTokens=this.reSyncTo(i),this.outputCst){let e=this.CST_STACK[this.CST_STACK.length-1];return e.recoveredNode=!0,e}return r(e)}if(this.outputCst){let e=this.CST_STACK[this.CST_STACK.length-1];e.recoveredNode=!0,t.partialCstResult=e}throw t}if(i)return this.moveToTerminatedState(),r(e);throw t}throw e}optionInternal(e,t){let r=this.getKeyForAutomaticLookahead(512,t);return this.optionInternalLogic(e,t,r)}optionInternalLogic(e,t,r){let i,n=this.getLaFuncFromCache(r);if("function"!=typeof e){i=e.DEF;let t=e.GATE;if(void 0!==t){let e=n;n=o((()=>t.call(this)&&e.call(this)),"lookAheadFunc")}}else i=e;if(!0===n.call(this))return i.call(this)}atLeastOneInternal(e,t){let r=this.getKeyForAutomaticLookahead(1024,e);return this.atLeastOneInternalLogic(e,t,r)}atLeastOneInternalLogic(e,t,r){let i,n=this.getLaFuncFromCache(r);if("function"!=typeof t){i=t.DEF;let e=t.GATE;if(void 0!==e){let t=n;n=o((()=>e.call(this)&&t.call(this)),"lookAheadFunc")}}else i=t;if(!0!==n.call(this))throw this.raiseEarlyExitException(e,oy.REPETITION_MANDATORY,t.ERR_MSG);{let e=this.doSingleRepetition(i);for(;!0===n.call(this)&&!0===e;)e=this.doSingleRepetition(i)}this.attemptInRepetitionRecovery(this.atLeastOneInternal,[e,t],n,1024,e,fy)}atLeastOneSepFirstInternal(e,t){let r=this.getKeyForAutomaticLookahead(1536,e);this.atLeastOneSepFirstInternalLogic(e,t,r)}atLeastOneSepFirstInternalLogic(e,t,r){let i=t.DEF,n=t.SEP;if(!0!==this.getLaFuncFromCache(r).call(this))throw this.raiseEarlyExitException(e,oy.REPETITION_MANDATORY_WITH_SEPARATOR,t.ERR_MSG);{i.call(this);let t=o((()=>this.tokenMatcher(this.LA(1),n)),"separatorLookAheadFunc");for(;!0===this.tokenMatcher(this.LA(1),n);)this.CONSUME(n),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,n,t,i,py],t,1536,e,py)}}manyInternal(e,t){let r=this.getKeyForAutomaticLookahead(768,e);return this.manyInternalLogic(e,t,r)}manyInternalLogic(e,t,r){let i,n=this.getLaFuncFromCache(r);if("function"!=typeof t){i=t.DEF;let e=t.GATE;if(void 0!==e){let t=n;n=o((()=>e.call(this)&&t.call(this)),"lookaheadFunction")}}else i=t;let a=!0;for(;!0===n.call(this)&&!0===a;)a=this.doSingleRepetition(i);this.attemptInRepetitionRecovery(this.manyInternal,[e,t],n,768,e,hy,a)}manySepFirstInternal(e,t){let r=this.getKeyForAutomaticLookahead(1280,e);this.manySepFirstInternalLogic(e,t,r)}manySepFirstInternalLogic(e,t,r){let i=t.DEF,n=t.SEP;if(!0===this.getLaFuncFromCache(r).call(this)){i.call(this);let t=o((()=>this.tokenMatcher(this.LA(1),n)),"separatorLookAheadFunc");for(;!0===this.tokenMatcher(this.LA(1),n);)this.CONSUME(n),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,n,t,i,dy],t,1280,e,dy)}}repetitionSepSecondInternal(e,t,r,i,n){for(;r();)this.CONSUME(t),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,t,r,i,n],r,1536,e,n)}doSingleRepetition(e){let t=this.getLexerPosition();return e.call(this),this.getLexerPosition()>t}orInternal(e,t){let r=this.getKeyForAutomaticLookahead(256,t),i=br(e)?e:e.DEF,n=this.getLaFuncFromCache(r).call(this,i);if(void 0!==n)return i[n].ALT.call(this);this.raiseNoAltException(t,e.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),0===this.RULE_STACK.length&&!1===this.isAtEndOfInput()){let e=this.LA(1),t=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:e,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new hv(t,e))}}subruleInternal(e,t,r){let i;try{let n=void 0!==r?r.ARGS:void 0;return this.subruleIdx=t,i=e.apply(this,n),this.cstPostNonTerminal(i,void 0!==r&&void 0!==r.LABEL?r.LABEL:e.ruleName),i}catch(t){throw this.subruleInternalError(t,r,e.ruleName)}}subruleInternalError(e,t,r){throw sv(e)&&void 0!==e.partialCstResult&&(this.cstPostNonTerminal(e.partialCstResult,void 0!==t&&void 0!==t.LABEL?t.LABEL:r),delete e.partialCstResult),e}consumeInternal(e,t,r){let i;try{let t=this.LA(1);!0===this.tokenMatcher(t,e)?(this.consumeToken(),i=t):this.consumeInternalError(e,t,r)}catch(r){i=this.consumeInternalRecovery(e,t,r)}return this.cstPostTerminal(void 0!==r&&void 0!==r.LABEL?r.LABEL:e.name,i),i}consumeInternalError(e,t,r){let i,n=this.LA(0);throw i=void 0!==r&&r.ERR_MSG?r.ERR_MSG:this.errorMessageProvider.buildMismatchTokenMessage({expected:e,actual:t,previous:n,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new cv(i,t,n))}consumeInternalRecovery(e,t,r){if(!this.recoveryEnabled||"MismatchedTokenException"!==r.name||this.isBackTracking())throw r;{let i=this.getFollowsForInRuleRecovery(e,t);try{return this.tryInRuleRecovery(e,i)}catch(e){throw e.name===pv?r:e}}}saveRecogState(){let e=this.errors,t=ba(this.RULE_STACK);return{errors:e,lexerState:this.exportLexerState(),RULE_STACK:t,CST_STACK:this.CST_STACK}}reloadRecogState(e){this.errors=e.errors,this.importLexerState(e.lexerState),this.RULE_STACK=e.RULE_STACK}ruleInvocationStateUpdate(e,t,r){this.RULE_OCCURRENCE_STACK.push(r),this.RULE_STACK.push(e),this.cstInvocationStateUpdate(t)}isBackTracking(){return 0!==this.isBackTrackingStack.length}getCurrRuleFullName(){let e=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[e]}shortRuleNameToFullName(e){return this.shortRuleNameToFull[e]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),Qg)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}},Dv=class{static{o(this,"ErrorHandler")}initErrorHandler(e){this._errors=[],this.errorMessageProvider=Sc(e,"errorMessageProvider")?e.errorMessageProvider:rx.errorMessageProvider}SAVE_ERROR(e){if(sv(e))return e.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:ba(this.RULE_OCCURRENCE_STACK)},this._errors.push(e),e;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return ba(this._errors)}set errors(e){this._errors=e}raiseEarlyExitException(e,t,r){let i=this.getCurrRuleFullName(),n=Ly(e,this.getGAstProductions()[i],t,this.maxLookahead)[0],a=[];for(let e=1;e<=this.maxLookahead;e++)a.push(this.LA(e));let o=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:n,actual:a,previous:this.LA(0),customUserDescription:r,ruleName:i});throw this.SAVE_ERROR(new dv(o,this.LA(1),this.LA(0)))}raiseNoAltException(e,t){let r=this.getCurrRuleFullName(),i=$y(e,this.getGAstProductions()[r],this.maxLookahead),n=[];for(let e=1;e<=this.maxLookahead;e++)n.push(this.LA(e));let a=this.LA(0),o=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:i,actual:n,previous:a,customUserDescription:t,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new uv(o,this.LA(1),a))}},Uv=class{static{o(this,"ContentAssist")}initContentAssist(){}computeContentAssist(e,t){let r=this.gastProductionsCache[e];if(Es(r))throw Error(`Rule ->${e}<- does not exist in this grammar.`);return gy([r],t,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(e){let t=mc(e.ruleStack),r=this.getGAstProductions()[t];return new cy(r,e).startWalking()}},zv={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(zv);var jv=!0,Gv=Math.pow(2,8)-1,Wv=Jg({name:"RECORDING_PHASE_TOKEN",pattern:Ug.NA});Ag([Wv]);var qv=ey(Wv,"This IToken indicates the Parser is in Recording Phase\n\tSee: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",-1,-1,-1,-1,-1,-1);Object.freeze(qv);var Hv={name:"This CSTNode indicates the Parser is in Recording Phase\n\tSee: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details",children:{}},Vv=class{static{o(this,"GastRecorder")}initGastRecorder(e){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",(()=>{for(let e=0;e<10;e++){let t=e>0?e:"";this[`CONSUME${t}`]=function(t,r){return this.consumeInternalRecord(t,e,r)},this[`SUBRULE${t}`]=function(t,r){return this.subruleInternalRecord(t,e,r)},this[`OPTION${t}`]=function(t){return this.optionInternalRecord(t,e)},this[`OR${t}`]=function(t){return this.orInternalRecord(t,e)},this[`MANY${t}`]=function(t){this.manyInternalRecord(e,t)},this[`MANY_SEP${t}`]=function(t){this.manySepFirstInternalRecord(e,t)},this[`AT_LEAST_ONE${t}`]=function(t){this.atLeastOneInternalRecord(e,t)},this[`AT_LEAST_ONE_SEP${t}`]=function(t){this.atLeastOneSepFirstInternalRecord(e,t)}}this.consume=function(e,t,r){return this.consumeInternalRecord(t,e,r)},this.subrule=function(e,t,r){return this.subruleInternalRecord(t,e,r)},this.option=function(e,t){return this.optionInternalRecord(t,e)},this.or=function(e,t){return this.orInternalRecord(t,e)},this.many=function(e,t){this.manyInternalRecord(e,t)},this.atLeastOne=function(e,t){this.atLeastOneInternalRecord(e,t)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD}))}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",(()=>{let e=this;for(let t=0;t<10;t++){let r=t>0?t:"";delete e[`CONSUME${r}`],delete e[`SUBRULE${r}`],delete e[`OPTION${r}`],delete e[`OR${r}`],delete e[`MANY${r}`],delete e[`MANY_SEP${r}`],delete e[`AT_LEAST_ONE${r}`],delete e[`AT_LEAST_ONE_SEP${r}`]}delete e.consume,delete e.subrule,delete e.option,delete e.or,delete e.many,delete e.atLeastOne,delete e.ACTION,delete e.BACKTRACK,delete e.LA}))}ACTION_RECORD(e){}BACKTRACK_RECORD(e,t){return()=>!0}LA_RECORD(e){return ex}topLevelRuleRecord(e,t){try{let r=new Qp({definition:[],name:e});return r.name=e,this.recordingProdStack.push(r),t.call(this),this.recordingProdStack.pop(),r}catch(e){if(!0!==e.KNOWN_RECORDER_ERROR)try{e.message=e.message+'\n\t This error was thrown during the "grammar recording phase" For more info see:\n\thttps://chevrotain.io/docs/guide/internals.html#grammar-recording'}catch{throw e}throw e}}optionInternalRecord(e,t){return Kv.call(this,tm,e,t)}atLeastOneInternalRecord(e,t){Kv.call(this,rm,t,e)}atLeastOneSepFirstInternalRecord(e,t){Kv.call(this,im,t,e,jv)}manyInternalRecord(e,t){Kv.call(this,nm,t,e)}manySepFirstInternalRecord(e,t){Kv.call(this,am,t,e,jv)}orInternalRecord(e,t){return Yv.call(this,e,t)}subruleInternalRecord(e,t,r){if(Jv(t),!e||!1===Sc(e,"ruleName")){let r=new Error(`<SUBRULE${Xv(t)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(e)}>\n inside top level rule: <${this.recordingProdStack[0].name}>`);throw r.KNOWN_RECORDER_ERROR=!0,r}let i=wa(this.recordingProdStack),n=e.ruleName,a=new Zp({idx:t,nonTerminalName:n,label:r?.LABEL,referencedRule:void 0});return i.definition.push(a),this.outputCst?Hv:zv}consumeInternalRecord(e,t,r){if(Jv(t),!Ig(e)){let r=new Error(`<CONSUME${Xv(t)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(e)}>\n inside top level rule: <${this.recordingProdStack[0].name}>`);throw r.KNOWN_RECORDER_ERROR=!0,r}let i=wa(this.recordingProdStack),n=new sm({idx:t,terminalType:e,label:r?.LABEL});return i.definition.push(n),qv}};function Kv(e,t,r,i=!1){Jv(r);let n=wa(this.recordingProdStack),a=ne(t)?t:t.DEF,o=new e({definition:[],idx:r});return i&&(o.separator=t.SEP),Sc(t,"MAX_LOOKAHEAD")&&(o.maxLookahead=t.MAX_LOOKAHEAD),this.recordingProdStack.push(o),a.call(this),n.definition.push(o),this.recordingProdStack.pop(),zv}function Yv(e,t){Jv(t);let r=wa(this.recordingProdStack),i=!1===br(e),n=!1===i?e:e.DEF,a=new om({definition:[],idx:t,ignoreAmbiguities:i&&!0===e.IGNORE_AMBIGUITIES});Sc(e,"MAX_LOOKAHEAD")&&(a.maxLookahead=e.MAX_LOOKAHEAD);let o=Au(n,(e=>ne(e.GATE)));return a.hasPredicates=o,r.definition.push(a),Pa(n,(e=>{let t=new em({definition:[]});a.definition.push(t),Sc(e,"IGNORE_AMBIGUITIES")?t.ignoreAmbiguities=e.IGNORE_AMBIGUITIES:Sc(e,"GATE")&&(t.ignoreAmbiguities=!0),this.recordingProdStack.push(t),e.ALT.call(this),this.recordingProdStack.pop()})),zv}function Xv(e){return 0===e?"":`${e}`}function Jv(e){if(e<0||e>Gv){let t=new Error(`Invalid DSL Method idx value: <${e}>\n\tIdx value must be a none negative value smaller than ${Gv+1}`);throw t.KNOWN_RECORDER_ERROR=!0,t}}o(Kv,"recordProd"),o(Yv,"recordOrProd"),o(Xv,"getIdxSuffix"),o(Jv,"assertMethodIdxIsValid");var Zv=class{static{o(this,"PerformanceTracer")}initPerformanceTracer(e){if(Sc(e,"traceInitPerf")){let t=e.traceInitPerf,r="number"==typeof t;this.traceInitMaxIdent=r?t:1/0,this.traceInitPerf=r?t>0:t}else this.traceInitMaxIdent=0,this.traceInitPerf=rx.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(e,t){if(!0===this.traceInitPerf){this.traceInitIndent++;let r=new Array(this.traceInitIndent+1).join("\t");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${r}--\x3e <${e}>`);let{time:i,value:n}=Vp(t),a=i>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&a(`${r}<-- <${e}> time: ${i}ms`),this.traceInitIndent--,n}return t()}};function Qv(e,t){t.forEach((t=>{let r=t.prototype;Object.getOwnPropertyNames(r).forEach((i=>{if("constructor"===i)return;let n=Object.getOwnPropertyDescriptor(r,i);n&&(n.get||n.set)?Object.defineProperty(e.prototype,i,n):e.prototype[i]=t.prototype[i]}))}))}o(Qv,"applyMixins");var ex=ey(Qg,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(ex);var tx,rx=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:ry,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),ix=Object.freeze({recoveryValueFunc:o((()=>{}),"recoveryValueFunc"),resyncEnabled:!0});function nx(e=void 0){return function(){return e}}!function(e){e[e.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",e[e.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",e[e.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",e[e.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",e[e.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",e[e.LEFT_RECURSION=5]="LEFT_RECURSION",e[e.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",e[e.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",e[e.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",e[e.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",e[e.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",e[e.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",e[e.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",e[e.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"}(tx||(tx={})),o(nx,"EMPTY_ALT");var ax=class e{static{o(this,"Parser")}static performSelfAnalysis(e){throw Error("The **static** `performSelfAnalysis` method has been deprecated.\t\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",(()=>{let t;this.selfAnalysisDone=!0;let r=this.className;this.TRACE_INIT("toFastProps",(()=>{Kp(this)})),this.TRACE_INIT("Grammar Recording",(()=>{try{this.enableRecording(),Pa(this.definedRulesNames,(e=>{let t,r=this[e].originalGrammarAction;this.TRACE_INIT(`${e} Rule`,(()=>{t=this.topLevelRuleRecord(e,r)})),this.gastProductionsCache[e]=t}))}finally{this.disableRecording()}}));let i=[];if(this.TRACE_INIT("Grammar Resolving",(()=>{i=ev({rules:Ss(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(i)})),this.TRACE_INIT("Grammar Validations",(()=>{if(gn(i)&&!1===this.skipValidations){let e=tv({rules:Ss(this.gastProductionsCache),tokenTypes:Ss(this.tokensMap),errMsgProvider:ny,grammarName:r}),t=My({lookaheadStrategy:this.lookaheadStrategy,rules:Ss(this.gastProductionsCache),tokenTypes:Ss(this.tokensMap),grammarName:r});this.definitionErrors=this.definitionErrors.concat(e,t)}})),gn(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",(()=>{let e=km(Ss(this.gastProductionsCache));this.resyncFollows=e})),this.TRACE_INIT("ComputeLookaheadFunctions",(()=>{var e,t;null===(t=(e=this.lookaheadStrategy).initialize)||void 0===t||t.call(e,{rules:Ss(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(Ss(this.gastProductionsCache))}))),!e.DEFER_DEFINITION_ERRORS_HANDLING&&!gn(this.definitionErrors))throw t=Cs(this.definitionErrors,(e=>e.message)),new Error(`Parser Definition Errors detected:\n ${t.join("\n-------------------------------\n")}`)}))}constructor(e,t){this.definitionErrors=[],this.selfAnalysisDone=!1;let r=this;if(r.initErrorHandler(t),r.initLexerAdapter(),r.initLooksAhead(t),r.initRecognizerEngine(e,t),r.initRecoverable(t),r.initTreeBuilder(t),r.initContentAssist(),r.initGastRecorder(t),r.initPerformanceTracer(t),Sc(t,"ignoredIssues"))throw new Error("The <ignoredIssues> IParserConfig property has been deprecated.\n\tPlease use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.\n\tSee: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES\n\tFor further details.");this.skipValidations=Sc(t,"skipValidations")?t.skipValidations:rx.skipValidations}};ax.DEFER_DEFINITION_ERRORS_HANDLING=!1,Qv(ax,[gv,Tv,Mv,Pv,Fv,Bv,Dv,Uv,Vv,Zv]);var ox=class extends ax{static{o(this,"EmbeddedActionsParser")}constructor(e,t=rx){let r=ba(t);r.outputCst=!1,super(e,r)}};function sx(e,t,r){return`${e.name}_${t}_${r}`}o(sx,"buildATNKey");var lx=class{static{o(this,"AbstractTransition")}constructor(e){this.target=e}isEpsilon(){return!1}},cx=class extends lx{static{o(this,"AtomTransition")}constructor(e,t){super(e),this.tokenType=t}},ux=class extends lx{static{o(this,"EpsilonTransition")}constructor(e){super(e)}isEpsilon(){return!0}},hx=class extends lx{static{o(this,"RuleTransition")}constructor(e,t,r){super(e),this.rule=t,this.followState=r}isEpsilon(){return!0}};function dx(e){let t={decisionMap:{},decisionStates:[],ruleToStartState:new Map,ruleToStopState:new Map,states:[]};fx(t,e);let r=e.length;for(let i=0;i<r;i++){let r=e[i],n=Cx(t,r,r);void 0!==n&&Lx(t,r,n)}return t}function fx(e,t){let r=t.length;for(let i=0;i<r;i++){let r=t[i],n=Nx(e,r,void 0,{type:2}),a=Nx(e,r,void 0,{type:7});n.stop=a,e.ruleToStartState.set(r,n),e.ruleToStopState.set(r,a)}}function px(e,t,r){return r instanceof sm?Rx(e,t,r.terminalType,r):r instanceof Zp?$x(e,t,r):r instanceof om?xx(e,t,r):r instanceof tm?Tx(e,t,r):r instanceof nm?mx(e,t,r):r instanceof am?gx(e,t,r):r instanceof rm?yx(e,t,r):r instanceof im?vx(e,t,r):Cx(e,t,r)}function mx(e,t,r){let i=Nx(e,t,r,{type:5});return Sx(e,i),kx(e,t,r,Ax(e,t,i,r,Cx(e,t,r)))}function gx(e,t,r){let i=Nx(e,t,r,{type:5});return Sx(e,i),kx(e,t,r,Ax(e,t,i,r,Cx(e,t,r)),Rx(e,t,r.separator,r))}function yx(e,t,r){let i=Nx(e,t,r,{type:4});return Sx(e,i),bx(e,t,r,Ax(e,t,i,r,Cx(e,t,r)))}function vx(e,t,r){let i=Nx(e,t,r,{type:4});return Sx(e,i),bx(e,t,r,Ax(e,t,i,r,Cx(e,t,r)),Rx(e,t,r.separator,r))}function xx(e,t,r){let i=Nx(e,t,r,{type:1});Sx(e,i);let n=Cs(r.definition,(r=>px(e,t,r)));return Ax(e,t,i,r,...n)}function Tx(e,t,r){let i=Nx(e,t,r,{type:1});return Sx(e,i),_x(e,t,r,Ax(e,t,i,r,Cx(e,t,r)))}function Cx(e,t,r){let i=ys(Cs(r.definition,(r=>px(e,t,r))),(e=>void 0!==e));return 1===i.length?i[0]:0===i.length?void 0:wx(e,i)}function bx(e,t,r,i,n){let a=i.left,o=i.right,s=Nx(e,t,r,{type:11});Sx(e,s);let l=Nx(e,t,r,{type:12});return a.loopback=s,l.loopback=s,e.decisionMap[sx(t,n?"RepetitionMandatoryWithSeparator":"RepetitionMandatory",r.idx)]=s,Ix(o,s),void 0===n?(Ix(s,a),Ix(s,l)):(Ix(s,l),Ix(s,n.left),Ix(n.right,a)),{left:a,right:l}}function kx(e,t,r,i,n){let a=i.left,o=i.right,s=Nx(e,t,r,{type:10});Sx(e,s);let l=Nx(e,t,r,{type:12}),c=Nx(e,t,r,{type:9});return s.loopback=c,l.loopback=c,Ix(s,a),Ix(s,l),Ix(o,c),void 0!==n?(Ix(c,l),Ix(c,n.left),Ix(n.right,a)):Ix(c,s),e.decisionMap[sx(t,n?"RepetitionWithSeparator":"Repetition",r.idx)]=s,{left:s,right:l}}function _x(e,t,r,i){let n=i.left;return Ix(n,i.right),e.decisionMap[sx(t,"Option",r.idx)]=n,i}function Sx(e,t){return e.decisionStates.push(t),t.decision=e.decisionStates.length-1,t.decision}function Ax(e,t,r,i,...n){let a=Nx(e,t,i,{type:8,start:r});r.end=a;for(let e of n)void 0!==e?(Ix(r,e.left),Ix(e.right,a)):Ix(r,a);let o={left:r,right:a};return e.decisionMap[sx(t,Ex(i),i.idx)]=r,o}function Ex(e){if(e instanceof om)return"Alternation";if(e instanceof tm)return"Option";if(e instanceof nm)return"Repetition";if(e instanceof am)return"RepetitionWithSeparator";if(e instanceof rm)return"RepetitionMandatory";if(e instanceof im)return"RepetitionMandatoryWithSeparator";throw new Error("Invalid production type encountered")}function wx(e,t){let r=t.length;for(let i=0;i<r-1;i++){let r,n=t[i];1===n.left.transitions.length&&(r=n.left.transitions[0]);let a=r instanceof hx,o=r,s=t[i+1].left;1===n.left.type&&1===n.right.type&&void 0!==r&&(a&&o.followState===n.right||r.target===n.right)?(a?o.followState=s:r.target=s,Mx(e,n.right)):Ix(n.right,s)}let i=t[0],n=t[r-1];return{left:i.left,right:n.right}}function Rx(e,t,r,i){let n=Nx(e,t,i,{type:1}),a=Nx(e,t,i,{type:1});return Ox(n,new cx(a,r)),{left:n,right:a}}function $x(e,t,r){let i=r.referencedRule,n=e.ruleToStartState.get(i),a=Nx(e,t,r,{type:1}),o=Nx(e,t,r,{type:1});return Ox(a,new hx(n,i,o)),{left:a,right:o}}function Lx(e,t,r){let i=e.ruleToStartState.get(t);Ix(i,r.left);let n=e.ruleToStopState.get(t);return Ix(r.right,n),{left:i,right:n}}function Ix(e,t){Ox(e,new ux(t))}function Nx(e,t,r,i){let n=Object.assign({atn:e,production:r,epsilonOnlyTransitions:!1,rule:t,transitions:[],nextTokenWithinRule:[],stateNumber:e.states.length},i);return e.states.push(n),n}function Ox(e,t){0===e.transitions.length&&(e.epsilonOnlyTransitions=t.isEpsilon()),e.transitions.push(t)}function Mx(e,t){e.states.splice(e.states.indexOf(t),1)}o(dx,"createATN"),o(fx,"createRuleStartAndStopATNStates"),o(px,"atom"),o(mx,"repetition"),o(gx,"repetitionSep"),o(yx,"repetitionMandatory"),o(vx,"repetitionMandatorySep"),o(xx,"alternation"),o(Tx,"option"),o(Cx,"block"),o(bx,"plus"),o(kx,"star"),o(_x,"optional"),o(Sx,"defineDecisionState"),o(Ax,"makeAlts"),o(Ex,"getProdType"),o(wx,"makeBlock"),o(Rx,"tokenRef"),o($x,"ruleRef"),o(Lx,"buildRuleHandle"),o(Ix,"epsilon"),o(Nx,"newState"),o(Ox,"addTransition"),o(Mx,"removeState");var Px={},Bx=class{static{o(this,"ATNConfigSet")}constructor(){this.map={},this.configs=[]}get size(){return this.configs.length}finalize(){this.map={}}add(e){let t=Fx(e);t in this.map||(this.map[t]=this.configs.length,this.configs.push(e))}get elements(){return this.configs}get alts(){return Cs(this.configs,(e=>e.alt))}get key(){let e="";for(let t in this.map)e+=t+":";return e}};function Fx(e,t=!0){return`${t?`a${e.alt}`:""}s${e.state.stateNumber}:${e.stack.map((e=>e.stateNumber.toString())).join("_")}`}function Dx(e,t){let r={};return i=>{let n=i.toString(),a=r[n];return void 0!==a||(a={atnStartState:e,decision:t,states:{}},r[n]=a),a}}o(Fx,"getATNConfigKey"),o(Dx,"createDFACache");var Ux,zx,jx,Gx,Wx,qx,Hx,Vx,Kx,Yx,Xx,Jx,Zx,Qx,eT,tT,rT,iT,nT,aT,oT,sT,lT,cT,uT,hT,dT,fT,pT,mT,gT,yT,vT,xT,TT,CT,bT,kT,_T,ST,AT,ET,wT,RT,$T,LT,IT,NT,OT,MT,PT,BT,FT,DT,UT,zT,jT,GT,WT,qT,HT,VT,KT,YT,XT,JT,ZT,QT,eC,tC,rC,iC,nC,aC,oC,sC,lC,cC,uC,hC=class{static{o(this,"PredicateSet")}constructor(){this.predicates=[]}is(e){return e>=this.predicates.length||this.predicates[e]}set(e,t){this.predicates[e]=t}toString(){let e="",t=this.predicates.length;for(let r=0;r<t;r++)e+=!0===this.predicates[r]?"1":"0";return e}},dC=new hC,fC=class extends xv{static{o(this,"LLStarLookaheadStrategy")}constructor(e){var t;super(),this.logging=null!==(t=e?.logging)&&void 0!==t?t:e=>console.log(e)}initialize(e){this.atn=dx(e.rules),this.dfas=mC(this.atn)}validateAmbiguousAlternationAlternatives(){return[]}validateEmptyOrAlternatives(){return[]}buildLookaheadForAlternation(e){let{prodOccurrence:t,rule:r,hasPredicates:i,dynamicTokensEnabled:n}=e,a=this.dfas,o=this.logging,s=sx(r,"Alternation",t),l=this.atn.decisionMap[s].decision,c=Cs(xy({maxLookahead:1,occurrence:t,prodType:"Alternation",rule:r}),(e=>Cs(e,(e=>e[0]))));if(pC(c,!1)&&!n){let e=Js(c,((e,t,r)=>(Pa(t,(t=>{t&&(e[t.tokenTypeIdx]=r,Pa(t.categoryMatches,(t=>{e[t]=r})))})),e)),{});return i?function(t){var r;let i=this.LA(1),n=e[i.tokenTypeIdx];if(void 0!==t&&void 0!==n){let e=null===(r=t[n])||void 0===r?void 0:r.GATE;if(void 0!==e&&!1===e.call(this))return}return n}:function(){let t=this.LA(1);return e[t.tokenTypeIdx]}}return i?function(e){let t=new hC,r=void 0===e?0:e.length;for(let i=0;i<r;i++){let r=e?.[i].GATE;t.set(i,void 0===r||r.call(this))}let i=gC.call(this,a,l,t,o);return"number"==typeof i?i:void 0}:function(){let e=gC.call(this,a,l,dC,o);return"number"==typeof e?e:void 0}}buildLookaheadForOptional(e){let{prodOccurrence:t,rule:r,prodType:i,dynamicTokensEnabled:n}=e,a=this.dfas,o=this.logging,s=sx(r,i,t),l=this.atn.decisionMap[s].decision,c=Cs(xy({maxLookahead:1,occurrence:t,prodType:i,rule:r}),(e=>Cs(e,(e=>e[0]))));if(pC(c)&&c[0][0]&&!n){let e=c[0],t=Ws(e);if(1===t.length&&gn(t[0].categoryMatches)){let e=t[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===e}}{let e=Js(t,((e,t)=>(void 0!==t&&(e[t.tokenTypeIdx]=!0,Pa(t.categoryMatches,(t=>{e[t]=!0}))),e)),{});return function(){let t=this.LA(1);return!0===e[t.tokenTypeIdx]}}}return function(){let e=gC.call(this,a,l,dC,o);return"object"!=typeof e&&0===e}}};function pC(e,t=!0){let r=new Set;for(let i of e){let e=new Set;for(let n of i){if(void 0===n){if(t)break;return!1}let i=[n.tokenTypeIdx].concat(n.categoryMatches);for(let t of i)if(r.has(t)){if(!e.has(t))return!1}else r.add(t),e.add(t)}}return!0}function mC(e){let t=e.decisionStates.length,r=Array(t);for(let i=0;i<t;i++)r[i]=Dx(e.decisionStates[i],i);return r}function gC(e,t,r,i){let n=e[t](r),a=n.start;if(void 0===a){a=RC(n,EC($C(n.atnStartState))),n.start=a}return yC.apply(this,[n,a,r,i])}function yC(e,t,r,i){let n=t,a=1,o=[],s=this.LA(a++);for(;;){let t=kC(n,s);if(void 0===t&&(t=vC.apply(this,[e,n,s,a,r,i])),t===Px)return bC(o,n,s);if(!0===t.isAcceptState)return t.prediction;n=t,o.push(s),s=this.LA(a++)}}function vC(e,t,r,i,n,a){let o=_C(t.configs,r,n);if(0===o.size)return wC(e,t,r,Px),Px;let s=EC(o),l=AC(o,n);if(void 0!==l)s.isAcceptState=!0,s.prediction=l,s.configs.uniqueAlt=l;else if(MC(o)){let t=zc(o.alts);s.isAcceptState=!0,s.prediction=t,s.configs.uniqueAlt=t,xC.apply(this,[e,i,o.alts,a])}return s=wC(e,t,r,s),s}function xC(e,t,r,i){let n=[];for(let e=1;e<=t;e++)n.push(this.LA(e).tokenType);let a=e.atnStartState;i(TC({topLevelRule:a.rule,ambiguityIndices:r,production:a.production,prefixPath:n}))}function TC(e){let t=Cs(e.prefixPath,(e=>zg(e))).join(", "),r=0===e.production.idx?"":e.production.idx,i=`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(", ")}> in <${CC(e.production)}${r}> inside <${e.topLevelRule.name}> Rule,\n<${t}> may appears as a prefix path in all these alternatives.\n`;return i+="See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES\nFor Further details.",i}function CC(e){if(e instanceof Zp)return"SUBRULE";if(e instanceof tm)return"OPTION";if(e instanceof om)return"OR";if(e instanceof rm)return"AT_LEAST_ONE";if(e instanceof im)return"AT_LEAST_ONE_SEP";if(e instanceof am)return"MANY_SEP";if(e instanceof nm)return"MANY";if(e instanceof sm)return"CONSUME";throw Error("non exhaustive match")}function bC(e,t,r){let i=yc(t.configs.elements,(e=>e.state.transitions)),n=$u(i.filter((e=>e instanceof cx)).map((e=>e.tokenType)),(e=>e.tokenTypeIdx));return{actualToken:r,possibleTokenTypes:n,tokenPath:e}}function kC(e,t){return e.edges[t.tokenTypeIdx]}function _C(e,t,r){let i,n=new Bx,a=[];for(let i of e.elements){if(!1===r.is(i.alt))continue;if(7===i.state.type){a.push(i);continue}let e=i.state.transitions.length;for(let r=0;r<e;r++){let e=SC(i.state.transitions[r],t);void 0!==e&&n.add({state:e,alt:i.alt,stack:i.stack})}}if(0===a.length&&1===n.size&&(i=n),void 0===i){i=new Bx;for(let e of n.elements)LC(e,i)}if(a.length>0&&!NC(i))for(let e of a)i.add(e);return i}function SC(e,t){if(e instanceof cx&&ty(t,e.tokenType))return e.target}function AC(e,t){let r;for(let i of e.elements)if(!0===t.is(i.alt))if(void 0===r)r=i.alt;else if(r!==i.alt)return;return r}function EC(e){return{configs:e,edges:{},isAcceptState:!1,prediction:-1}}function wC(e,t,r,i){return i=RC(e,i),t.edges[r.tokenTypeIdx]=i,i}function RC(e,t){if(t===Px)return t;let r=t.configs.key,i=e.states[r];return void 0!==i?i:(t.configs.finalize(),e.states[r]=t,t)}function $C(e){let t=new Bx,r=e.transitions.length;for(let i=0;i<r;i++){LC({state:e.transitions[i].target,alt:i,stack:[]},t)}return t}function LC(e,t){let r=e.state;if(7===r.type){if(e.stack.length>0){let r=[...e.stack];LC({state:r.pop(),alt:e.alt,stack:r},t)}else t.add(e);return}r.epsilonOnlyTransitions||t.add(e);let i=r.transitions.length;for(let n=0;n<i;n++){let i=IC(e,r.transitions[n]);void 0!==i&&LC(i,t)}}function IC(e,t){if(t instanceof ux)return{state:t.target,alt:e.alt,stack:e.stack};if(t instanceof hx){let r=[...e.stack,t.followState];return{state:t.target,alt:e.alt,stack:r}}}function NC(e){for(let t of e.elements)if(7===t.state.type)return!0;return!1}function OC(e){for(let t of e.elements)if(7!==t.state.type)return!1;return!0}function MC(e){if(OC(e))return!0;let t=PC(e.elements);return BC(t)&&!FC(t)}function PC(e){let t=new Map;for(let r of e){let e=Fx(r,!1),i=t.get(e);void 0===i&&(i={},t.set(e,i)),i[r.alt]=!0}return t}function BC(e){for(let t of Array.from(e.values()))if(Object.keys(t).length>1)return!0;return!1}function FC(e){for(let t of Array.from(e.values()))if(1===Object.keys(t).length)return!0;return!1}o(pC,"isLL1Sequence"),o(mC,"initATNSimulator"),o(gC,"adaptivePredict"),o(yC,"performLookahead"),o(vC,"computeLookaheadTarget"),o(xC,"reportLookaheadAmbiguity"),o(TC,"buildAmbiguityError"),o(CC,"getProductionDslName"),o(bC,"buildAdaptivePredictError"),o(kC,"getExistingTargetState"),o(_C,"computeReachSet"),o(SC,"getReachableTarget"),o(AC,"getUniqueAlt"),o(EC,"newDFAState"),o(wC,"addDFAEdge"),o(RC,"addDFAState"),o($C,"computeStartState"),o(LC,"closure"),o(IC,"getEpsilonTarget"),o(NC,"hasConfigInRuleStopState"),o(OC,"allConfigsInRuleStopStates"),o(MC,"hasConflictTerminatingPrediction"),o(PC,"getConflictingAltSets"),o(BC,"hasConflictingAltSet"),o(FC,"hasStateAssociatedWithOneAlt"),function(e){function t(e){return"string"==typeof e}o(t,"is"),e.is=t}(Ux||(Ux={})),function(e){function t(e){return"string"==typeof e}o(t,"is"),e.is=t}(zx||(zx={})),function(e){function t(t){return"number"==typeof t&&e.MIN_VALUE<=t&&t<=e.MAX_VALUE}e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647,o(t,"is"),e.is=t}(jx||(jx={})),function(e){function t(t){return"number"==typeof t&&e.MIN_VALUE<=t&&t<=e.MAX_VALUE}e.MIN_VALUE=0,e.MAX_VALUE=2147483647,o(t,"is"),e.is=t}(Gx||(Gx={})),function(e){function t(e,t){return e===Number.MAX_VALUE&&(e=Gx.MAX_VALUE),t===Number.MAX_VALUE&&(t=Gx.MAX_VALUE),{line:e,character:t}}function r(e){let t=e;return DC.objectLiteral(t)&&DC.uinteger(t.line)&&DC.uinteger(t.character)}o(t,"create"),e.create=t,o(r,"is"),e.is=r}(Wx||(Wx={})),function(e){function t(e,t,r,i){if(DC.uinteger(e)&&DC.uinteger(t)&&DC.uinteger(r)&&DC.uinteger(i))return{start:Wx.create(e,t),end:Wx.create(r,i)};if(Wx.is(e)&&Wx.is(t))return{start:e,end:t};throw new Error(`Range#create called with invalid arguments[${e}, ${t}, ${r}, ${i}]`)}function r(e){let t=e;return DC.objectLiteral(t)&&Wx.is(t.start)&&Wx.is(t.end)}o(t,"create"),e.create=t,o(r,"is"),e.is=r}(qx||(qx={})),function(e){function t(e,t){return{uri:e,range:t}}function r(e){let t=e;return DC.objectLiteral(t)&&qx.is(t.range)&&(DC.string(t.uri)||DC.undefined(t.uri))}o(t,"create"),e.create=t,o(r,"is"),e.is=r}(Hx||(Hx={})),function(e){function t(e,t,r,i){return{targetUri:e,targetRange:t,targetSelectionRange:r,originSelectionRange:i}}function r(e){let t=e;return DC.objectLiteral(t)&&qx.is(t.targetRange)&&DC.string(t.targetUri)&&qx.is(t.targetSelectionRange)&&(qx.is(t.originSelectionRange)||DC.undefined(t.originSelectionRange))}o(t,"create"),e.create=t,o(r,"is"),e.is=r}(Vx||(Vx={})),function(e){function t(e,t,r,i){return{red:e,green:t,blue:r,alpha:i}}function r(e){let t=e;return DC.objectLiteral(t)&&DC.numberRange(t.red,0,1)&&DC.numberRange(t.green,0,1)&&DC.numberRange(t.blue,0,1)&&DC.numberRange(t.alpha,0,1)}o(t,"create"),e.create=t,o(r,"is"),e.is=r}(Kx||(Kx={})),function(e){function t(e,t){return{range:e,color:t}}function r(e){let t=e;return DC.objectLiteral(t)&&qx.is(t.range)&&Kx.is(t.color)}o(t,"create"),e.create=t,o(r,"is"),e.is=r}(Yx||(Yx={})),function(e){function t(e,t,r){return{label:e,textEdit:t,additionalTextEdits:r}}function r(e){let t=e;return DC.objectLiteral(t)&&DC.string(t.label)&&(DC.undefined(t.textEdit)||aT.is(t))&&(DC.undefined(t.additionalTextEdits)||DC.typedArray(t.additionalTextEdits,aT.is))}o(t,"create"),e.create=t,o(r,"is"),e.is=r}(Xx||(Xx={})),function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(Jx||(Jx={})),function(e){function t(e,t,r,i,n,a){let o={startLine:e,endLine:t};return DC.defined(r)&&(o.startCharacter=r),DC.defined(i)&&(o.endCharacter=i),DC.defined(n)&&(o.kind=n),DC.defined(a)&&(o.collapsedText=a),o}function r(e){let t=e;return DC.objectLiteral(t)&&DC.uinteger(t.startLine)&&DC.uinteger(t.startLine)&&(DC.undefined(t.startCharacter)||DC.uinteger(t.startCharacter))&&(DC.undefined(t.endCharacter)||DC.uinteger(t.endCharacter))&&(DC.undefined(t.kind)||DC.string(t.kind))}o(t,"create"),e.create=t,o(r,"is"),e.is=r}(Zx||(Zx={})),function(e){function t(e,t){return{location:e,message:t}}function r(e){let t=e;return DC.defined(t)&&Hx.is(t.location)&&DC.string(t.message)}o(t,"create"),e.create=t,o(r,"is"),e.is=r}(Qx||(Qx={})),function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4}(eT||(eT={})),function(e){e.Unnecessary=1,e.Deprecated=2}(tT||(tT={})),function(e){function t(e){let t=e;return DC.objectLiteral(t)&&DC.string(t.href)}o(t,"is"),e.is=t}(rT||(rT={})),function(e){function t(e,t,r,i,n,a){let o={range:e,message:t};return DC.defined(r)&&(o.severity=r),DC.defined(i)&&(o.code=i),DC.defined(n)&&(o.source=n),DC.defined(a)&&(o.relatedInformation=a),o}function r(e){var t;let r=e;return DC.defined(r)&&qx.is(r.range)&&DC.string(r.message)&&(DC.number(r.severity)||DC.undefined(r.severity))&&(DC.integer(r.code)||DC.string(r.code)||DC.undefined(r.code))&&(DC.undefined(r.codeDescription)||DC.string(null===(t=r.codeDescription)||void 0===t?void 0:t.href))&&(DC.string(r.source)||DC.undefined(r.source))&&(DC.undefined(r.relatedInformation)||DC.typedArray(r.relatedInformation,Qx.is))}o(t,"create"),e.create=t,o(r,"is"),e.is=r}(iT||(iT={})),function(e){function t(e,t,...r){let i={title:e,command:t};return DC.defined(r)&&r.length>0&&(i.arguments=r),i}function r(e){let t=e;return DC.defined(t)&&DC.string(t.title)&&DC.string(t.command)}o(t,"create"),e.create=t,o(r,"is"),e.is=r}(nT||(nT={})),function(e){function t(e,t){return{range:e,newText:t}}function r(e,t){return{range:{start:e,end:e},newText:t}}function i(e){return{range:e,newText:""}}function n(e){let t=e;return DC.objectLiteral(t)&&DC.string(t.newText)&&qx.is(t.range)}o(t,"replace"),e.replace=t,o(r,"insert"),e.insert=r,o(i,"del"),e.del=i,o(n,"is"),e.is=n}(aT||(aT={})),function(e){function t(e,t,r){let i={label:e};return void 0!==t&&(i.needsConfirmation=t),void 0!==r&&(i.description=r),i}function r(e){let t=e;return DC.objectLiteral(t)&&DC.string(t.label)&&(DC.boolean(t.needsConfirmation)||void 0===t.needsConfirmation)&&(DC.string(t.description)||void 0===t.description)}o(t,"create"),e.create=t,o(r,"is"),e.is=r}(oT||(oT={})),function(e){function t(e){let t=e;return DC.string(t)}o(t,"is"),e.is=t}(sT||(sT={})),function(e){function t(e,t,r){return{range:e,newText:t,annotationId:r}}function r(e,t,r){return{range:{start:e,end:e},newText:t,annotationId:r}}function i(e,t){return{range:e,newText:"",annotationId:t}}function n(e){let t=e;return aT.is(t)&&(oT.is(t.annotationId)||sT.is(t.annotationId))}o(t,"replace"),e.replace=t,o(r,"insert"),e.insert=r,o(i,"del"),e.del=i,o(n,"is"),e.is=n}(lT||(lT={})),function(e){function t(e,t){return{textDocument:e,edits:t}}function r(e){let t=e;return DC.defined(t)&&gT.is(t.textDocument)&&Array.isArray(t.edits)}o(t,"create"),e.create=t,o(r,"is"),e.is=r}(cT||(cT={})),function(e){function t(e,t,r){let i={kind:"create",uri:e};return void 0!==t&&(void 0!==t.overwrite||void 0!==t.ignoreIfExists)&&(i.options=t),void 0!==r&&(i.annotationId=r),i}function r(e){let t=e;return t&&"create"===t.kind&&DC.string(t.uri)&&(void 0===t.options||(void 0===t.options.overwrite||DC.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||DC.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||sT.is(t.annotationId))}o(t,"create"),e.create=t,o(r,"is"),e.is=r}(uT||(uT={})),function(e){function t(e,t,r,i){let n={kind:"rename",oldUri:e,newUri:t};return void 0!==r&&(void 0!==r.overwrite||void 0!==r.ignoreIfExists)&&(n.options=r),void 0!==i&&(n.annotationId=i),n}function r(e){let t=e;return t&&"rename"===t.kind&&DC.string(t.oldUri)&&DC.string(t.newUri)&&(void 0===t.options||(void 0===t.options.overwrite||DC.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||DC.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||sT.is(t.annotationId))}o(t,"create"),e.create=t,o(r,"is"),e.is=r}(hT||(hT={})),function(e){function t(e,t,r){let i={kind:"delete",uri:e};return void 0!==t&&(void 0!==t.recursive||void 0!==t.ignoreIfNotExists)&&(i.options=t),void 0!==r&&(i.annotationId=r),i}function r(e){let t=e;return t&&"delete"===t.kind&&DC.string(t.uri)&&(void 0===t.options||(void 0===t.options.recursive||DC.boolean(t.options.recursive))&&(void 0===t.options.ignoreIfNotExists||DC.boolean(t.options.ignoreIfNotExists)))&&(void 0===t.annotationId||sT.is(t.annotationId))}o(t,"create"),e.create=t,o(r,"is"),e.is=r}(dT||(dT={})),function(e){function t(e){let t=e;return t&&(void 0!==t.changes||void 0!==t.documentChanges)&&(void 0===t.documentChanges||t.documentChanges.every((e=>DC.string(e.kind)?uT.is(e)||hT.is(e)||dT.is(e):cT.is(e))))}o(t,"is"),e.is=t}(fT||(fT={})),function(e){function t(e){return{uri:e}}function r(e){let t=e;return DC.defined(t)&&DC.string(t.uri)}o(t,"create"),e.create=t,o(r,"is"),e.is=r}(pT||(pT={})),function(e){function t(e,t){return{uri:e,version:t}}function r(e){let t=e;return DC.defined(t)&&DC.string(t.uri)&&DC.integer(t.version)}o(t,"create"),e.create=t,o(r,"is"),e.is=r}(mT||(mT={})),function(e){function t(e,t){return{uri:e,version:t}}function r(e){let t=e;return DC.defined(t)&&DC.string(t.uri)&&(null===t.version||DC.integer(t.version))}o(t,"create"),e.create=t,o(r,"is"),e.is=r}(gT||(gT={})),function(e){function t(e,t,r,i){return{uri:e,languageId:t,version:r,text:i}}function r(e){let t=e;return DC.defined(t)&&DC.string(t.uri)&&DC.string(t.languageId)&&DC.integer(t.version)&&DC.string(t.text)}o(t,"create"),e.create=t,o(r,"is"),e.is=r}(yT||(yT={})),function(e){function t(t){let r=t;return r===e.PlainText||r===e.Markdown}e.PlainText="plaintext",e.Markdown="markdown",o(t,"is"),e.is=t}(vT||(vT={})),function(e){function t(e){let t=e;return DC.objectLiteral(e)&&vT.is(t.kind)&&DC.string(t.value)}o(t,"is"),e.is=t}(xT||(xT={})),function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25}(TT||(TT={})),function(e){e.PlainText=1,e.Snippet=2}(CT||(CT={})),(bT||(bT={})).Deprecated=1,function(e){function t(e,t,r){return{newText:e,insert:t,replace:r}}function r(e){let t=e;return t&&DC.string(t.newText)&&qx.is(t.insert)&&qx.is(t.replace)}o(t,"create"),e.create=t,o(r,"is"),e.is=r}(kT||(kT={})),function(e){e.asIs=1,e.adjustIndentation=2}(_T||(_T={})),function(e){function t(e){let t=e;return t&&(DC.string(t.detail)||void 0===t.detail)&&(DC.string(t.description)||void 0===t.description)}o(t,"is"),e.is=t}(ST||(ST={})),function(e){function t(e){return{label:e}}o(t,"create"),e.create=t}(AT||(AT={})),function(e){function t(e,t){return{items:e||[],isIncomplete:!!t}}o(t,"create"),e.create=t}(ET||(ET={})),function(e){function t(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}function r(e){let t=e;return DC.string(t)||DC.objectLiteral(t)&&DC.string(t.language)&&DC.string(t.value)}o(t,"fromPlainText"),e.fromPlainText=t,o(r,"is"),e.is=r}(wT||(wT={})),function(e){function t(e){let t=e;return!!t&&DC.objectLiteral(t)&&(xT.is(t.contents)||wT.is(t.contents)||DC.typedArray(t.contents,wT.is))&&(void 0===e.range||qx.is(e.range))}o(t,"is"),e.is=t}(RT||(RT={})),function(e){function t(e,t){return t?{label:e,documentation:t}:{label:e}}o(t,"create"),e.create=t}($T||($T={})),function(e){function t(e,t,...r){let i={label:e};return DC.defined(t)&&(i.documentation=t),DC.defined(r)?i.parameters=r:i.parameters=[],i}o(t,"create"),e.create=t}(LT||(LT={})),function(e){e.Text=1,e.Read=2,e.Write=3}(IT||(IT={})),function(e){function t(e,t){let r={range:e};return DC.number(t)&&(r.kind=t),r}o(t,"create"),e.create=t}(NT||(NT={})),function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26}(OT||(OT={})),(MT||(MT={})).Deprecated=1,function(e){function t(e,t,r,i,n){let a={name:e,kind:t,location:{uri:i,range:r}};return n&&(a.containerName=n),a}o(t,"create"),e.create=t}(PT||(PT={})),function(e){function t(e,t,r,i){return void 0!==i?{name:e,kind:t,location:{uri:r,range:i}}:{name:e,kind:t,location:{uri:r}}}o(t,"create"),e.create=t}(BT||(BT={})),function(e){function t(e,t,r,i,n,a){let o={name:e,detail:t,kind:r,range:i,selectionRange:n};return void 0!==a&&(o.children=a),o}function r(e){let t=e;return t&&DC.string(t.name)&&DC.number(t.kind)&&qx.is(t.range)&&qx.is(t.selectionRange)&&(void 0===t.detail||DC.string(t.detail))&&(void 0===t.deprecated||DC.boolean(t.deprecated))&&(void 0===t.children||Array.isArray(t.children))&&(void 0===t.tags||Array.isArray(t.tags))}o(t,"create"),e.create=t,o(r,"is"),e.is=r}(FT||(FT={})),function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"}(DT||(DT={})),function(e){e.Invoked=1,e.Automatic=2}(UT||(UT={})),function(e){function t(e,t,r){let i={diagnostics:e};return null!=t&&(i.only=t),null!=r&&(i.triggerKind=r),i}function r(e){let t=e;return DC.defined(t)&&DC.typedArray(t.diagnostics,iT.is)&&(void 0===t.only||DC.typedArray(t.only,DC.string))&&(void 0===t.triggerKind||t.triggerKind===UT.Invoked||t.triggerKind===UT.Automatic)}o(t,"create"),e.create=t,o(r,"is"),e.is=r}(zT||(zT={})),function(e){function t(e,t,r){let i={title:e},n=!0;return"string"==typeof t?(n=!1,i.kind=t):nT.is(t)?i.command=t:i.edit=t,n&&void 0!==r&&(i.kind=r),i}function r(e){let t=e;return t&&DC.string(t.title)&&(void 0===t.diagnostics||DC.typedArray(t.diagnostics,iT.is))&&(void 0===t.kind||DC.string(t.kind))&&(void 0!==t.edit||void 0!==t.command)&&(void 0===t.command||nT.is(t.command))&&(void 0===t.isPreferred||DC.boolean(t.isPreferred))&&(void 0===t.edit||fT.is(t.edit))}o(t,"create"),e.create=t,o(r,"is"),e.is=r}(jT||(jT={})),function(e){function t(e,t){let r={range:e};return DC.defined(t)&&(r.data=t),r}function r(e){let t=e;return DC.defined(t)&&qx.is(t.range)&&(DC.undefined(t.command)||nT.is(t.command))}o(t,"create"),e.create=t,o(r,"is"),e.is=r}(GT||(GT={})),function(e){function t(e,t){return{tabSize:e,insertSpaces:t}}function r(e){let t=e;return DC.defined(t)&&DC.uinteger(t.tabSize)&&DC.boolean(t.insertSpaces)}o(t,"create"),e.create=t,o(r,"is"),e.is=r}(WT||(WT={})),function(e){function t(e,t,r){return{range:e,target:t,data:r}}function r(e){let t=e;return DC.defined(t)&&qx.is(t.range)&&(DC.undefined(t.target)||DC.string(t.target))}o(t,"create"),e.create=t,o(r,"is"),e.is=r}(qT||(qT={})),function(e){function t(e,t){return{range:e,parent:t}}function r(t){let r=t;return DC.objectLiteral(r)&&qx.is(r.range)&&(void 0===r.parent||e.is(r.parent))}o(t,"create"),e.create=t,o(r,"is"),e.is=r}(HT||(HT={})),function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"}(VT||(VT={})),function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"}(KT||(KT={})),function(e){function t(e){let t=e;return DC.objectLiteral(t)&&(void 0===t.resultId||"string"==typeof t.resultId)&&Array.isArray(t.data)&&(0===t.data.length||"number"==typeof t.data[0])}o(t,"is"),e.is=t}(YT||(YT={})),function(e){function t(e,t){return{range:e,text:t}}function r(e){let t=e;return null!=t&&qx.is(t.range)&&DC.string(t.text)}o(t,"create"),e.create=t,o(r,"is"),e.is=r}(XT||(XT={})),function(e){function t(e,t,r){return{range:e,variableName:t,caseSensitiveLookup:r}}function r(e){let t=e;return null!=t&&qx.is(t.range)&&DC.boolean(t.caseSensitiveLookup)&&(DC.string(t.variableName)||void 0===t.variableName)}o(t,"create"),e.create=t,o(r,"is"),e.is=r}(JT||(JT={})),function(e){function t(e,t){return{range:e,expression:t}}function r(e){let t=e;return null!=t&&qx.is(t.range)&&(DC.string(t.expression)||void 0===t.expression)}o(t,"create"),e.create=t,o(r,"is"),e.is=r}(ZT||(ZT={})),function(e){function t(e,t){return{frameId:e,stoppedLocation:t}}function r(e){let t=e;return DC.defined(t)&&qx.is(e.stoppedLocation)}o(t,"create"),e.create=t,o(r,"is"),e.is=r}(QT||(QT={})),function(e){function t(e){return 1===e||2===e}e.Type=1,e.Parameter=2,o(t,"is"),e.is=t}(eC||(eC={})),function(e){function t(e){return{value:e}}function r(e){let t=e;return DC.objectLiteral(t)&&(void 0===t.tooltip||DC.string(t.tooltip)||xT.is(t.tooltip))&&(void 0===t.location||Hx.is(t.location))&&(void 0===t.command||nT.is(t.command))}o(t,"create"),e.create=t,o(r,"is"),e.is=r}(tC||(tC={})),function(e){function t(e,t,r){let i={position:e,label:t};return void 0!==r&&(i.kind=r),i}function r(e){let t=e;return DC.objectLiteral(t)&&Wx.is(t.position)&&(DC.string(t.label)||DC.typedArray(t.label,tC.is))&&(void 0===t.kind||eC.is(t.kind))&&void 0===t.textEdits||DC.typedArray(t.textEdits,aT.is)&&(void 0===t.tooltip||DC.string(t.tooltip)||xT.is(t.tooltip))&&(void 0===t.paddingLeft||DC.boolean(t.paddingLeft))&&(void 0===t.paddingRight||DC.boolean(t.paddingRight))}o(t,"create"),e.create=t,o(r,"is"),e.is=r}(rC||(rC={})),function(e){function t(e){return{kind:"snippet",value:e}}o(t,"createSnippet"),e.createSnippet=t}(iC||(iC={})),function(e){function t(e,t,r,i){return{insertText:e,filterText:t,range:r,command:i}}o(t,"create"),e.create=t}(nC||(nC={})),function(e){function t(e){return{items:e}}o(t,"create"),e.create=t}(aC||(aC={})),function(e){e.Invoked=0,e.Automatic=1}(oC||(oC={})),function(e){function t(e,t){return{range:e,text:t}}o(t,"create"),e.create=t}(sC||(sC={})),function(e){function t(e,t){return{triggerKind:e,selectedCompletionInfo:t}}o(t,"create"),e.create=t}(lC||(lC={})),function(e){function t(e){let t=e;return DC.objectLiteral(t)&&zx.is(t.uri)&&DC.string(t.name)}o(t,"is"),e.is=t}(cC||(cC={})),function(e){function t(e,t,r,i){return new UC(e,t,r,i)}function r(e){let t=e;return!!(DC.defined(t)&&DC.string(t.uri)&&(DC.undefined(t.languageId)||DC.string(t.languageId))&&DC.uinteger(t.lineCount)&&DC.func(t.getText)&&DC.func(t.positionAt)&&DC.func(t.offsetAt))}function i(e,t){let r=e.getText(),i=n(t,((e,t)=>{let r=e.range.start.line-t.range.start.line;return 0===r?e.range.start.character-t.range.start.character:r})),a=r.length;for(let t=i.length-1;t>=0;t--){let n=i[t],o=e.offsetAt(n.range.start),s=e.offsetAt(n.range.end);if(!(s<=a))throw new Error("Overlapping edit");r=r.substring(0,o)+n.newText+r.substring(s,r.length),a=o}return r}function n(e,t){if(e.length<=1)return e;let r=e.length/2|0,i=e.slice(0,r),a=e.slice(r);n(i,t),n(a,t);let o=0,s=0,l=0;for(;o<i.length&&s<a.length;)t(i[o],a[s])<=0?e[l++]=i[o++]:e[l++]=a[s++];for(;o<i.length;)e[l++]=i[o++];for(;s<a.length;)e[l++]=a[s++];return e}o(t,"create"),e.create=t,o(r,"is"),e.is=r,o(i,"applyEdits"),e.applyEdits=i,o(n,"mergeSort")}(uC||(uC={}));var DC,UC=class{static{o(this,"FullTextDocument")}constructor(e,t,r,i){this._uri=e,this._languageId=t,this._version=r,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let t=this.offsetAt(e.start),r=this.offsetAt(e.end);return this._content.substring(t,r)}return this._content}update(e,t){this._content=e.text,this._version=t,this._lineOffsets=void 0}getLineOffsets(){if(void 0===this._lineOffsets){let e=[],t=this._content,r=!0;for(let i=0;i<t.length;i++){r&&(e.push(i),r=!1);let n=t.charAt(i);r="\r"===n||"\n"===n,"\r"===n&&i+1<t.length&&"\n"===t.charAt(i+1)&&i++}r&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let t=this.getLineOffsets(),r=0,i=t.length;if(0===i)return Wx.create(0,e);for(;r<i;){let n=Math.floor((r+i)/2);t[n]>e?i=n:r=n+1}let n=r-1;return Wx.create(n,e-t[n])}offsetAt(e){let t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;let r=t[e.line],i=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(r+e.character,i),r)}get lineCount(){return this.getLineOffsets().length}};!function(e){let t=Object.prototype.toString;function r(e){return typeof e<"u"}function i(e){return typeof e>"u"}function n(e){return!0===e||!1===e}function a(e){return"[object String]"===t.call(e)}function s(e){return"[object Number]"===t.call(e)}function l(e,r,i){return"[object Number]"===t.call(e)&&r<=e&&e<=i}function c(e){return"[object Number]"===t.call(e)&&-2147483648<=e&&e<=2147483647}function u(e){return"[object Number]"===t.call(e)&&0<=e&&e<=2147483647}function h(e){return"[object Function]"===t.call(e)}function d(e){return null!==e&&"object"==typeof e}function f(e,t){return Array.isArray(e)&&e.every(t)}o(r,"defined"),e.defined=r,o(i,"undefined"),e.undefined=i,o(n,"boolean"),e.boolean=n,o(a,"string"),e.string=a,o(s,"number"),e.number=s,o(l,"numberRange"),e.numberRange=l,o(c,"integer"),e.integer=c,o(u,"uinteger"),e.uinteger=u,o(h,"func"),e.func=h,o(d,"objectLiteral"),e.objectLiteral=d,o(f,"typedArray"),e.typedArray=f}(DC||(DC={}));var zC=class{static{o(this,"CstNodeBuilder")}constructor(){this.nodeStack=[]}get current(){var e;return null!==(e=this.nodeStack[this.nodeStack.length-1])&&void 0!==e?e:this.rootNode}buildRootNode(e){return this.rootNode=new HC(e),this.rootNode.root=this.rootNode,this.nodeStack=[this.rootNode],this.rootNode}buildCompositeNode(e){let t=new WC;return t.grammarSource=e,t.root=this.rootNode,this.current.content.push(t),this.nodeStack.push(t),t}buildLeafNode(e,t){let r=new GC(e.startOffset,e.image.length,sh(e),e.tokenType,!t);return r.grammarSource=t,r.root=this.rootNode,this.current.content.push(r),r}removeNode(e){let t=e.container;if(t){let r=t.content.indexOf(e);r>=0&&t.content.splice(r,1)}}addHiddenNodes(e){let t=[];for(let r of e){let e=new GC(r.startOffset,r.image.length,sh(r),r.tokenType,!0);e.root=this.rootNode,t.push(e)}let r=this.current,i=!1;if(r.content.length>0)r.content.push(...t);else{for(;r.container;){let e=r.container.content.indexOf(r);if(e>0){r.container.content.splice(e,0,...t),i=!0;break}r=r.container}i||this.rootNode.content.unshift(...t)}}construct(e){let t=this.current;"string"==typeof e.$type&&(this.current.astNode=e),e.$cstNode=t;let r=this.nodeStack.pop();0===r?.content.length&&this.removeNode(r)}},jC=class{static{o(this,"AbstractCstNode")}get parent(){return this.container}get feature(){return this.grammarSource}get hidden(){return!1}get astNode(){var e,t;let r="string"==typeof(null===(e=this._astNode)||void 0===e?void 0:e.$type)?this._astNode:null===(t=this.container)||void 0===t?void 0:t.astNode;if(!r)throw new Error("This node has no associated AST element");return r}set astNode(e){this._astNode=e}get element(){return this.astNode}get text(){return this.root.fullText.substring(this.offset,this.end)}},GC=class extends jC{static{o(this,"LeafCstNodeImpl")}get offset(){return this._offset}get length(){return this._length}get end(){return this._offset+this._length}get hidden(){return this._hidden}get tokenType(){return this._tokenType}get range(){return this._range}constructor(e,t,r,i,n=!1){super(),this._hidden=n,this._offset=e,this._tokenType=i,this._length=t,this._range=r}},WC=class extends jC{static{o(this,"CompositeCstNodeImpl")}constructor(){super(...arguments),this.content=new qC(this)}get children(){return this.content}get offset(){var e,t;return null!==(t=null===(e=this.firstNonHiddenNode)||void 0===e?void 0:e.offset)&&void 0!==t?t:0}get length(){return this.end-this.offset}get end(){var e,t;return null!==(t=null===(e=this.lastNonHiddenNode)||void 0===e?void 0:e.end)&&void 0!==t?t:0}get range(){let e=this.firstNonHiddenNode,t=this.lastNonHiddenNode;if(e&&t){if(void 0===this._rangeCache){let{range:r}=e,{range:i}=t;this._rangeCache={start:r.start,end:i.end.line<r.start.line?r.start:i.end}}return this._rangeCache}return{start:Wx.create(0,0),end:Wx.create(0,0)}}get firstNonHiddenNode(){for(let e of this.content)if(!e.hidden)return e;return this.content[0]}get lastNonHiddenNode(){for(let e=this.content.length-1;e>=0;e--){let t=this.content[e];if(!t.hidden)return t}return this.content[this.content.length-1]}},qC=class e extends Array{static{o(this,"CstNodeContainer")}constructor(t){super(),this.parent=t,Object.setPrototypeOf(this,e.prototype)}push(...e){return this.addParents(e),super.push(...e)}unshift(...e){return this.addParents(e),super.unshift(...e)}splice(e,t,...r){return this.addParents(r),super.splice(e,t,...r)}addParents(e){for(let t of e)t.container=this.parent}},HC=class extends WC{static{o(this,"RootCstNodeImpl")}get text(){return this._text.substring(this.offset,this.end)}get fullText(){return this._text}constructor(e){super(),this._text="",this._text=e??""}},VC=Symbol("Datatype");function KC(e){return e.$type===VC}o(KC,"isDataTypeNode");var YC=o((e=>e.endsWith("​")?e:e+"​"),"withRuleSuffix"),XC=class{static{o(this,"AbstractLangiumParser")}constructor(e){this._unorderedGroups=new Map,this.allRules=new Map,this.lexer=e.parser.Lexer;let t=this.lexer.definition,r="production"===e.LanguageMetaData.mode;this.wrapper=new rb(t,Object.assign(Object.assign({},e.parser.ParserConfig),{skipValidations:r,errorMessageProvider:e.parser.ParserErrorMessageProvider}))}alternatives(e,t){this.wrapper.wrapOr(e,t)}optional(e,t){this.wrapper.wrapOption(e,t)}many(e,t){this.wrapper.wrapMany(e,t)}atLeastOne(e,t){this.wrapper.wrapAtLeastOne(e,t)}getRule(e){return this.allRules.get(e)}isRecording(){return this.wrapper.IS_RECORDING}get unorderedGroups(){return this._unorderedGroups}getRuleStack(){return this.wrapper.RULE_STACK}finalize(){this.wrapper.wrapSelfAnalysis()}},JC=class extends XC{static{o(this,"LangiumParser")}get current(){return this.stack[this.stack.length-1]}constructor(e){super(e),this.nodeBuilder=new zC,this.stack=[],this.assignmentMap=new Map,this.linker=e.references.Linker,this.converter=e.parser.ValueConverter,this.astReflection=e.shared.AstReflection}rule(e,t){let r=this.computeRuleType(e),i=this.wrapper.DEFINE_RULE(YC(e.name),this.startImplementation(r,t).bind(this));return this.allRules.set(e.name,i),e.entry&&(this.mainRule=i),i}computeRuleType(e){if(!e.fragment){if(Sp(e))return VC;return Rp(e)??e.name}}parse(e,t={}){this.nodeBuilder.buildRootNode(e);let r=this.lexerResult=this.lexer.tokenize(e);this.wrapper.input=r.tokens;let i=t.rule?this.allRules.get(t.rule):this.mainRule;if(!i)throw new Error(t.rule?`No rule found with name '${t.rule}'`:"No main rule available.");let n=i.call(this.wrapper,{});return this.nodeBuilder.addHiddenNodes(r.hidden),this.unorderedGroups.clear(),this.lexerResult=void 0,{value:n,lexerErrors:r.errors,lexerReport:r.report,parserErrors:this.wrapper.errors}}startImplementation(e,t){return r=>{let i,n=!this.isRecording()&&void 0!==e;if(n){let t={$type:e};this.stack.push(t),e===VC&&(t.value="")}try{i=t(r)}catch{i=void 0}return void 0===i&&n&&(i=this.construct()),i}}extractHiddenTokens(e){let t=this.lexerResult.hidden;if(!t.length)return[];let r=e.startOffset;for(let e=0;e<t.length;e++)if(t[e].startOffset>r)return t.splice(0,e);return t.splice(0,t.length)}consume(e,t,r){let i=this.wrapper.wrapConsume(e,t);if(!this.isRecording()&&this.isValidToken(i)){let e=this.extractHiddenTokens(i);this.nodeBuilder.addHiddenNodes(e);let t=this.nodeBuilder.buildLeafNode(i,r),{assignment:n,isCrossRef:a}=this.getAssignment(r),o=this.current;if(n){let e=Xd(r)?i.image:this.converter.convert(i.image,t);this.assign(n.operator,n.feature,e,t,a)}else if(KC(o)){let e=i.image;Xd(r)||(e=this.converter.convert(e,t).toString()),o.value+=e}}}isValidToken(e){return!e.isInsertedInRecovery&&!isNaN(e.startOffset)&&"number"==typeof e.endOffset&&!isNaN(e.endOffset)}subrule(e,t,r,i,n){let a;!this.isRecording()&&!r&&(a=this.nodeBuilder.buildCompositeNode(i));let o=this.wrapper.wrapSubrule(e,t,n);!this.isRecording()&&a&&a.length>0&&this.performSubruleAssignment(o,i,a)}performSubruleAssignment(e,t,r){let{assignment:i,isCrossRef:n}=this.getAssignment(t);if(i)this.assign(i.operator,i.feature,e,r,n);else if(!i){let t=this.current;if(KC(t))t.value+=e.toString();else if("object"==typeof e&&e){let r=this.assignWithoutOverride(e,t);this.stack.pop(),this.stack.push(r)}}}action(e,t){if(!this.isRecording()){let r=this.current;if(t.feature&&t.operator){r=this.construct(),this.nodeBuilder.removeNode(r.$cstNode),this.nodeBuilder.buildCompositeNode(t).content.push(r.$cstNode);let i={$type:e};this.stack.push(i),this.assign(t.operator,t.feature,r,r.$cstNode,!1)}else r.$type=e}}construct(){if(this.isRecording())return;let e=this.current;return xf(e),this.nodeBuilder.construct(e),this.stack.pop(),KC(e)?this.converter.convert(e.value,e.$cstNode):($f(this.astReflection,e),e)}getAssignment(e){if(!this.assignmentMap.has(e)){let t=Tf(e,Ud);this.assignmentMap.set(e,{assignment:t,isCrossRef:!!t&&Wd(t.terminal)})}return this.assignmentMap.get(e)}assign(e,t,r,i,n){let a,o=this.current;switch(a=n&&"string"==typeof r?this.linker.buildReference(o,t,i,r):r,e){case"=":o[t]=a;break;case"?=":o[t]=!0;break;case"+=":Array.isArray(o[t])||(o[t]=[]),o[t].push(a)}}assignWithoutOverride(e,t){for(let[r,i]of Object.entries(t)){let t=e[r];void 0===t?e[r]=i:Array.isArray(t)&&Array.isArray(i)&&(i.push(...t),e[r]=i)}let r=e.$cstNode;return r&&(r.astNode=void 0,e.$cstNode=void 0),e}get definitionErrors(){return this.wrapper.definitionErrors}},ZC=class{static{o(this,"AbstractParserErrorMessageProvider")}buildMismatchTokenMessage(e){return ry.buildMismatchTokenMessage(e)}buildNotAllInputParsedMessage(e){return ry.buildNotAllInputParsedMessage(e)}buildNoViableAltMessage(e){return ry.buildNoViableAltMessage(e)}buildEarlyExitMessage(e){return ry.buildEarlyExitMessage(e)}},QC=class extends ZC{static{o(this,"LangiumParserErrorMessageProvider")}buildMismatchTokenMessage({expected:e,actual:t}){return`Expecting ${e.LABEL?"`"+e.LABEL+"`":e.name.endsWith(":KW")?`keyword '${e.name.substring(0,e.name.length-3)}'`:`token of type '${e.name}'`} but found \`${t.image}\`.`}buildNotAllInputParsedMessage({firstRedundant:e}){return`Expecting end of file but found \`${e.image}\`.`}},eb=class extends XC{static{o(this,"LangiumCompletionParser")}constructor(){super(...arguments),this.tokens=[],this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}action(){}construct(){}parse(e){this.resetState();let t=this.lexer.tokenize(e,{mode:"partial"});return this.tokens=t.tokens,this.wrapper.input=[...this.tokens],this.mainRule.call(this.wrapper,{}),this.unorderedGroups.clear(),{tokens:this.tokens,elementStack:[...this.lastElementStack],tokenIndex:this.nextTokenIndex}}rule(e,t){let r=this.wrapper.DEFINE_RULE(YC(e.name),this.startImplementation(t).bind(this));return this.allRules.set(e.name,r),e.entry&&(this.mainRule=r),r}resetState(){this.elementStack=[],this.lastElementStack=[],this.nextTokenIndex=0,this.stackSize=0}startImplementation(e){return t=>{let r=this.keepStackSize();try{e(t)}finally{this.resetStackSize(r)}}}removeUnexpectedElements(){this.elementStack.splice(this.stackSize)}keepStackSize(){let e=this.elementStack.length;return this.stackSize=e,e}resetStackSize(e){this.removeUnexpectedElements(),this.stackSize=e}consume(e,t,r){this.wrapper.wrapConsume(e,t),this.isRecording()||(this.lastElementStack=[...this.elementStack,r],this.nextTokenIndex=this.currIdx+1)}subrule(e,t,r,i,n){this.before(i),this.wrapper.wrapSubrule(e,t,n),this.after(i)}before(e){this.isRecording()||this.elementStack.push(e)}after(e){if(!this.isRecording()){let t=this.elementStack.lastIndexOf(e);t>=0&&this.elementStack.splice(t)}}get currIdx(){return this.wrapper.currIdx}},tb={recoveryEnabled:!0,nodeLocationTracking:"full",skipValidations:!0,errorMessageProvider:new QC},rb=class extends ox{static{o(this,"ChevrotainWrapper")}constructor(e,t){let r=t&&"maxLookahead"in t;super(e,Object.assign(Object.assign(Object.assign({},tb),{lookaheadStrategy:r?new xv({maxLookahead:t.maxLookahead}):new fC({logging:t.skipValidations?()=>{}:void 0})}),t))}get IS_RECORDING(){return this.RECORDING_PHASE}DEFINE_RULE(e,t){return this.RULE(e,t)}wrapSelfAnalysis(){this.performSelfAnalysis()}wrapConsume(e,t){return this.consume(e,t)}wrapSubrule(e,t,r){return this.subrule(e,t,{ARGS:[r]})}wrapOr(e,t){this.or(e,t)}wrapOption(e,t){this.option(e,t)}wrapMany(e,t){this.many(e,t)}wrapAtLeastOne(e,t){this.atLeastOne(e,t)}};function ib(e,t,r){return nb({parser:t,tokens:r,ruleNames:new Map},e),t}function nb(e,t){let r=lp(t,!1),i=Qu(t.rules).filter(vd).filter((e=>r.has(e)));for(let t of i){let r=Object.assign(Object.assign({},e),{consume:1,optional:1,subrule:1,many:1,or:1});e.parser.rule(t,ab(r,t.definition))}}function ab(e,t,r=!1){let i;if(Xd(t))i=mb(e,t);else if(Pd(t))i=ob(e,t);else if(Ud(t))i=ab(e,t.terminal);else if(Wd(t))i=pb(e,t);else if(rf(t))i=sb(e,t);else if(Fd(t))i=ub(e,t);else if(hf(t))i=hb(e,t);else if(Kd(t))i=db(e,t);else{if(!Hd(t))throw new Sh(t.$cstNode,`Unexpected element type: ${t.$type}`);{let r=e.consume++;i=o((()=>e.parser.consume(r,Qg,t)),"method")}}return gb(e,r?void 0:fb(t),i,t.cardinality)}function ob(e,t){let r=$p(t);return()=>e.parser.action(r,t)}function sb(e,t){let r=t.rule.ref;if(vd(r)){let i=e.subrule++,n=r.fragment,a=t.arguments.length>0?lb(r,t.arguments):()=>({});return o=>e.parser.subrule(i,yb(e,r),n,t,a(o))}if(wd(r)){let i=e.consume++,n=xb(e,r.name);return()=>e.parser.consume(i,n,t)}if(!r)throw new Sh(t.$cstNode,`Undefined rule: ${t.rule.$refText}`);Ah()}function lb(e,t){let r=t.map((e=>cb(e.value)));return t=>{let i={};for(let n=0;n<r.length;n++){let a=e.parameters[n],o=r[n];i[a.name]=o(t)}return i}}function cb(e){if(Zh(e)){let t=cb(e.left),r=cb(e.right);return e=>t(e)||r(e)}if(Xh(e)){let t=cb(e.left),r=cb(e.right);return e=>t(e)&&r(e)}if(ud(e)){let t=cb(e.value);return e=>!t(e)}if(gd(e)){let t=e.parameter.ref.name;return e=>void 0!==e&&!0===e[t]}if(Kh(e)){let t=!!e.true;return()=>t}Ah()}function ub(e,t){if(1===t.elements.length)return ab(e,t.elements[0]);{let r=[];for(let i of t.elements){let t={ALT:ab(e,i,!0)},n=fb(i);n&&(t.GATE=cb(n)),r.push(t)}let i=e.or++;return t=>e.parser.alternatives(i,r.map((e=>{let r={ALT:o((()=>e.ALT(t)),"ALT")},i=e.GATE;return i&&(r.GATE=()=>i(t)),r})))}}function hb(e,t){if(1===t.elements.length)return ab(e,t.elements[0]);let r=[];for(let i of t.elements){let t={ALT:ab(e,i,!0)},n=fb(i);n&&(t.GATE=cb(n)),r.push(t)}let i=e.or++,n=o(((e,t)=>`uGroup_${e}_${t.getRuleStack().join("-")}`),"idFunc"),a=o((t=>e.parser.alternatives(i,r.map(((r,a)=>{let s={ALT:o((()=>!0),"ALT")},l=e.parser;s.ALT=()=>{if(r.ALT(t),!l.isRecording()){let e=n(i,l);l.unorderedGroups.get(e)||l.unorderedGroups.set(e,[]);let t=l.unorderedGroups.get(e);typeof t?.[a]>"u"&&(t[a]=!0)}};let c=r.GATE;return s.GATE=c?()=>c(t):()=>{let e=l.unorderedGroups.get(n(i,l));return!e?.[a]},s})))),"alternatives"),s=gb(e,fb(t),a,"*");return t=>{s(t),e.parser.isRecording()||e.parser.unorderedGroups.delete(n(i,e.parser))}}function db(e,t){let r=t.elements.map((t=>ab(e,t)));return e=>r.forEach((t=>t(e)))}function fb(e){if(Kd(e))return e.guardCondition}function pb(e,t,r=t.terminal){if(r){if(rf(r)&&vd(r.rule.ref)){let i=r.rule.ref,n=e.subrule++;return r=>e.parser.subrule(n,yb(e,i),!1,t,r)}if(rf(r)&&wd(r.rule.ref)){let i=e.consume++,n=xb(e,r.rule.ref.name);return()=>e.parser.consume(i,n,t)}if(Xd(r)){let i=e.consume++,n=xb(e,r.value);return()=>e.parser.consume(i,n,t)}throw new Error("Could not build cross reference parser")}{if(!t.type.ref)throw new Error("Could not resolve reference to type: "+t.type.$refText);let r=xp(t.type.ref),i=r?.terminal;if(!i)throw new Error("Could not find name assignment for type: "+$p(t.type.ref));return pb(e,t,i)}}function mb(e,t){let r=e.consume++,i=e.tokens[t.value];if(!i)throw new Error("Could not find token for keyword: "+t.value);return()=>e.parser.consume(r,i,t)}function gb(e,t,r,i){let n=t&&cb(t);if(!i){if(n){let t=e.or++;return i=>e.parser.alternatives(t,[{ALT:o((()=>r(i)),"ALT"),GATE:o((()=>n(i)),"GATE")},{ALT:nx(),GATE:o((()=>!n(i)),"GATE")}])}return r}if("*"===i){let t=e.many++;return i=>e.parser.many(t,{DEF:o((()=>r(i)),"DEF"),GATE:n?()=>n(i):void 0})}if("+"===i){let t=e.many++;if(n){let i=e.or++;return a=>e.parser.alternatives(i,[{ALT:o((()=>e.parser.atLeastOne(t,{DEF:o((()=>r(a)),"DEF")})),"ALT"),GATE:o((()=>n(a)),"GATE")},{ALT:nx(),GATE:o((()=>!n(a)),"GATE")}])}return i=>e.parser.atLeastOne(t,{DEF:o((()=>r(i)),"DEF")})}if("?"===i){let t=e.optional++;return i=>e.parser.optional(t,{DEF:o((()=>r(i)),"DEF"),GATE:n?()=>n(i):void 0})}Ah()}function yb(e,t){let r=vb(e,t),i=e.parser.getRule(r);if(!i)throw new Error(`Rule "${r}" not found."`);return i}function vb(e,t){if(vd(t))return t.name;if(e.ruleNames.has(t))return e.ruleNames.get(t);{let r=t,i=r.$container,n=t.$type;for(;!vd(i);)(Kd(i)||Fd(i)||hf(i))&&(n=i.elements.indexOf(r).toString()+":"+n),r=i,i=i.$container;return n=i.name+":"+n,e.ruleNames.set(t,n),n}}function xb(e,t){let r=e.tokens[t];if(!r)throw new Error(`Token "${t}" not found."`);return r}function Tb(e){let t=e.Grammar,r=e.parser.Lexer,i=new eb(e);return ib(t,i,r.definition),i.finalize(),i}function Cb(e){let t=bb(e);return t.finalize(),t}function bb(e){let t=e.Grammar,r=e.parser.Lexer;return ib(t,new JC(e),r.definition)}o(ib,"createParser"),o(nb,"buildRules"),o(ab,"buildElement"),o(ob,"buildAction"),o(sb,"buildRuleCall"),o(lb,"buildRuleCallPredicate"),o(cb,"buildPredicate"),o(ub,"buildAlternatives"),o(hb,"buildUnorderedGroup"),o(db,"buildGroup"),o(fb,"getGuardCondition"),o(pb,"buildCrossReference"),o(mb,"buildKeyword"),o(gb,"wrap"),o(yb,"getRule"),o(vb,"getRuleName"),o(xb,"getToken"),o(Tb,"createCompletionParser"),o(Cb,"createLangiumParser"),o(bb,"prepareLangiumParser");var kb,_b=class{static{o(this,"DefaultTokenBuilder")}constructor(){this.diagnostics=[]}buildTokens(e,t){let r=Qu(lp(e,!1)),i=this.buildTerminalTokens(r),n=this.buildKeywordTokens(r,i,t);return i.forEach((e=>{let t=e.PATTERN;"object"==typeof t&&t&&"test"in t&&tp(t)?n.unshift(e):n.push(e)})),n}flushLexingReport(e){return{diagnostics:this.popDiagnostics()}}popDiagnostics(){let e=[...this.diagnostics];return this.diagnostics=[],e}buildTerminalTokens(e){return e.filter(wd).filter((e=>!e.fragment)).map((e=>this.buildTerminalToken(e))).toArray()}buildTerminalToken(e){let t=Op(e),r=this.requiresCustomPattern(t)?this.regexPatternFunction(t):t,i={name:e.name,PATTERN:r};return"function"==typeof r&&(i.LINE_BREAKS=!0),e.hidden&&(i.GROUP=tp(t)?Ug.SKIPPED:"hidden"),i}requiresCustomPattern(e){return!(!e.flags.includes("u")&&!e.flags.includes("s"))||!(!e.source.includes("?<=")&&!e.source.includes("?<!"))}regexPatternFunction(e){let t=new RegExp(e,e.flags+"y");return(e,r)=>(t.lastIndex=r,t.exec(e))}buildKeywordTokens(e,t,r){return e.filter(vd).flatMap((e=>Sf(e).filter(Xd))).distinct((e=>e.value)).toArray().sort(((e,t)=>t.value.length-e.value.length)).map((e=>this.buildKeywordToken(e,t,!!r?.caseInsensitive)))}buildKeywordToken(e,t,r){let i=this.buildKeywordPattern(e,r),n={name:e.value,PATTERN:i,LONGER_ALT:this.findLongerAlt(e,t)};return"function"==typeof i&&(n.LINE_BREAKS=!0),n}buildKeywordPattern(e,t){return t?new RegExp(ip(e.value)):e.value}findLongerAlt(e,t){return t.reduce(((t,r)=>{let i=r?.PATTERN;return i?.source&&np("^"+i.source+"$",e.value)&&t.push(r),t}),[])}},Sb=class{static{o(this,"DefaultValueConverter")}convert(e,t){let r=t.grammarSource;if(Wd(r)&&(r=up(r)),rf(r)){let i=r.rule.ref;if(!i)throw new Error("This cst node was not parsed by a rule.");return this.runConverter(i,e,t)}return e}runConverter(e,t,r){var i;switch(e.name.toUpperCase()){case"INT":return kb.convertInt(t);case"STRING":return kb.convertString(t);case"ID":return kb.convertID(t)}switch(null===(i=Np(e))||void 0===i?void 0:i.toLowerCase()){case"number":return kb.convertNumber(t);case"boolean":return kb.convertBoolean(t);case"bigint":return kb.convertBigint(t);case"date":return kb.convertDate(t);default:return t}}};!function(e){function t(e){let t="";for(let i=1;i<e.length-1;i++){let n=e.charAt(i);if("\\"===n){t+=r(e.charAt(++i))}else t+=n}return t}function r(e){switch(e){case"b":return"\b";case"f":return"\f";case"n":return"\n";case"r":return"\r";case"t":return"\t";case"v":return"\v";case"0":return"\0";default:return e}}function i(e){return"^"===e.charAt(0)?e.substring(1):e}function n(e){return parseInt(e)}function a(e){return BigInt(e)}function s(e){return new Date(e)}function l(e){return Number(e)}function c(e){return"true"===e.toLowerCase()}o(t,"convertString"),e.convertString=t,o(r,"convertEscapeCharacter"),o(i,"convertID"),e.convertID=i,o(n,"convertInt"),e.convertInt=n,o(a,"convertBigint"),e.convertBigint=a,o(s,"convertDate"),e.convertDate=s,o(l,"convertNumber"),e.convertNumber=l,o(c,"convertBoolean"),e.convertBoolean=c}(kb||(kb={}));var Ab={};function Eb(){return new Promise((e=>{typeof setImmediate>"u"?setTimeout(e,0):setImmediate(e)}))}u(Ab,h(Bu(),1)),o(Eb,"delayNextTick");var wb=0,Rb=10;function $b(){return wb=performance.now(),new Ab.CancellationTokenSource}function Lb(e){Rb=e}o($b,"startCancelableOperation"),o(Lb,"setInterruptionPeriod");var Ib=Symbol("OperationCancelled");function Nb(e){return e===Ib}async function Ob(e){if(e===Ab.CancellationToken.None)return;let t=performance.now();if(t-wb>=Rb&&(wb=t,await Eb(),wb=performance.now()),e.isCancellationRequested)throw Ib}o(Nb,"isOperationCancelled"),o(Ob,"interruptAndCheck");var Mb,Pb,Bb=class{static{o(this,"Deferred")}constructor(){this.promise=new Promise(((e,t)=>{this.resolve=t=>(e(t),this),this.reject=e=>(t(e),this)}))}},Fb=class e{static{o(this,"FullTextDocument")}constructor(e,t,r,i){this._uri=e,this._languageId=t,this._version=r,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let t=this.offsetAt(e.start),r=this.offsetAt(e.end);return this._content.substring(t,r)}return this._content}update(t,r){for(let r of t)if(e.isIncremental(r)){let e=jb(r.range),t=this.offsetAt(e.start),i=this.offsetAt(e.end);this._content=this._content.substring(0,t)+r.text+this._content.substring(i,this._content.length);let n=Math.max(e.start.line,0),a=Math.max(e.end.line,0),o=this._lineOffsets,s=Ub(r.text,!1,t);if(a-n===s.length)for(let e=0,t=s.length;e<t;e++)o[e+n+1]=s[e];else s.length<1e4?o.splice(n+1,a-n,...s):this._lineOffsets=o=o.slice(0,n+1).concat(s,o.slice(a+1));let l=r.text.length-(i-t);if(0!==l)for(let e=n+1+s.length,t=o.length;e<t;e++)o[e]=o[e]+l}else{if(!e.isFull(r))throw new Error("Unknown change event received");this._content=r.text,this._lineOffsets=void 0}this._version=r}getLineOffsets(){return void 0===this._lineOffsets&&(this._lineOffsets=Ub(this._content,!0)),this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let t=this.getLineOffsets(),r=0,i=t.length;if(0===i)return{line:0,character:e};for(;r<i;){let n=Math.floor((r+i)/2);t[n]>e?i=n:r=n+1}let n=r-1;return{line:n,character:(e=this.ensureBeforeEOL(e,t[n]))-t[n]}}offsetAt(e){let t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;let r=t[e.line];if(e.character<=0)return r;let i=e.line+1<t.length?t[e.line+1]:this._content.length,n=Math.min(r+e.character,i);return this.ensureBeforeEOL(n,r)}ensureBeforeEOL(e,t){for(;e>t&&zb(this._content.charCodeAt(e-1));)e--;return e}get lineCount(){return this.getLineOffsets().length}static isIncremental(e){let t=e;return null!=t&&"string"==typeof t.text&&void 0!==t.range&&(void 0===t.rangeLength||"number"==typeof t.rangeLength)}static isFull(e){let t=e;return null!=t&&"string"==typeof t.text&&void 0===t.range&&void 0===t.rangeLength}};function Db(e,t){if(e.length<=1)return e;let r=e.length/2|0,i=e.slice(0,r),n=e.slice(r);Db(i,t),Db(n,t);let a=0,o=0,s=0;for(;a<i.length&&o<n.length;)t(i[a],n[o])<=0?e[s++]=i[a++]:e[s++]=n[o++];for(;a<i.length;)e[s++]=i[a++];for(;o<n.length;)e[s++]=n[o++];return e}function Ub(e,t,r=0){let i=t?[r]:[];for(let t=0;t<e.length;t++){let n=e.charCodeAt(t);zb(n)&&(13===n&&t+1<e.length&&10===e.charCodeAt(t+1)&&t++,i.push(r+t+1))}return i}function zb(e){return 13===e||10===e}function jb(e){let t=e.start,r=e.end;return t.line>r.line||t.line===r.line&&t.character>r.character?{start:r,end:t}:e}function Gb(e){let t=jb(e.range);return t!==e.range?{newText:e.newText,range:t}:e}!function(e){function t(e,t,r,i){return new Fb(e,t,r,i)}function r(e,t,r){if(e instanceof Fb)return e.update(t,r),e;throw new Error("TextDocument.update: document must be created by TextDocument.create")}function i(e,t){let r=e.getText(),i=Db(t.map(Gb),((e,t)=>{let r=e.range.start.line-t.range.start.line;return 0===r?e.range.start.character-t.range.start.character:r})),n=0,a=[];for(let t of i){let i=e.offsetAt(t.range.start);if(i<n)throw new Error("Overlapping edit");i>n&&a.push(r.substring(n,i)),t.newText.length&&a.push(t.newText),n=e.offsetAt(t.range.end)}return a.push(r.substr(n)),a.join("")}o(t,"create"),e.create=t,o(r,"update"),e.update=r,o(i,"applyEdits"),e.applyEdits=i}(Mb||(Mb={})),o(Db,"mergeSort"),o(Ub,"computeLineOffsets"),o(zb,"isEOL"),o(jb,"getWellformedRange"),o(Gb,"getWellformedEdit"),(()=>{var e={470:e=>{function t(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function r(e,t){for(var r,i="",n=0,a=-1,o=0,s=0;s<=e.length;++s){if(s<e.length)r=e.charCodeAt(s);else{if(47===r)break;r=47}if(47===r){if(a!==s-1&&1!==o)if(a!==s-1&&2===o){if(i.length<2||2!==n||46!==i.charCodeAt(i.length-1)||46!==i.charCodeAt(i.length-2))if(i.length>2){var l=i.lastIndexOf("/");if(l!==i.length-1){-1===l?(i="",n=0):n=(i=i.slice(0,l)).length-1-i.lastIndexOf("/"),a=s,o=0;continue}}else if(2===i.length||1===i.length){i="",n=0,a=s,o=0;continue}t&&(i.length>0?i+="/..":i="..",n=2)}else i.length>0?i+="/"+e.slice(a+1,s):i=e.slice(a+1,s),n=s-a-1;a=s,o=0}else 46===r&&-1!==o?++o:o=-1}return i}o(t,"e"),o(r,"r");var i={resolve:o((function(){for(var e,i="",n=!1,a=arguments.length-1;a>=-1&&!n;a--){var o;a>=0?o=arguments[a]:(void 0===e&&(e=F.cwd()),o=e),t(o),0!==o.length&&(i=o+"/"+i,n=47===o.charCodeAt(0))}return i=r(i,!n),n?i.length>0?"/"+i:"/":i.length>0?i:"."}),"resolve"),normalize:o((function(e){if(t(e),0===e.length)return".";var i=47===e.charCodeAt(0),n=47===e.charCodeAt(e.length-1);return 0!==(e=r(e,!i)).length||i||(e="."),e.length>0&&n&&(e+="/"),i?"/"+e:e}),"normalize"),isAbsolute:o((function(e){return t(e),e.length>0&&47===e.charCodeAt(0)}),"isAbsolute"),join:o((function(){if(0===arguments.length)return".";for(var e,r=0;r<arguments.length;++r){var n=arguments[r];t(n),n.length>0&&(void 0===e?e=n:e+="/"+n)}return void 0===e?".":i.normalize(e)}),"join"),relative:o((function(e,r){if(t(e),t(r),e===r||(e=i.resolve(e))===(r=i.resolve(r)))return"";for(var n=1;n<e.length&&47===e.charCodeAt(n);++n);for(var a=e.length,o=a-n,s=1;s<r.length&&47===r.charCodeAt(s);++s);for(var l=r.length-s,c=o<l?o:l,u=-1,h=0;h<=c;++h){if(h===c){if(l>c){if(47===r.charCodeAt(s+h))return r.slice(s+h+1);if(0===h)return r.slice(s+h)}else o>c&&(47===e.charCodeAt(n+h)?u=h:0===h&&(u=0));break}var d=e.charCodeAt(n+h);if(d!==r.charCodeAt(s+h))break;47===d&&(u=h)}var f="";for(h=n+u+1;h<=a;++h)h!==a&&47!==e.charCodeAt(h)||(0===f.length?f+="..":f+="/..");return f.length>0?f+r.slice(s+u):(s+=u,47===r.charCodeAt(s)&&++s,r.slice(s))}),"relative"),_makeLong:o((function(e){return e}),"_makeLong"),dirname:o((function(e){if(t(e),0===e.length)return".";for(var r=e.charCodeAt(0),i=47===r,n=-1,a=!0,o=e.length-1;o>=1;--o)if(47===(r=e.charCodeAt(o))){if(!a){n=o;break}}else a=!1;return-1===n?i?"/":".":i&&1===n?"//":e.slice(0,n)}),"dirname"),basename:o((function(e,r){if(void 0!==r&&"string"!=typeof r)throw new TypeError('"ext" argument must be a string');t(e);var i,n=0,a=-1,o=!0;if(void 0!==r&&r.length>0&&r.length<=e.length){if(r.length===e.length&&r===e)return"";var s=r.length-1,l=-1;for(i=e.length-1;i>=0;--i){var c=e.charCodeAt(i);if(47===c){if(!o){n=i+1;break}}else-1===l&&(o=!1,l=i+1),s>=0&&(c===r.charCodeAt(s)?-1==--s&&(a=i):(s=-1,a=l))}return n===a?a=l:-1===a&&(a=e.length),e.slice(n,a)}for(i=e.length-1;i>=0;--i)if(47===e.charCodeAt(i)){if(!o){n=i+1;break}}else-1===a&&(o=!1,a=i+1);return-1===a?"":e.slice(n,a)}),"basename"),extname:o((function(e){t(e);for(var r=-1,i=0,n=-1,a=!0,o=0,s=e.length-1;s>=0;--s){var l=e.charCodeAt(s);if(47!==l)-1===n&&(a=!1,n=s+1),46===l?-1===r?r=s:1!==o&&(o=1):-1!==r&&(o=-1);else if(!a){i=s+1;break}}return-1===r||-1===n||0===o||1===o&&r===n-1&&r===i+1?"":e.slice(r,n)}),"extname"),format:o((function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var r=t.dir||t.root,i=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+i:r+"/"+i:i}(0,e)}),"format"),parse:o((function(e){t(e);var r={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return r;var i,n=e.charCodeAt(0),a=47===n;a?(r.root="/",i=1):i=0;for(var o=-1,s=0,l=-1,c=!0,u=e.length-1,h=0;u>=i;--u)if(47!==(n=e.charCodeAt(u)))-1===l&&(c=!1,l=u+1),46===n?-1===o?o=u:1!==h&&(h=1):-1!==o&&(h=-1);else if(!c){s=u+1;break}return-1===o||-1===l||0===h||1===h&&o===l-1&&o===s+1?-1!==l&&(r.base=r.name=0===s&&a?e.slice(1,l):e.slice(s,l)):(0===s&&a?(r.name=e.slice(1,o),r.base=e.slice(1,l)):(r.name=e.slice(s,o),r.base=e.slice(s,l)),r.ext=e.slice(o,l)),s>0?r.dir=e.slice(0,s-1):a&&(r.dir="/"),r}),"parse"),sep:"/",delimiter:":",win32:null,posix:null};i.posix=i,e.exports=i}},t={};function r(i){var n=t[i];if(void 0!==n)return n.exports;var a=t[i]={exports:{}};return e[i](a,a.exports,r),a.exports}o(r,"r"),r.d=(e,t)=>{for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};(()=>{let e;r.r(i),r.d(i,{URI:o((()=>h),"URI"),Utils:o((()=>S),"Utils")}),"object"==typeof F?e="win32"===F.platform:"object"==typeof navigator&&(e=navigator.userAgent.indexOf("Windows")>=0);let t=/^\w[\w\d+.-]*$/,n=/^\//,a=/^\/\//;function s(e,r){if(!e.scheme&&r)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${e.authority}", path: "${e.path}", query: "${e.query}", fragment: "${e.fragment}"}`);if(e.scheme&&!t.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path)if(e.authority){if(!n.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(a.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}o(s,"s");let l="",c="/",u=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class h{static{o(this,"f")}static isUri(e){return e instanceof h||!!e&&"string"==typeof e.authority&&"string"==typeof e.fragment&&"string"==typeof e.path&&"string"==typeof e.query&&"string"==typeof e.scheme&&"string"==typeof e.fsPath&&"function"==typeof e.with&&"function"==typeof e.toString}scheme;authority;path;query;fragment;constructor(e,t,r,i,n,a=!1){"object"==typeof e?(this.scheme=e.scheme||l,this.authority=e.authority||l,this.path=e.path||l,this.query=e.query||l,this.fragment=e.fragment||l):(this.scheme=function(e,t){return e||t?e:"file"}(e,a),this.authority=t||l,this.path=function(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==c&&(t=c+t):t=c}return t}(this.scheme,r||l),this.query=i||l,this.fragment=n||l,s(this,a))}get fsPath(){return y(this,!1)}with(e){if(!e)return this;let{scheme:t,authority:r,path:i,query:n,fragment:a}=e;return void 0===t?t=this.scheme:null===t&&(t=l),void 0===r?r=this.authority:null===r&&(r=l),void 0===i?i=this.path:null===i&&(i=l),void 0===n?n=this.query:null===n&&(n=l),void 0===a?a=this.fragment:null===a&&(a=l),t===this.scheme&&r===this.authority&&i===this.path&&n===this.query&&a===this.fragment?this:new f(t,r,i,n,a)}static parse(e,t=!1){let r=u.exec(e);return r?new f(r[2]||l,C(r[4]||l),C(r[5]||l),C(r[7]||l),C(r[9]||l),t):new f(l,l,l,l,l)}static file(t){let r=l;if(e&&(t=t.replace(/\\/g,c)),t[0]===c&&t[1]===c){let e=t.indexOf(c,2);-1===e?(r=t.substring(2),t=c):(r=t.substring(2,e),t=t.substring(e)||c)}return new f("file",r,t,l,l)}static from(e){let t=new f(e.scheme,e.authority,e.path,e.query,e.fragment);return s(t,!0),t}toString(e=!1){return v(this,e)}toJSON(){return this}static revive(e){if(e){if(e instanceof h)return e;{let t=new f(e);return t._formatted=e.external,t._fsPath=e._sep===d?e.fsPath:null,t}}return e}}let d=e?1:void 0;class f extends h{static{o(this,"l")}_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=y(this,!1)),this._fsPath}toString(e=!1){return e?v(this,!0):(this._formatted||(this._formatted=v(this,!1)),this._formatted)}toJSON(){let e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=d),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e}}let p={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function m(e,t,r){let i,n=-1;for(let a=0;a<e.length;a++){let o=e.charCodeAt(a);if(o>=97&&o<=122||o>=65&&o<=90||o>=48&&o<=57||45===o||46===o||95===o||126===o||t&&47===o||r&&91===o||r&&93===o||r&&58===o)-1!==n&&(i+=encodeURIComponent(e.substring(n,a)),n=-1),void 0!==i&&(i+=e.charAt(a));else{void 0===i&&(i=e.substr(0,a));let t=p[o];void 0!==t?(-1!==n&&(i+=encodeURIComponent(e.substring(n,a)),n=-1),i+=t):-1===n&&(n=a)}}return-1!==n&&(i+=encodeURIComponent(e.substring(n))),void 0!==i?i:e}function g(e){let t;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);35===i||63===i?(void 0===t&&(t=e.substr(0,r)),t+=p[i]):void 0!==t&&(t+=e[r])}return void 0!==t?t:e}function y(t,r){let i;return i=t.authority&&t.path.length>1&&"file"===t.scheme?`//${t.authority}${t.path}`:47===t.path.charCodeAt(0)&&(t.path.charCodeAt(1)>=65&&t.path.charCodeAt(1)<=90||t.path.charCodeAt(1)>=97&&t.path.charCodeAt(1)<=122)&&58===t.path.charCodeAt(2)?r?t.path.substr(1):t.path[1].toLowerCase()+t.path.substr(2):t.path,e&&(i=i.replace(/\//g,"\\")),i}function v(e,t){let r=t?g:m,i="",{scheme:n,authority:a,path:o,query:s,fragment:l}=e;if(n&&(i+=n,i+=":"),(a||"file"===n)&&(i+=c,i+=c),a){let e=a.indexOf("@");if(-1!==e){let t=a.substr(0,e);a=a.substr(e+1),e=t.lastIndexOf(":"),-1===e?i+=r(t,!1,!1):(i+=r(t.substr(0,e),!1,!1),i+=":",i+=r(t.substr(e+1),!1,!0)),i+="@"}a=a.toLowerCase(),e=a.lastIndexOf(":"),-1===e?i+=r(a,!1,!0):(i+=r(a.substr(0,e),!1,!0),i+=a.substr(e))}if(o){if(o.length>=3&&47===o.charCodeAt(0)&&58===o.charCodeAt(2)){let e=o.charCodeAt(1);e>=65&&e<=90&&(o=`/${String.fromCharCode(e+32)}:${o.substr(3)}`)}else if(o.length>=2&&58===o.charCodeAt(1)){let e=o.charCodeAt(0);e>=65&&e<=90&&(o=`${String.fromCharCode(e+32)}:${o.substr(2)}`)}i+=r(o,!0,!1)}return s&&(i+="?",i+=r(s,!1,!1)),l&&(i+="#",i+=t?l:m(l,!1,!1)),i}function x(e){try{return decodeURIComponent(e)}catch{return e.length>3?e.substr(0,3)+x(e.substr(3)):e}}o(m,"d"),o(g,"p"),o(y,"m"),o(v,"y"),o(x,"v");let T=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function C(e){return e.match(T)?e.replace(T,(e=>x(e))):e}o(C,"C");var b=r(470);let k=b.posix||b,_="/";var S;!function(e){e.joinPath=function(e,...t){return e.with({path:k.join(e.path,...t)})},e.resolvePath=function(e,...t){let r=e.path,i=!1;r[0]!==_&&(r=_+r,i=!0);let n=k.resolve(r,...t);return i&&n[0]===_&&!e.authority&&(n=n.substring(1)),e.with({path:n})},e.dirname=function(e){if(0===e.path.length||e.path===_)return e;let t=k.dirname(e.path);return 1===t.length&&46===t.charCodeAt(0)&&(t=""),e.with({path:t})},e.basename=function(e){return k.basename(e.path)},e.extname=function(e){return k.extname(e.path)}}(S||(S={}))})(),Pb=i})();var Wb,qb,{URI:Hb,Utils:Vb}=Pb;!function(e){function t(e,t){return e?.toString()===t?.toString()}function r(e,t){let r="string"==typeof e?e:e.path,i="string"==typeof t?t:t.path,n=r.split("/").filter((e=>e.length>0)),a=i.split("/").filter((e=>e.length>0)),o=0;for(;o<n.length&&n[o]===a[o];o++);return"../".repeat(n.length-o)+a.slice(o).join("/")}function i(e){return Hb.parse(e.toString()).toString()}e.basename=Vb.basename,e.dirname=Vb.dirname,e.extname=Vb.extname,e.joinPath=Vb.joinPath,e.resolvePath=Vb.resolvePath,o(t,"equals"),e.equals=t,o(r,"relative"),e.relative=r,o(i,"normalize"),e.normalize=i}(Wb||(Wb={})),function(e){e[e.Changed=0]="Changed",e[e.Parsed=1]="Parsed",e[e.IndexedContent=2]="IndexedContent",e[e.ComputedScopes=3]="ComputedScopes",e[e.Linked=4]="Linked",e[e.IndexedReferences=5]="IndexedReferences",e[e.Validated=6]="Validated"}(qb||(qb={}));var Kb=class{static{o(this,"DefaultLangiumDocumentFactory")}constructor(e){this.serviceRegistry=e.ServiceRegistry,this.textDocuments=e.workspace.TextDocuments,this.fileSystemProvider=e.workspace.FileSystemProvider}async fromUri(e,t=Ab.CancellationToken.None){let r=await this.fileSystemProvider.readFile(e);return this.createAsync(e,r,t)}fromTextDocument(e,t,r){return t=t??Hb.parse(e.uri),Ab.CancellationToken.is(r)?this.createAsync(t,e,r):this.create(t,e,r)}fromString(e,t,r){return Ab.CancellationToken.is(r)?this.createAsync(t,e,r):this.create(t,e,r)}fromModel(e,t){return this.create(t,{$model:e})}create(e,t,r){if("string"==typeof t){let i=this.parse(e,t,r);return this.createLangiumDocument(i,e,void 0,t)}if("$model"in t){let r={value:t.$model,parserErrors:[],lexerErrors:[]};return this.createLangiumDocument(r,e)}{let i=this.parse(e,t.getText(),r);return this.createLangiumDocument(i,e,t)}}async createAsync(e,t,r){if("string"==typeof t){let i=await this.parseAsync(e,t,r);return this.createLangiumDocument(i,e,void 0,t)}{let i=await this.parseAsync(e,t.getText(),r);return this.createLangiumDocument(i,e,t)}}createLangiumDocument(e,t,r,i){let n;if(r)n={parseResult:e,uri:t,state:qb.Parsed,references:[],textDocument:r};else{let r=this.createTextDocumentGetter(t,i);n={parseResult:e,uri:t,state:qb.Parsed,references:[],get textDocument(){return r()}}}return e.value.$document=n,n}async update(e,t){var r,i;let n=null===(r=e.parseResult.value.$cstNode)||void 0===r?void 0:r.root.fullText,a=null===(i=this.textDocuments)||void 0===i?void 0:i.get(e.uri.toString()),o=a?a.getText():await this.fileSystemProvider.readFile(e.uri);if(a)Object.defineProperty(e,"textDocument",{value:a});else{let t=this.createTextDocumentGetter(e.uri,o);Object.defineProperty(e,"textDocument",{get:t})}return n!==o&&(e.parseResult=await this.parseAsync(e.uri,o,t),e.parseResult.value.$document=e),e.state=qb.Parsed,e}parse(e,t,r){return this.serviceRegistry.getServices(e).parser.LangiumParser.parse(t,r)}parseAsync(e,t,r){return this.serviceRegistry.getServices(e).parser.AsyncParser.parse(t,r)}createTextDocumentGetter(e,t){let r,i=this.serviceRegistry;return()=>r??(r=Mb.create(e.toString(),i.getServices(e).LanguageMetaData.languageId,0,t??""))}},Yb=class{static{o(this,"DefaultLangiumDocuments")}constructor(e){this.documentMap=new Map,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory,this.serviceRegistry=e.ServiceRegistry}get all(){return Qu(this.documentMap.values())}addDocument(e){let t=e.uri.toString();if(this.documentMap.has(t))throw new Error(`A document with the URI '${t}' is already present.`);this.documentMap.set(t,e)}getDocument(e){let t=e.toString();return this.documentMap.get(t)}async getOrCreateDocument(e,t){let r=this.getDocument(e);return r||(r=await this.langiumDocumentFactory.fromUri(e,t),this.addDocument(r),r)}createDocument(e,t,r){if(r)return this.langiumDocumentFactory.fromString(t,e,r).then((e=>(this.addDocument(e),e)));{let r=this.langiumDocumentFactory.fromString(t,e);return this.addDocument(r),r}}hasDocument(e){return this.documentMap.has(e.toString())}invalidateDocument(e){let t=e.toString(),r=this.documentMap.get(t);return r&&(this.serviceRegistry.getServices(e).references.Linker.unlink(r),r.state=qb.Changed,r.precomputedScopes=void 0,r.diagnostics=void 0),r}deleteDocument(e){let t=e.toString(),r=this.documentMap.get(t);return r&&(r.state=qb.Changed,this.documentMap.delete(t)),r}},Xb=Symbol("ref_resolving"),Jb=class{static{o(this,"DefaultLinker")}constructor(e){this.reflection=e.shared.AstReflection,this.langiumDocuments=()=>e.shared.workspace.LangiumDocuments,this.scopeProvider=e.references.ScopeProvider,this.astNodeLocator=e.workspace.AstNodeLocator}async link(e,t=Ab.CancellationToken.None){for(let r of Af(e.parseResult.value))await Ob(t),wf(r).forEach((t=>this.doLink(t,e)))}doLink(e,t){var r;let i=e.reference;if(void 0===i._ref){i._ref=Xb;try{let t=this.getCandidate(e);if(Gu(t))i._ref=t;else if(i._nodeDescription=t,this.langiumDocuments().hasDocument(t.documentUri)){let r=this.loadAstNode(t);i._ref=r??this.createLinkingError(e,t)}else i._ref=void 0}catch(t){console.error(`An error occurred while resolving reference to '${i.$refText}':`,t);let n=null!==(r=t.message)&&void 0!==r?r:String(t);i._ref=Object.assign(Object.assign({},e),{message:`An error occurred while resolving reference to '${i.$refText}': ${n}`})}t.references.push(i)}}unlink(e){for(let t of e.references)delete t._ref,delete t._nodeDescription;e.references=[]}getCandidate(e){return this.scopeProvider.getScope(e).getElement(e.reference.$refText)??this.createLinkingError(e)}buildReference(e,t,r,i){let n=this,a={$refNode:r,$refText:i,get ref(){var r;if(Uu(this._ref))return this._ref;if(ju(this._nodeDescription)){let r=n.loadAstNode(this._nodeDescription);this._ref=r??n.createLinkingError({reference:a,container:e,property:t},this._nodeDescription)}else if(void 0===this._ref){this._ref=Xb;let i=kf(e).$document,o=n.getLinkedNode({reference:a,container:e,property:t});if(o.error&&i&&i.state<qb.ComputedScopes)return this._ref=void 0;this._ref=null!==(r=o.node)&&void 0!==r?r:o.error,this._nodeDescription=o.descr,i?.references.push(this)}else if(this._ref===Xb)throw new Error(`Cyclic reference resolution detected: ${n.astNodeLocator.getAstNodePath(e)}/${t} (symbol '${i}')`);return Uu(this._ref)?this._ref:void 0},get $nodeDescription(){return this._nodeDescription},get error(){return Gu(this._ref)?this._ref:void 0}};return a}getLinkedNode(e){var t;try{let t=this.getCandidate(e);if(Gu(t))return{error:t};let r=this.loadAstNode(t);return r?{node:r,descr:t}:{descr:t,error:this.createLinkingError(e,t)}}catch(r){console.error(`An error occurred while resolving reference to '${e.reference.$refText}':`,r);let i=null!==(t=r.message)&&void 0!==t?t:String(r);return{error:Object.assign(Object.assign({},e),{message:`An error occurred while resolving reference to '${e.reference.$refText}': ${i}`})}}}loadAstNode(e){if(e.node)return e.node;let t=this.langiumDocuments().getDocument(e.documentUri);return t?this.astNodeLocator.getAstNode(t.parseResult.value,e.path):void 0}createLinkingError(e,t){let r=kf(e.container).$document;r&&r.state<qb.ComputedScopes&&console.warn(`Attempted reference resolution before document reached ComputedScopes state (${r.uri}).`);let i=this.reflection.getReferenceType(e);return Object.assign(Object.assign({},e),{message:`Could not resolve reference to ${i} named '${e.reference.$refText}'.`,targetDescription:t})}};function Zb(e){return"string"==typeof e.name}o(Zb,"isNamed");var Qb=class{static{o(this,"DefaultNameProvider")}getName(e){if(Zb(e))return e.name}getNameNode(e){return fp(e.$cstNode,"name")}},ek=class{static{o(this,"DefaultReferences")}constructor(e){this.nameProvider=e.references.NameProvider,this.index=e.shared.workspace.IndexManager,this.nodeLocator=e.workspace.AstNodeLocator}findDeclaration(e){if(e){let t=vp(e),r=e.astNode;if(t&&r){let i=r[t.feature];if(zu(i))return i.ref;if(Array.isArray(i))for(let t of i)if(zu(t)&&t.$refNode&&t.$refNode.offset<=e.offset&&t.$refNode.end>=e.end)return t.ref}if(r){let t=this.nameProvider.getNameNode(r);if(t&&(t===e||oh(e,t)))return r}}}findDeclarationNode(e){let t=this.findDeclaration(e);if(t?.$cstNode){return this.nameProvider.getNameNode(t)??t.$cstNode}}findReferences(e,t){let r=[];if(t.includeDeclaration){let t=this.getReferenceToSelf(e);t&&r.push(t)}let i=this.index.findAllReferences(e,this.nodeLocator.getAstNodePath(e));return t.documentUri&&(i=i.filter((e=>Wb.equals(e.sourceUri,t.documentUri)))),r.push(...i),Qu(r)}getReferenceToSelf(e){let t=this.nameProvider.getNameNode(e);if(t){let r=bf(e),i=this.nodeLocator.getAstNodePath(e);return{sourceUri:r.uri,sourcePath:i,targetUri:r.uri,targetPath:i,segment:lh(t),local:!0}}}},tk=class{static{o(this,"MultiMap")}constructor(e){if(this.map=new Map,e)for(let[t,r]of e)this.add(t,r)}get size(){return eh.sum(Qu(this.map.values()).map((e=>e.length)))}clear(){this.map.clear()}delete(e,t){if(void 0===t)return this.map.delete(e);{let r=this.map.get(e);if(r){let i=r.indexOf(t);if(i>=0)return 1===r.length?this.map.delete(e):r.splice(i,1),!0}return!1}}get(e){var t;return null!==(t=this.map.get(e))&&void 0!==t?t:[]}has(e,t){if(void 0===t)return this.map.has(e);{let r=this.map.get(e);return!!r&&r.indexOf(t)>=0}}add(e,t){return this.map.has(e)?this.map.get(e).push(t):this.map.set(e,[t]),this}addAll(e,t){return this.map.has(e)?this.map.get(e).push(...t):this.map.set(e,Array.from(t)),this}forEach(e){this.map.forEach(((t,r)=>t.forEach((t=>e(t,r,this)))))}[Symbol.iterator](){return this.entries().iterator()}entries(){return Qu(this.map.entries()).flatMap((([e,t])=>t.map((t=>[e,t]))))}keys(){return Qu(this.map.keys())}values(){return Qu(this.map.values()).flat()}entriesGroupedByKey(){return Qu(this.map.entries())}},rk=class{static{o(this,"BiMap")}get size(){return this.map.size}constructor(e){if(this.map=new Map,this.inverse=new Map,e)for(let[t,r]of e)this.set(t,r)}clear(){this.map.clear(),this.inverse.clear()}set(e,t){return this.map.set(e,t),this.inverse.set(t,e),this}get(e){return this.map.get(e)}getKey(e){return this.inverse.get(e)}delete(e){let t=this.map.get(e);return void 0!==t&&(this.map.delete(e),this.inverse.delete(t),!0)}},ik=class{static{o(this,"DefaultScopeComputation")}constructor(e){this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider}async computeExports(e,t=Ab.CancellationToken.None){return this.computeExportsForNode(e.parseResult.value,e,void 0,t)}async computeExportsForNode(e,t,r=_f,i=Ab.CancellationToken.None){let n=[];this.exportNode(e,n,t);for(let a of r(e))await Ob(i),this.exportNode(a,n,t);return n}exportNode(e,t,r){let i=this.nameProvider.getName(e);i&&t.push(this.descriptions.createDescription(e,i,r))}async computeLocalScopes(e,t=Ab.CancellationToken.None){let r=e.parseResult.value,i=new tk;for(let n of Sf(r))await Ob(t),this.processNode(n,e,i);return i}processNode(e,t,r){let i=e.$container;if(i){let n=this.nameProvider.getName(e);n&&r.add(i,this.descriptions.createDescription(e,n,t))}}},nk=class{static{o(this,"StreamScope")}constructor(e,t,r){var i;this.elements=e,this.outerScope=t,this.caseInsensitive=null!==(i=r?.caseInsensitive)&&void 0!==i&&i}getAllElements(){return this.outerScope?this.elements.concat(this.outerScope.getAllElements()):this.elements}getElement(e){let t=this.caseInsensitive?this.elements.find((t=>t.name.toLowerCase()===e.toLowerCase())):this.elements.find((t=>t.name===e));return t||(this.outerScope?this.outerScope.getElement(e):void 0)}},ak=class{static{o(this,"MapScope")}constructor(e,t,r){var i;this.elements=new Map,this.caseInsensitive=null!==(i=r?.caseInsensitive)&&void 0!==i&&i;for(let t of e){let e=this.caseInsensitive?t.name.toLowerCase():t.name;this.elements.set(e,t)}this.outerScope=t}getElement(e){let t=this.caseInsensitive?e.toLowerCase():e,r=this.elements.get(t);return r||(this.outerScope?this.outerScope.getElement(e):void 0)}getAllElements(){let e=Qu(this.elements.values());return this.outerScope&&(e=e.concat(this.outerScope.getAllElements())),e}},ok={getElement(){},getAllElements:()=>Ju},sk=class{static{o(this,"DisposableCache")}constructor(){this.toDispose=[],this.isDisposed=!1}onDispose(e){this.toDispose.push(e)}dispose(){this.throwIfDisposed(),this.clear(),this.isDisposed=!0,this.toDispose.forEach((e=>e.dispose()))}throwIfDisposed(){if(this.isDisposed)throw new Error("This cache has already been disposed")}},lk=class extends sk{static{o(this,"SimpleCache")}constructor(){super(...arguments),this.cache=new Map}has(e){return this.throwIfDisposed(),this.cache.has(e)}set(e,t){this.throwIfDisposed(),this.cache.set(e,t)}get(e,t){if(this.throwIfDisposed(),this.cache.has(e))return this.cache.get(e);if(t){let r=t();return this.cache.set(e,r),r}}delete(e){return this.throwIfDisposed(),this.cache.delete(e)}clear(){this.throwIfDisposed(),this.cache.clear()}},ck=class extends sk{static{o(this,"ContextCache")}constructor(e){super(),this.cache=new Map,this.converter=e??(e=>e)}has(e,t){return this.throwIfDisposed(),this.cacheForContext(e).has(t)}set(e,t,r){this.throwIfDisposed(),this.cacheForContext(e).set(t,r)}get(e,t,r){this.throwIfDisposed();let i=this.cacheForContext(e);if(i.has(t))return i.get(t);if(r){let e=r();return i.set(t,e),e}}delete(e,t){return this.throwIfDisposed(),this.cacheForContext(e).delete(t)}clear(e){if(this.throwIfDisposed(),e){let t=this.converter(e);this.cache.delete(t)}else this.cache.clear()}cacheForContext(e){let t=this.converter(e),r=this.cache.get(t);return r||(r=new Map,this.cache.set(t,r)),r}},uk=class extends ck{static{o(this,"DocumentCache")}constructor(e,t){super((e=>e.toString())),t?(this.toDispose.push(e.workspace.DocumentBuilder.onDocumentPhase(t,(e=>{this.clear(e.uri.toString())}))),this.toDispose.push(e.workspace.DocumentBuilder.onUpdate(((e,t)=>{for(let e of t)this.clear(e)})))):this.toDispose.push(e.workspace.DocumentBuilder.onUpdate(((e,t)=>{let r=e.concat(t);for(let e of r)this.clear(e)})))}},hk=class extends lk{static{o(this,"WorkspaceCache")}constructor(e,t){super(),t?(this.toDispose.push(e.workspace.DocumentBuilder.onBuildPhase(t,(()=>{this.clear()}))),this.toDispose.push(e.workspace.DocumentBuilder.onUpdate(((e,t)=>{t.length>0&&this.clear()})))):this.toDispose.push(e.workspace.DocumentBuilder.onUpdate((()=>{this.clear()})))}},dk=class{static{o(this,"DefaultScopeProvider")}constructor(e){this.reflection=e.shared.AstReflection,this.nameProvider=e.references.NameProvider,this.descriptions=e.workspace.AstNodeDescriptionProvider,this.indexManager=e.shared.workspace.IndexManager,this.globalScopeCache=new hk(e.shared)}getScope(e){let t=[],r=this.reflection.getReferenceType(e),i=bf(e.container).precomputedScopes;if(i){let n=e.container;do{let e=i.get(n);e.length>0&&t.push(Qu(e).filter((e=>this.reflection.isSubtype(e.type,r)))),n=n.$container}while(n)}let n=this.getGlobalScope(r,e);for(let e=t.length-1;e>=0;e--)n=this.createScope(t[e],n);return n}createScope(e,t,r){return new nk(Qu(e),t,r)}createScopeForNodes(e,t,r){let i=Qu(e).map((e=>{let t=this.nameProvider.getName(e);if(t)return this.descriptions.createDescription(e,t)})).nonNullable();return new nk(i,t,r)}getGlobalScope(e,t){return this.globalScopeCache.get(e,(()=>new ak(this.indexManager.allElements(e))))}};function fk(e){return"string"==typeof e.$comment}function pk(e){return"object"==typeof e&&!!e&&("$ref"in e||"$error"in e)}o(fk,"isAstNodeWithComment"),o(pk,"isIntermediateReference");var mk,gk=class{static{o(this,"DefaultJsonSerializer")}constructor(e){this.ignoreProperties=new Set(["$container","$containerProperty","$containerIndex","$document","$cstNode"]),this.langiumDocuments=e.shared.workspace.LangiumDocuments,this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider,this.commentProvider=e.documentation.CommentProvider}serialize(e,t){let r=t??{},i=t?.replacer,n=o(((e,t)=>this.replacer(e,t,r)),"defaultReplacer"),a=i?(e,t)=>i(e,t,n):n;try{return this.currentDocument=bf(e),JSON.stringify(e,a,t?.space)}finally{this.currentDocument=void 0}}deserialize(e,t){let r=t??{},i=JSON.parse(e);return this.linkNode(i,i,r),i}replacer(e,t,{refText:r,sourceText:i,textRegions:n,comments:a,uriConverter:o}){var s,l,c,u;if(!this.ignoreProperties.has(e)){if(zu(t)){let e=t.ref,i=r?t.$refText:void 0;if(e){let r=bf(e),n="";return this.currentDocument&&this.currentDocument!==r&&(n=o?o(r.uri,t):r.uri.toString()),{$ref:`${n}#${this.astNodeLocator.getAstNodePath(e)}`,$refText:i}}return{$error:null!==(l=null===(s=t.error)||void 0===s?void 0:s.message)&&void 0!==l?l:"Could not resolve reference",$refText:i}}if(Uu(t)){let r;if(n&&(r=this.addAstNodeRegionWithAssignmentsTo(Object.assign({},t)),(!e||t.$document)&&r?.$textRegion&&(r.$textRegion.documentURI=null===(c=this.currentDocument)||void 0===c?void 0:c.uri.toString())),i&&!e&&(r??(r=Object.assign({},t)),r.$sourceText=null===(u=t.$cstNode)||void 0===u?void 0:u.text),a){r??(r=Object.assign({},t));let e=this.commentProvider.getComment(t);e&&(r.$comment=e.replace(/\r/g,""))}return r??t}return t}}addAstNodeRegionWithAssignmentsTo(e){let t=o((e=>({offset:e.offset,end:e.end,length:e.length,range:e.range})),"createDocumentSegment");if(e.$cstNode){let r=(e.$textRegion=t(e.$cstNode)).assignments={};return Object.keys(e).filter((e=>!e.startsWith("$"))).forEach((i=>{let n=dp(e.$cstNode,i).map(t);0!==n.length&&(r[i]=n)})),e}}linkNode(e,t,r,i,n,a){for(let[i,n]of Object.entries(e))if(Array.isArray(n))for(let a=0;a<n.length;a++){let o=n[a];pk(o)?n[a]=this.reviveReference(e,i,t,o,r):Uu(o)&&this.linkNode(o,t,r,e,i,a)}else pk(n)?e[i]=this.reviveReference(e,i,t,n,r):Uu(n)&&this.linkNode(n,t,r,e,i);let o=e;o.$container=i,o.$containerProperty=n,o.$containerIndex=a}reviveReference(e,t,r,i,n){let a=i.$refText,o=i.$error;if(i.$ref){let e=this.getRefNode(r,i.$ref,n.uriConverter);if(Uu(e))return a||(a=this.nameProvider.getName(e)),{$refText:a??"",ref:e};o=e}if(o){let r={$refText:a??""};return r.error={container:e,property:t,message:o,reference:r},r}}getRefNode(e,t,r){try{let i=t.indexOf("#");if(0===i){return this.astNodeLocator.getAstNode(e,t.substring(1))||"Could not resolve path: "+t}if(i<0){let e=r?r(t):Hb.parse(t),i=this.langiumDocuments.getDocument(e);return i?i.parseResult.value:"Could not find document for URI: "+t}let n=r?r(t.substring(0,i)):Hb.parse(t.substring(0,i)),a=this.langiumDocuments.getDocument(n);return a?i===t.length-1?a.parseResult.value:this.astNodeLocator.getAstNode(a.parseResult.value,t.substring(i+1))||"Could not resolve URI: "+t:"Could not find document for URI: "+t}catch(e){return String(e)}}},yk=class{static{o(this,"DefaultServiceRegistry")}get map(){return this.fileExtensionMap}constructor(e){this.languageIdMap=new Map,this.fileExtensionMap=new Map,this.textDocuments=e?.workspace.TextDocuments}register(e){let t=e.LanguageMetaData;for(let r of t.fileExtensions)this.fileExtensionMap.has(r)&&console.warn(`The file extension ${r} is used by multiple languages. It is now assigned to '${t.languageId}'.`),this.fileExtensionMap.set(r,e);this.languageIdMap.set(t.languageId,e),1===this.languageIdMap.size?this.singleton=e:this.singleton=void 0}getServices(e){var t,r;if(void 0!==this.singleton)return this.singleton;if(0===this.languageIdMap.size)throw new Error("The service registry is empty. Use `register` to register the services of a language.");let i=null===(r=null===(t=this.textDocuments)||void 0===t?void 0:t.get(e))||void 0===r?void 0:r.languageId;if(void 0!==i){let e=this.languageIdMap.get(i);if(e)return e}let n=Wb.extname(e),a=this.fileExtensionMap.get(n);if(!a)throw i?new Error(`The service registry contains no services for the extension '${n}' for language '${i}'.`):new Error(`The service registry contains no services for the extension '${n}'.`);return a}hasServices(e){try{return this.getServices(e),!0}catch{return!1}}get all(){return Array.from(this.languageIdMap.values())}};function vk(e){return{code:e}}o(vk,"diagnosticData"),(mk||(mk={})).all=["fast","slow","built-in"];var xk,Tk=class{static{o(this,"ValidationRegistry")}constructor(e){this.entries=new tk,this.entriesBefore=[],this.entriesAfter=[],this.reflection=e.shared.AstReflection}register(e,t=this,r="fast"){if("built-in"===r)throw new Error("The 'built-in' category is reserved for lexer, parser, and linker errors.");for(let[i,n]of Object.entries(e)){let e=n;if(Array.isArray(e))for(let n of e){let e={check:this.wrapValidationException(n,t),category:r};this.addEntry(i,e)}else if("function"==typeof e){let n={check:this.wrapValidationException(e,t),category:r};this.addEntry(i,n)}else Ah()}}wrapValidationException(e,t){return async(r,i,n)=>{await this.handleException((()=>e.call(t,r,i,n)),"An error occurred during validation",i,r)}}async handleException(e,t,r,i){try{await e()}catch(e){if(Nb(e))throw e;console.error(`${t}:`,e),e instanceof Error&&e.stack&&console.error(e.stack),r("error",`${t}: ${e instanceof Error?e.message:String(e)}`,{node:i})}}addEntry(e,t){if("AstNode"!==e)for(let r of this.reflection.getAllSubTypes(e))this.entries.add(r,t);else this.entries.add("AstNode",t)}getChecks(e,t){let r=Qu(this.entries.get(e)).concat(this.entries.get("AstNode"));return t&&(r=r.filter((e=>t.includes(e.category)))),r.map((e=>e.check))}registerBeforeDocument(e,t=this){this.entriesBefore.push(this.wrapPreparationException(e,"An error occurred during set-up of the validation",t))}registerAfterDocument(e,t=this){this.entriesAfter.push(this.wrapPreparationException(e,"An error occurred during tear-down of the validation",t))}wrapPreparationException(e,t,r){return async(i,n,a,o)=>{await this.handleException((()=>e.call(r,i,n,a,o)),t,n,i)}}get checksBefore(){return this.entriesBefore}get checksAfter(){return this.entriesAfter}},Ck=class{static{o(this,"DefaultDocumentValidator")}constructor(e){this.validationRegistry=e.validation.ValidationRegistry,this.metadata=e.LanguageMetaData}async validateDocument(e,t={},r=Ab.CancellationToken.None){let i=e.parseResult,n=[];if(await Ob(r),(!t.categories||t.categories.includes("built-in"))&&(this.processLexingErrors(i,n,t),t.stopAfterLexingErrors&&n.some((e=>{var t;return(null===(t=e.data)||void 0===t?void 0:t.code)===xk.LexingError}))||(this.processParsingErrors(i,n,t),t.stopAfterParsingErrors&&n.some((e=>{var t;return(null===(t=e.data)||void 0===t?void 0:t.code)===xk.ParsingError})))||(this.processLinkingErrors(e,n,t),t.stopAfterLinkingErrors&&n.some((e=>{var t;return(null===(t=e.data)||void 0===t?void 0:t.code)===xk.LinkingError})))))return n;try{n.push(...await this.validateAst(i.value,t,r))}catch(e){if(Nb(e))throw e;console.error("An error occurred during validation:",e)}return await Ob(r),n}processLexingErrors(e,t,r){var i,n,a;let o=[...e.lexerErrors,...null!==(n=null===(i=e.lexerReport)||void 0===i?void 0:i.diagnostics)&&void 0!==n?n:[]];for(let e of o){let r=null!==(a=e.severity)&&void 0!==a?a:"error",i={severity:kk(r),range:{start:{line:e.line-1,character:e.column-1},end:{line:e.line-1,character:e.column+e.length-1}},message:e.message,data:_k(r),source:this.getSource()};t.push(i)}}processParsingErrors(e,t,r){for(let r of e.parserErrors){let e;if(isNaN(r.token.startOffset)){if("previousToken"in r){let t=r.previousToken;if(isNaN(t.startOffset)){let t={line:0,character:0};e={start:t,end:t}}else{let r={line:t.endLine-1,character:t.endColumn};e={start:r,end:r}}}}else e=sh(r.token);if(e){let i={severity:kk("error"),range:e,message:r.message,data:vk(xk.ParsingError),source:this.getSource()};t.push(i)}}}processLinkingErrors(e,t,r){for(let r of e.references){let e=r.error;if(e){let r={node:e.container,property:e.property,index:e.index,data:{code:xk.LinkingError,containerType:e.container.$type,property:e.property,refText:e.reference.$refText}};t.push(this.toDiagnostic("error",e.message,r))}}}async validateAst(e,t,r=Ab.CancellationToken.None){let i=[],n=o(((e,t,r)=>{i.push(this.toDiagnostic(e,t,r))}),"acceptor");return await this.validateAstBefore(e,t,n,r),await this.validateAstNodes(e,t,n,r),await this.validateAstAfter(e,t,n,r),i}async validateAstBefore(e,t,r,i=Ab.CancellationToken.None){var n;let a=this.validationRegistry.checksBefore;for(let o of a)await Ob(i),await o(e,r,null!==(n=t.categories)&&void 0!==n?n:[],i)}async validateAstNodes(e,t,r,i=Ab.CancellationToken.None){await Promise.all(Af(e).map((async e=>{await Ob(i);let n=this.validationRegistry.getChecks(e.$type,t.categories);for(let t of n)await t(e,r,i)})))}async validateAstAfter(e,t,r,i=Ab.CancellationToken.None){var n;let a=this.validationRegistry.checksAfter;for(let o of a)await Ob(i),await o(e,r,null!==(n=t.categories)&&void 0!==n?n:[],i)}toDiagnostic(e,t,r){return{message:t,range:bk(r),severity:kk(e),code:r.code,codeDescription:r.codeDescription,tags:r.tags,relatedInformation:r.relatedInformation,data:r.data,source:this.getSource()}}getSource(){return this.metadata.languageId}};function bk(e){if(e.range)return e.range;let t;return"string"==typeof e.property?t=fp(e.node.$cstNode,e.property,e.index):"string"==typeof e.keyword&&(t=gp(e.node.$cstNode,e.keyword,e.index)),t??(t=e.node.$cstNode),t?t.range:{start:{line:0,character:0},end:{line:0,character:0}}}function kk(e){switch(e){case"error":return 1;case"warning":return 2;case"info":return 3;case"hint":return 4;default:throw new Error("Invalid diagnostic severity: "+e)}}function _k(e){switch(e){case"error":return vk(xk.LexingError);case"warning":return vk(xk.LexingWarning);case"info":return vk(xk.LexingInfo);case"hint":return vk(xk.LexingHint);default:throw new Error("Invalid diagnostic severity: "+e)}}o(bk,"getDiagnosticRange"),o(kk,"toDiagnosticSeverity"),o(_k,"toDiagnosticData"),function(e){e.LexingError="lexing-error",e.LexingWarning="lexing-warning",e.LexingInfo="lexing-info",e.LexingHint="lexing-hint",e.ParsingError="parsing-error",e.LinkingError="linking-error"}(xk||(xk={}));var Sk=class{static{o(this,"DefaultAstNodeDescriptionProvider")}constructor(e){this.astNodeLocator=e.workspace.AstNodeLocator,this.nameProvider=e.references.NameProvider}createDescription(e,t,r){let i=r??bf(e);t??(t=this.nameProvider.getName(e));let n=this.astNodeLocator.getAstNodePath(e);if(!t)throw new Error(`Node at path ${n} has no name.`);let a,s=o((()=>{var t;return a??(a=lh(null!==(t=this.nameProvider.getNameNode(e))&&void 0!==t?t:e.$cstNode))}),"nameSegmentGetter");return{node:e,name:t,get nameSegment(){return s()},selectionSegment:lh(e.$cstNode),type:e.$type,documentUri:i.uri,path:n}}},Ak=class{static{o(this,"DefaultReferenceDescriptionProvider")}constructor(e){this.nodeLocator=e.workspace.AstNodeLocator}async createDescriptions(e,t=Ab.CancellationToken.None){let r=[],i=e.parseResult.value;for(let e of Af(i))await Ob(t),wf(e).filter((e=>!Gu(e))).forEach((e=>{let t=this.createDescription(e);t&&r.push(t)}));return r}createDescription(e){let t=e.reference.$nodeDescription,r=e.reference.$refNode;if(!t||!r)return;let i=bf(e.container).uri;return{sourceUri:i,sourcePath:this.nodeLocator.getAstNodePath(e.container),targetUri:t.documentUri,targetPath:t.path,segment:lh(r),local:Wb.equals(t.documentUri,i)}}},Ek=class{static{o(this,"DefaultAstNodeLocator")}constructor(){this.segmentSeparator="/",this.indexSeparator="@"}getAstNodePath(e){if(e.$container){let t=this.getAstNodePath(e.$container),r=this.getPathSegment(e);return t+this.segmentSeparator+r}return""}getPathSegment({$containerProperty:e,$containerIndex:t}){if(!e)throw new Error("Missing '$containerProperty' in AST node.");return void 0!==t?e+this.indexSeparator+t:e}getAstNode(e,t){return t.split(this.segmentSeparator).reduce(((e,t)=>{if(!e||0===t.length)return e;let r=t.indexOf(this.indexSeparator);if(r>0){let i=t.substring(0,r),n=parseInt(t.substring(r+1)),a=e[i];return a?.[n]}return e[t]}),e)}},wk={};u(wk,h(Pu(),1));var Rk,$k=class{static{o(this,"DefaultConfigurationProvider")}constructor(e){this._ready=new Bb,this.settings={},this.workspaceConfig=!1,this.onConfigurationSectionUpdateEmitter=new wk.Emitter,this.serviceRegistry=e.ServiceRegistry}get ready(){return this._ready.promise}initialize(e){var t,r;this.workspaceConfig=null!==(r=null===(t=e.capabilities.workspace)||void 0===t?void 0:t.configuration)&&void 0!==r&&r}async initialized(e){if(this.workspaceConfig){if(e.register){let t=this.serviceRegistry.all;e.register({section:t.map((e=>this.toSectionName(e.LanguageMetaData.languageId)))})}if(e.fetchConfiguration){let t=this.serviceRegistry.all.map((e=>({section:this.toSectionName(e.LanguageMetaData.languageId)}))),r=await e.fetchConfiguration(t);t.forEach(((e,t)=>{this.updateSectionConfiguration(e.section,r[t])}))}}this._ready.resolve()}updateConfiguration(e){e.settings&&Object.keys(e.settings).forEach((t=>{let r=e.settings[t];this.updateSectionConfiguration(t,r),this.onConfigurationSectionUpdateEmitter.fire({section:t,configuration:r})}))}updateSectionConfiguration(e,t){this.settings[e]=t}async getConfiguration(e,t){await this.ready;let r=this.toSectionName(e);if(this.settings[r])return this.settings[r][t]}toSectionName(e){return`${e}`}get onConfigurationSectionUpdate(){return this.onConfigurationSectionUpdateEmitter.event}};!function(e){function t(e){return{dispose:o((async()=>await e()),"dispose")}}o(t,"create"),e.create=t}(Rk||(Rk={}));var Lk=class{static{o(this,"DefaultDocumentBuilder")}constructor(e){this.updateBuildOptions={validation:{categories:["built-in","fast"]}},this.updateListeners=[],this.buildPhaseListeners=new tk,this.documentPhaseListeners=new tk,this.buildState=new Map,this.documentBuildWaiters=new Map,this.currentState=qb.Changed,this.langiumDocuments=e.workspace.LangiumDocuments,this.langiumDocumentFactory=e.workspace.LangiumDocumentFactory,this.textDocuments=e.workspace.TextDocuments,this.indexManager=e.workspace.IndexManager,this.serviceRegistry=e.ServiceRegistry}async build(e,t={},r=Ab.CancellationToken.None){var i,n;for(let r of e){let e=r.uri.toString();if(r.state===qb.Validated){if("boolean"==typeof t.validation&&t.validation)r.state=qb.IndexedReferences,r.diagnostics=void 0,this.buildState.delete(e);else if("object"==typeof t.validation){let a=this.buildState.get(e),o=null===(i=a?.result)||void 0===i?void 0:i.validationChecks;if(o){let i=(null!==(n=t.validation.categories)&&void 0!==n?n:mk.all).filter((e=>!o.includes(e)));i.length>0&&(this.buildState.set(e,{completed:!1,options:{validation:Object.assign(Object.assign({},t.validation),{categories:i})},result:a.result}),r.state=qb.IndexedReferences)}}}else this.buildState.delete(e)}this.currentState=qb.Changed,await this.emitUpdate(e.map((e=>e.uri)),[]),await this.buildDocuments(e,t,r)}async update(e,t,r=Ab.CancellationToken.None){this.currentState=qb.Changed;for(let e of t)this.langiumDocuments.deleteDocument(e),this.buildState.delete(e.toString()),this.indexManager.remove(e);for(let t of e){if(!this.langiumDocuments.invalidateDocument(t)){let e=this.langiumDocumentFactory.fromModel({$type:"INVALID"},t);e.state=qb.Changed,this.langiumDocuments.addDocument(e)}this.buildState.delete(t.toString())}let i=Qu(e).concat(t).map((e=>e.toString())).toSet();this.langiumDocuments.all.filter((e=>!i.has(e.uri.toString())&&this.shouldRelink(e,i))).forEach((e=>{this.serviceRegistry.getServices(e.uri).references.Linker.unlink(e),e.state=Math.min(e.state,qb.ComputedScopes),e.diagnostics=void 0})),await this.emitUpdate(e,t),await Ob(r);let n=this.sortDocuments(this.langiumDocuments.all.filter((e=>{var t;return e.state<qb.Linked||!(null!==(t=this.buildState.get(e.uri.toString()))&&void 0!==t&&t.completed)})).toArray());await this.buildDocuments(n,this.updateBuildOptions,r)}async emitUpdate(e,t){await Promise.all(this.updateListeners.map((r=>r(e,t))))}sortDocuments(e){let t=0,r=e.length-1;for(;t<r;){for(;t<e.length&&this.hasTextDocument(e[t]);)t++;for(;r>=0&&!this.hasTextDocument(e[r]);)r--;t<r&&([e[t],e[r]]=[e[r],e[t]])}return e}hasTextDocument(e){var t;return!(null===(t=this.textDocuments)||void 0===t||!t.get(e.uri))}shouldRelink(e,t){return!!e.references.some((e=>void 0!==e.error))||this.indexManager.isAffected(e,t)}onUpdate(e){return this.updateListeners.push(e),Rk.create((()=>{let t=this.updateListeners.indexOf(e);t>=0&&this.updateListeners.splice(t,1)}))}async buildDocuments(e,t,r){this.prepareBuild(e,t),await this.runCancelable(e,qb.Parsed,r,(e=>this.langiumDocumentFactory.update(e,r))),await this.runCancelable(e,qb.IndexedContent,r,(e=>this.indexManager.updateContent(e,r))),await this.runCancelable(e,qb.ComputedScopes,r,(async e=>{let t=this.serviceRegistry.getServices(e.uri).references.ScopeComputation;e.precomputedScopes=await t.computeLocalScopes(e,r)})),await this.runCancelable(e,qb.Linked,r,(e=>this.serviceRegistry.getServices(e.uri).references.Linker.link(e,r))),await this.runCancelable(e,qb.IndexedReferences,r,(e=>this.indexManager.updateReferences(e,r)));let i=e.filter((e=>this.shouldValidate(e)));await this.runCancelable(i,qb.Validated,r,(e=>this.validate(e,r)));for(let t of e){let e=this.buildState.get(t.uri.toString());e&&(e.completed=!0)}}prepareBuild(e,t){for(let r of e){let e=r.uri.toString(),i=this.buildState.get(e);(!i||i.completed)&&this.buildState.set(e,{completed:!1,options:t,result:i?.result})}}async runCancelable(e,t,r,i){let n=e.filter((e=>e.state<t));for(let e of n)await Ob(r),await i(e),e.state=t,await this.notifyDocumentPhase(e,t,r);let a=e.filter((e=>e.state===t));await this.notifyBuildPhase(a,t,r),this.currentState=t}onBuildPhase(e,t){return this.buildPhaseListeners.add(e,t),Rk.create((()=>{this.buildPhaseListeners.delete(e,t)}))}onDocumentPhase(e,t){return this.documentPhaseListeners.add(e,t),Rk.create((()=>{this.documentPhaseListeners.delete(e,t)}))}waitUntil(e,t,r){let i;if(t&&"path"in t?i=t:r=t,r??(r=Ab.CancellationToken.None),i){let t=this.langiumDocuments.getDocument(i);if(t&&t.state>e)return Promise.resolve(i)}return this.currentState>=e?Promise.resolve(void 0):r.isCancellationRequested?Promise.reject(Ib):new Promise(((t,n)=>{let a=this.onBuildPhase(e,(()=>{if(a.dispose(),o.dispose(),i){let e=this.langiumDocuments.getDocument(i);t(e?.uri)}else t(void 0)})),o=r.onCancellationRequested((()=>{a.dispose(),o.dispose(),n(Ib)}))}))}async notifyDocumentPhase(e,t,r){let i=this.documentPhaseListeners.get(t).slice();for(let t of i)try{await t(e,r)}catch(e){if(!Nb(e))throw e}}async notifyBuildPhase(e,t,r){if(0===e.length)return;let i=this.buildPhaseListeners.get(t).slice();for(let t of i)await Ob(r),await t(e,r)}shouldValidate(e){return!!this.getBuildOptions(e).validation}async validate(e,t){var r,i;let n=this.serviceRegistry.getServices(e.uri).validation.DocumentValidator,a=this.getBuildOptions(e).validation,o="object"==typeof a?a:void 0,s=await n.validateDocument(e,o,t);e.diagnostics?e.diagnostics.push(...s):e.diagnostics=s;let l=this.buildState.get(e.uri.toString());if(l){null!==(r=l.result)&&void 0!==r||(l.result={});let e=null!==(i=o?.categories)&&void 0!==i?i:mk.all;l.result.validationChecks?l.result.validationChecks.push(...e):l.result.validationChecks=[...e]}}getBuildOptions(e){var t,r;return null!==(r=null===(t=this.buildState.get(e.uri.toString()))||void 0===t?void 0:t.options)&&void 0!==r?r:{}}},Ik=class{static{o(this,"DefaultIndexManager")}constructor(e){this.symbolIndex=new Map,this.symbolByTypeIndex=new ck,this.referenceIndex=new Map,this.documents=e.workspace.LangiumDocuments,this.serviceRegistry=e.ServiceRegistry,this.astReflection=e.AstReflection}findAllReferences(e,t){let r=bf(e).uri,i=[];return this.referenceIndex.forEach((e=>{e.forEach((e=>{Wb.equals(e.targetUri,r)&&e.targetPath===t&&i.push(e)}))})),Qu(i)}allElements(e,t){let r=Qu(this.symbolIndex.keys());return t&&(r=r.filter((e=>!t||t.has(e)))),r.map((t=>this.getFileDescriptions(t,e))).flat()}getFileDescriptions(e,t){var r;return t?this.symbolByTypeIndex.get(e,t,(()=>{var r;return(null!==(r=this.symbolIndex.get(e))&&void 0!==r?r:[]).filter((e=>this.astReflection.isSubtype(e.type,t)))})):null!==(r=this.symbolIndex.get(e))&&void 0!==r?r:[]}remove(e){let t=e.toString();this.symbolIndex.delete(t),this.symbolByTypeIndex.clear(t),this.referenceIndex.delete(t)}async updateContent(e,t=Ab.CancellationToken.None){let r=await this.serviceRegistry.getServices(e.uri).references.ScopeComputation.computeExports(e,t),i=e.uri.toString();this.symbolIndex.set(i,r),this.symbolByTypeIndex.clear(i)}async updateReferences(e,t=Ab.CancellationToken.None){let r=await this.serviceRegistry.getServices(e.uri).workspace.ReferenceDescriptionProvider.createDescriptions(e,t);this.referenceIndex.set(e.uri.toString(),r)}isAffected(e,t){let r=this.referenceIndex.get(e.uri.toString());return!!r&&r.some((e=>!e.local&&t.has(e.targetUri.toString())))}},Nk=class{static{o(this,"DefaultWorkspaceManager")}constructor(e){this.initialBuildOptions={},this._ready=new Bb,this.serviceRegistry=e.ServiceRegistry,this.langiumDocuments=e.workspace.LangiumDocuments,this.documentBuilder=e.workspace.DocumentBuilder,this.fileSystemProvider=e.workspace.FileSystemProvider,this.mutex=e.workspace.WorkspaceLock}get ready(){return this._ready.promise}get workspaceFolders(){return this.folders}initialize(e){var t;this.folders=null!==(t=e.workspaceFolders)&&void 0!==t?t:void 0}initialized(e){return this.mutex.write((e=>{var t;return this.initializeWorkspace(null!==(t=this.folders)&&void 0!==t?t:[],e)}))}async initializeWorkspace(e,t=Ab.CancellationToken.None){let r=await this.performStartup(e);await Ob(t),await this.documentBuilder.build(r,this.initialBuildOptions,t)}async performStartup(e){let t=this.serviceRegistry.all.flatMap((e=>e.LanguageMetaData.fileExtensions)),r=[],i=o((e=>{r.push(e),this.langiumDocuments.hasDocument(e.uri)||this.langiumDocuments.addDocument(e)}),"collector");return await this.loadAdditionalDocuments(e,i),await Promise.all(e.map((e=>[e,this.getRootFolder(e)])).map((async e=>this.traverseFolder(...e,t,i)))),this._ready.resolve(),r}loadAdditionalDocuments(e,t){return Promise.resolve()}getRootFolder(e){return Hb.parse(e.uri)}async traverseFolder(e,t,r,i){let n=await this.fileSystemProvider.readDirectory(t);await Promise.all(n.map((async t=>{if(this.includeEntry(e,t,r))if(t.isDirectory)await this.traverseFolder(e,t.uri,r,i);else if(t.isFile){let e=await this.langiumDocuments.getOrCreateDocument(t.uri);i(e)}})))}includeEntry(e,t,r){let i=Wb.basename(t.uri);if(i.startsWith("."))return!1;if(t.isDirectory)return"node_modules"!==i&&"out"!==i;if(t.isFile){let e=Wb.extname(t.uri);return r.includes(e)}return!1}},Ok=class{static{o(this,"DefaultLexerErrorMessageProvider")}buildUnexpectedCharactersMessage(e,t,r,i,n){return Fg.buildUnexpectedCharactersMessage(e,t,r,i,n)}buildUnableToPopLexerModeMessage(e){return Fg.buildUnableToPopLexerModeMessage(e)}},Mk={mode:"full"},Pk=class{static{o(this,"DefaultLexer")}constructor(e){this.errorMessageProvider=e.parser.LexerErrorMessageProvider,this.tokenBuilder=e.parser.TokenBuilder;let t=this.tokenBuilder.buildTokens(e.Grammar,{caseInsensitive:e.LanguageMetaData.caseInsensitive});this.tokenTypes=this.toTokenTypeDictionary(t);let r=Dk(t)?Object.values(t):t,i="production"===e.LanguageMetaData.mode;this.chevrotainLexer=new Ug(r,{positionTracking:"full",skipValidations:i,errorMessageProvider:this.errorMessageProvider})}get definition(){return this.tokenTypes}tokenize(e,t=Mk){var r,i,n;let a=this.chevrotainLexer.tokenize(e);return{tokens:a.tokens,errors:a.errors,hidden:null!==(r=a.groups.hidden)&&void 0!==r?r:[],report:null===(n=(i=this.tokenBuilder).flushLexingReport)||void 0===n?void 0:n.call(i,e)}}toTokenTypeDictionary(e){if(Dk(e))return e;let t=Fk(e)?Object.values(e.modes).flat():e,r={};return t.forEach((e=>r[e.name]=e)),r}};function Bk(e){return Array.isArray(e)&&(0===e.length||"name"in e[0])}function Fk(e){return e&&"modes"in e&&"defaultMode"in e}function Dk(e){return!Bk(e)&&!Fk(e)}function Uk(e,t,r){let i,n;return"string"==typeof e?(n=t,i=r):(n=e.range.start,i=t),n||(n=Wx.create(0,0)),Jk({index:0,tokens:qk({lines:jk(e),position:n,options:n_(i)}),position:n})}function zk(e,t){let r=n_(t),i=jk(e);if(0===i.length)return!1;let n=i[0],a=i[i.length-1],o=r.start,s=r.end;return!!o?.exec(n)&&!!s?.exec(a)}function jk(e){let t="";return t="string"==typeof e?e:e.text,t.split(Kf)}o(Bk,"isTokenTypeArray"),o(Fk,"isIMultiModeLexerDefinition"),o(Dk,"isTokenTypeDictionary"),o(Uk,"parseJSDoc"),o(zk,"isJSDoc"),o(jk,"getLines");var Gk=/\s*(@([\p{L}][\p{L}\p{N}]*)?)/uy,Wk=/\{(@[\p{L}][\p{L}\p{N}]*)(\s*)([^\r\n}]+)?\}/gu;function qk(e){var t,r,i;let n=[],a=e.position.line,o=e.position.character;for(let s=0;s<e.lines.length;s++){let l=0===s,c=s===e.lines.length-1,u=e.lines[s],h=0;if(l&&e.options.start){let r=null===(t=e.options.start)||void 0===t?void 0:t.exec(u);r&&(h=r.index+r[0].length)}else{let t=null===(r=e.options.line)||void 0===r?void 0:r.exec(u);t&&(h=t.index+t[0].length)}if(c){let t=null===(i=e.options.end)||void 0===i?void 0:i.exec(u);t&&(u=u.substring(0,t.index))}if(u=u.substring(0,Xk(u)),Yk(u,h)>=u.length){if(n.length>0){let e=Wx.create(a,o);n.push({type:"break",content:"",range:qx.create(e,e)})}}else{Gk.lastIndex=h;let e=Gk.exec(u);if(e){let t=e[0],r=e[1],i=Wx.create(a,o+h),s=Wx.create(a,o+h+t.length);n.push({type:"tag",content:r,range:qx.create(i,s)}),h+=t.length,h=Yk(u,h)}if(h<u.length){let e=u.substring(h),t=Array.from(e.matchAll(Wk));n.push(...Hk(t,e,a,o+h))}}a++,o=0}return n.length>0&&"break"===n[n.length-1].type?n.slice(0,-1):n}function Hk(e,t,r,i){let n=[];if(0===e.length){let e=Wx.create(r,i),a=Wx.create(r,i+t.length);n.push({type:"text",content:t,range:qx.create(e,a)})}else{let a=0;for(let o of e){let e=o.index,s=t.substring(a,e);s.length>0&&n.push({type:"text",content:t.substring(a,e),range:qx.create(Wx.create(r,a+i),Wx.create(r,e+i))});let l=s.length+1,c=o[1];if(n.push({type:"inline-tag",content:c,range:qx.create(Wx.create(r,a+l+i),Wx.create(r,a+l+c.length+i))}),l+=c.length,4===o.length){l+=o[2].length;let e=o[3];n.push({type:"text",content:e,range:qx.create(Wx.create(r,a+l+i),Wx.create(r,a+l+e.length+i))})}else n.push({type:"text",content:"",range:qx.create(Wx.create(r,a+l+i),Wx.create(r,a+l+i))});a=e+o[0].length}let o=t.substring(a);o.length>0&&n.push({type:"text",content:o,range:qx.create(Wx.create(r,a+i),Wx.create(r,a+i+o.length))})}return n}o(qk,"tokenize"),o(Hk,"buildInlineTokens");var Vk=/\S/,Kk=/\s*$/;function Yk(e,t){let r=e.substring(t).match(Vk);return r?t+r.index:e.length}function Xk(e){let t=e.match(Kk);if(t&&"number"==typeof t.index)return t.index}function Jk(e){var t,r,i,n;let a=Wx.create(e.position.line,e.position.character);if(0===e.tokens.length)return new o_([],qx.create(a,a));let o=[];for(;e.index<e.tokens.length;){let t=Zk(e,o[o.length-1]);t&&o.push(t)}let s=null!==(r=null===(t=o[0])||void 0===t?void 0:t.range.start)&&void 0!==r?r:a,l=null!==(n=null===(i=o[o.length-1])||void 0===i?void 0:i.range.end)&&void 0!==n?n:a;return new o_(o,qx.create(s,l))}function Zk(e,t){let r=e.tokens[e.index];return"tag"===r.type?r_(e,!1):"text"===r.type||"inline-tag"===r.type?e_(e):(Qk(r,t),void e.index++)}function Qk(e,t){if(t){let r=new h_("",e.range);"inlines"in t?t.inlines.push(r):t.content.inlines.push(r)}}function e_(e){let t=e.tokens[e.index],r=t,i=t,n=[];for(;t&&"break"!==t.type&&"tag"!==t.type;)n.push(t_(e)),i=t,t=e.tokens[e.index];return new u_(n,qx.create(r.range.start,i.range.end))}function t_(e){return"inline-tag"===e.tokens[e.index].type?r_(e,!0):i_(e)}function r_(e,t){let r=e.tokens[e.index++],i=r.content.substring(1),n=e.tokens[e.index];if("text"===n?.type){if(t){let n=i_(e);return new s_(i,new u_([n],n.range),t,qx.create(r.range.start,n.range.end))}{let n=e_(e);return new s_(i,n,t,qx.create(r.range.start,n.range.end))}}{let e=r.range;return new s_(i,new u_([],e),t,e)}}function i_(e){let t=e.tokens[e.index++];return new h_(t.content,t.range)}function n_(e){if(!e)return n_({start:"/**",end:"*/",line:"*"});let{start:t,end:r,line:i}=e;return{start:a_(t,!0),end:a_(r,!1),line:a_(i,!0)}}function a_(e,t){if("string"==typeof e||"object"==typeof e){let r="string"==typeof e?rp(e):e.source;return t?new RegExp(`^\\s*${r}`):new RegExp(`\\s*${r}\\s*$`)}return e}o(Yk,"skipWhitespace"),o(Xk,"lastCharacter"),o(Jk,"parseJSDocComment"),o(Zk,"parseJSDocElement"),o(Qk,"appendEmptyLine"),o(e_,"parseJSDocText"),o(t_,"parseJSDocInline"),o(r_,"parseJSDocTag"),o(i_,"parseJSDocLine"),o(n_,"normalizeOptions"),o(a_,"normalizeOption");var o_=class{static{o(this,"JSDocCommentImpl")}constructor(e,t){this.elements=e,this.range=t}getTag(e){return this.getAllTags().find((t=>t.name===e))}getTags(e){return this.getAllTags().filter((t=>t.name===e))}getAllTags(){return this.elements.filter((e=>"name"in e))}toString(){let e="";for(let t of this.elements)if(0===e.length)e=t.toString();else{let r=t.toString();e+=d_(e)+r}return e.trim()}toMarkdown(e){let t="";for(let r of this.elements)if(0===t.length)t=r.toMarkdown(e);else{let i=r.toMarkdown(e);t+=d_(t)+i}return t.trim()}},s_=class{static{o(this,"JSDocTagImpl")}constructor(e,t,r,i){this.name=e,this.content=t,this.inline=r,this.range=i}toString(){let e=`@${this.name}`,t=this.content.toString();return 1===this.content.inlines.length?e=`${e} ${t}`:this.content.inlines.length>1&&(e=`${e}\n${t}`),this.inline?`{${e}}`:e}toMarkdown(e){var t,r;return null!==(r=null===(t=e?.renderTag)||void 0===t?void 0:t.call(e,this))&&void 0!==r?r:this.toMarkdownDefault(e)}toMarkdownDefault(e){let t=this.content.toMarkdown(e);if(this.inline){let r=l_(this.name,t,e??{});if("string"==typeof r)return r}let r="";"italic"===e?.tag||void 0===e?.tag?r="*":"bold"===e?.tag?r="**":"bold-italic"===e?.tag&&(r="***");let i=`${r}@${this.name}${r}`;return 1===this.content.inlines.length?i=`${i} — ${t}`:this.content.inlines.length>1&&(i=`${i}\n${t}`),this.inline?`{${i}}`:i}};function l_(e,t,r){var i,n;if("linkplain"===e||"linkcode"===e||"link"===e){let a=t.indexOf(" "),o=t;if(a>0){let e=Yk(t,a);o=t.substring(e),t=t.substring(0,a)}return("linkcode"===e||"link"===e&&"code"===r.link)&&(o=`\`${o}\``),null!==(n=null===(i=r.renderLink)||void 0===i?void 0:i.call(r,t,o))&&void 0!==n?n:c_(t,o)}}function c_(e,t){try{return Hb.parse(e,!0),`[${t}](${e})`}catch{return e}}o(l_,"renderInlineTag"),o(c_,"renderLinkDefault");var u_=class{static{o(this,"JSDocTextImpl")}constructor(e,t){this.inlines=e,this.range=t}toString(){let e="";for(let t=0;t<this.inlines.length;t++){let r=this.inlines[t],i=this.inlines[t+1];e+=r.toString(),i&&i.range.start.line>r.range.start.line&&(e+="\n")}return e}toMarkdown(e){let t="";for(let r=0;r<this.inlines.length;r++){let i=this.inlines[r],n=this.inlines[r+1];t+=i.toMarkdown(e),n&&n.range.start.line>i.range.start.line&&(t+="\n")}return t}},h_=class{static{o(this,"JSDocLineImpl")}constructor(e,t){this.text=e,this.range=t}toString(){return this.text}toMarkdown(){return this.text}};function d_(e){return e.endsWith("\n")?"\n":"\n\n"}o(d_,"fillNewlines");var f_,p_=class{static{o(this,"JSDocDocumentationProvider")}constructor(e){this.indexManager=e.shared.workspace.IndexManager,this.commentProvider=e.documentation.CommentProvider}getDocumentation(e){let t=this.commentProvider.getComment(e);if(t&&zk(t))return Uk(t).toMarkdown({renderLink:o(((t,r)=>this.documentationLinkRenderer(e,t,r)),"renderLink"),renderTag:o((t=>this.documentationTagRenderer(e,t)),"renderTag")})}documentationLinkRenderer(e,t,r){var i;let n=null!==(i=this.findNameInPrecomputedScopes(e,t))&&void 0!==i?i:this.findNameInGlobalScope(e,t);if(n&&n.nameSegment){let e=n.nameSegment.range.start.line+1,t=n.nameSegment.range.start.character+1;return`[${r}](${n.documentUri.with({fragment:`L${e},${t}`}).toString()})`}}documentationTagRenderer(e,t){}findNameInPrecomputedScopes(e,t){let r=bf(e).precomputedScopes;if(!r)return;let i=e;do{let e=r.get(i).find((e=>e.name===t));if(e)return e;i=i.$container}while(i)}findNameInGlobalScope(e,t){return this.indexManager.allElements().find((e=>e.name===t))}},m_=class{static{o(this,"DefaultCommentProvider")}constructor(e){this.grammarConfig=()=>e.parser.GrammarConfig}getComment(e){var t;return fk(e)?e.$comment:null===(t=fh(e.$cstNode,this.grammarConfig().multilineCommentRules))||void 0===t?void 0:t.text}},g_=class{static{o(this,"DefaultAsyncParser")}constructor(e){this.syncParser=e.parser.LangiumParser}parse(e,t){return Promise.resolve(this.syncParser.parse(e))}},y_=class{static{o(this,"AbstractThreadedAsyncParser")}constructor(e){this.threadCount=8,this.terminationDelay=200,this.workerPool=[],this.queue=[],this.hydrator=e.serializer.Hydrator}initializeWorkers(){for(;this.workerPool.length<this.threadCount;){let e=this.createWorker();e.onReady((()=>{if(this.queue.length>0){let t=this.queue.shift();t&&(e.lock(),t.resolve(e))}})),this.workerPool.push(e)}}async parse(e,t){let r,i=await this.acquireParserWorker(t),n=new Bb,a=t.onCancellationRequested((()=>{r=setTimeout((()=>{this.terminateWorker(i)}),this.terminationDelay)}));return i.parse(e).then((e=>{let t=this.hydrator.hydrate(e);n.resolve(t)})).catch((e=>{n.reject(e)})).finally((()=>{a.dispose(),clearTimeout(r)})),n.promise}terminateWorker(e){e.terminate();let t=this.workerPool.indexOf(e);t>=0&&this.workerPool.splice(t,1)}async acquireParserWorker(e){this.initializeWorkers();for(let e of this.workerPool)if(e.ready)return e.lock(),e;let t=new Bb;return e.onCancellationRequested((()=>{let e=this.queue.indexOf(t);e>=0&&this.queue.splice(e,1),t.reject(Ib)})),this.queue.push(t),t.promise}},v_=class{static{o(this,"ParserWorker")}get ready(){return this._ready}get onReady(){return this.onReadyEmitter.event}constructor(e,t,r,i){this.onReadyEmitter=new wk.Emitter,this.deferred=new Bb,this._ready=!0,this._parsing=!1,this.sendMessage=e,this._terminate=i,t((e=>{let t=e;this.deferred.resolve(t),this.unlock()})),r((e=>{this.deferred.reject(e),this.unlock()}))}terminate(){this.deferred.reject(Ib),this._terminate()}lock(){this._ready=!1}unlock(){this._parsing=!1,this._ready=!0,this.onReadyEmitter.fire()}parse(e){if(this._parsing)throw new Error("Parser worker is busy");return this._parsing=!0,this.deferred=new Bb,this.sendMessage(e),this.deferred.promise}},x_=class{static{o(this,"DefaultWorkspaceLock")}constructor(){this.previousTokenSource=new Ab.CancellationTokenSource,this.writeQueue=[],this.readQueue=[],this.done=!0}write(e){this.cancelWrite();let t=$b();return this.previousTokenSource=t,this.enqueue(this.writeQueue,e,t.token)}read(e){return this.enqueue(this.readQueue,e)}enqueue(e,t,r=Ab.CancellationToken.None){let i=new Bb,n={action:t,deferred:i,cancellationToken:r};return e.push(n),this.performNextOperation(),i.promise}async performNextOperation(){if(!this.done)return;let e=[];if(this.writeQueue.length>0)e.push(this.writeQueue.shift());else{if(!(this.readQueue.length>0))return;e.push(...this.readQueue.splice(0,this.readQueue.length))}this.done=!1,await Promise.all(e.map((async({action:e,deferred:t,cancellationToken:r})=>{try{let i=await Promise.resolve().then((()=>e(r)));t.resolve(i)}catch(e){Nb(e)?t.resolve(void 0):t.reject(e)}}))),this.done=!0,this.performNextOperation()}cancelWrite(){this.previousTokenSource.cancel()}},T_=class{static{o(this,"DefaultHydrator")}constructor(e){this.grammarElementIdMap=new rk,this.tokenTypeIdMap=new rk,this.grammar=e.Grammar,this.lexer=e.parser.Lexer,this.linker=e.references.Linker}dehydrate(e){return{lexerErrors:e.lexerErrors,lexerReport:e.lexerReport?this.dehydrateLexerReport(e.lexerReport):void 0,parserErrors:e.parserErrors.map((e=>Object.assign(Object.assign({},e),{message:e.message}))),value:this.dehydrateAstNode(e.value,this.createDehyrationContext(e.value))}}dehydrateLexerReport(e){return e}createDehyrationContext(e){let t=new Map,r=new Map;for(let r of Af(e))t.set(r,{});if(e.$cstNode)for(let t of nh(e.$cstNode))r.set(t,{});return{astNodes:t,cstNodes:r}}dehydrateAstNode(e,t){let r=t.astNodes.get(e);r.$type=e.$type,r.$containerIndex=e.$containerIndex,r.$containerProperty=e.$containerProperty,void 0!==e.$cstNode&&(r.$cstNode=this.dehydrateCstNode(e.$cstNode,t));for(let[i,n]of Object.entries(e))if(!i.startsWith("$"))if(Array.isArray(n)){let e=[];r[i]=e;for(let r of n)Uu(r)?e.push(this.dehydrateAstNode(r,t)):zu(r)?e.push(this.dehydrateReference(r,t)):e.push(r)}else Uu(n)?r[i]=this.dehydrateAstNode(n,t):zu(n)?r[i]=this.dehydrateReference(n,t):void 0!==n&&(r[i]=n);return r}dehydrateReference(e,t){let r={};return r.$refText=e.$refText,e.$refNode&&(r.$refNode=t.cstNodes.get(e.$refNode)),r}dehydrateCstNode(e,t){let r=t.cstNodes.get(e);return Vu(e)?r.fullText=e.fullText:r.grammarSource=this.getGrammarElementId(e.grammarSource),r.hidden=e.hidden,r.astNode=t.astNodes.get(e.astNode),qu(e)?r.content=e.content.map((e=>this.dehydrateCstNode(e,t))):Hu(e)&&(r.tokenType=e.tokenType.name,r.offset=e.offset,r.length=e.length,r.startLine=e.range.start.line,r.startColumn=e.range.start.character,r.endLine=e.range.end.line,r.endColumn=e.range.end.character),r}hydrate(e){let t=e.value,r=this.createHydrationContext(t);return"$cstNode"in t&&this.hydrateCstNode(t.$cstNode,r),{lexerErrors:e.lexerErrors,lexerReport:e.lexerReport,parserErrors:e.parserErrors,value:this.hydrateAstNode(t,r)}}createHydrationContext(e){let t,r=new Map,i=new Map;for(let t of Af(e))r.set(t,{});if(e.$cstNode)for(let r of nh(e.$cstNode)){let e;"fullText"in r?(e=new HC(r.fullText),t=e):"content"in r?e=new WC:"tokenType"in r&&(e=this.hydrateCstLeafNode(r)),e&&(i.set(r,e),e.root=t)}return{astNodes:r,cstNodes:i}}hydrateAstNode(e,t){let r=t.astNodes.get(e);r.$type=e.$type,r.$containerIndex=e.$containerIndex,r.$containerProperty=e.$containerProperty,e.$cstNode&&(r.$cstNode=t.cstNodes.get(e.$cstNode));for(let[i,n]of Object.entries(e))if(!i.startsWith("$"))if(Array.isArray(n)){let e=[];r[i]=e;for(let a of n)Uu(a)?e.push(this.setParent(this.hydrateAstNode(a,t),r)):zu(a)?e.push(this.hydrateReference(a,r,i,t)):e.push(a)}else Uu(n)?r[i]=this.setParent(this.hydrateAstNode(n,t),r):zu(n)?r[i]=this.hydrateReference(n,r,i,t):void 0!==n&&(r[i]=n);return r}setParent(e,t){return e.$container=t,e}hydrateReference(e,t,r,i){return this.linker.buildReference(t,r,i.cstNodes.get(e.$refNode),e.$refText)}hydrateCstNode(e,t,r=0){let i=t.cstNodes.get(e);if("number"==typeof e.grammarSource&&(i.grammarSource=this.getGrammarElement(e.grammarSource)),i.astNode=t.astNodes.get(e.astNode),qu(i))for(let n of e.content){let e=this.hydrateCstNode(n,t,r++);i.content.push(e)}return i}hydrateCstLeafNode(e){let t=this.getTokenType(e.tokenType),r=e.offset,i=e.length,n=e.startLine,a=e.startColumn,o=e.endLine,s=e.endColumn,l=e.hidden;return new GC(r,i,{start:{line:n,character:a},end:{line:o,character:s}},t,l)}getTokenType(e){return this.lexer.definition[e]}getGrammarElementId(e){if(e)return 0===this.grammarElementIdMap.size&&this.createGrammarElementIdMap(),this.grammarElementIdMap.get(e)}getGrammarElement(e){return 0===this.grammarElementIdMap.size&&this.createGrammarElementIdMap(),this.grammarElementIdMap.getKey(e)}createGrammarElementIdMap(){let e=0;for(let t of Af(this.grammar))jh(t)&&this.grammarElementIdMap.set(t,e++)}};function C_(e){return{documentation:{CommentProvider:o((e=>new m_(e)),"CommentProvider"),DocumentationProvider:o((e=>new p_(e)),"DocumentationProvider")},parser:{AsyncParser:o((e=>new g_(e)),"AsyncParser"),GrammarConfig:o((e=>Wp(e)),"GrammarConfig"),LangiumParser:o((e=>Cb(e)),"LangiumParser"),CompletionParser:o((e=>Tb(e)),"CompletionParser"),ValueConverter:o((()=>new Sb),"ValueConverter"),TokenBuilder:o((()=>new _b),"TokenBuilder"),Lexer:o((e=>new Pk(e)),"Lexer"),ParserErrorMessageProvider:o((()=>new QC),"ParserErrorMessageProvider"),LexerErrorMessageProvider:o((()=>new Ok),"LexerErrorMessageProvider")},workspace:{AstNodeLocator:o((()=>new Ek),"AstNodeLocator"),AstNodeDescriptionProvider:o((e=>new Sk(e)),"AstNodeDescriptionProvider"),ReferenceDescriptionProvider:o((e=>new Ak(e)),"ReferenceDescriptionProvider")},references:{Linker:o((e=>new Jb(e)),"Linker"),NameProvider:o((()=>new Qb),"NameProvider"),ScopeProvider:o((e=>new dk(e)),"ScopeProvider"),ScopeComputation:o((e=>new ik(e)),"ScopeComputation"),References:o((e=>new ek(e)),"References")},serializer:{Hydrator:o((e=>new T_(e)),"Hydrator"),JsonSerializer:o((e=>new gk(e)),"JsonSerializer")},validation:{DocumentValidator:o((e=>new Ck(e)),"DocumentValidator"),ValidationRegistry:o((e=>new Tk(e)),"ValidationRegistry")},shared:o((()=>e.shared),"shared")}}function b_(e){return{ServiceRegistry:o((e=>new yk(e)),"ServiceRegistry"),workspace:{LangiumDocuments:o((e=>new Yb(e)),"LangiumDocuments"),LangiumDocumentFactory:o((e=>new Kb(e)),"LangiumDocumentFactory"),DocumentBuilder:o((e=>new Lk(e)),"DocumentBuilder"),IndexManager:o((e=>new Ik(e)),"IndexManager"),WorkspaceManager:o((e=>new Nk(e)),"WorkspaceManager"),FileSystemProvider:o((t=>e.fileSystemProvider(t)),"FileSystemProvider"),WorkspaceLock:o((()=>new x_),"WorkspaceLock"),ConfigurationProvider:o((e=>new $k(e)),"ConfigurationProvider")}}}function k_(e,t,r,i,n,a,o,s,l){return A_([e,t,r,i,n,a,o,s,l].reduce(R_,{}))}o(C_,"createDefaultCoreModule"),o(b_,"createDefaultSharedCoreModule"),(f_||(f_={})).merge=(e,t)=>R_(R_({},e),t),o(k_,"inject");var __=Symbol("isProxy");function S_(e){if(e&&e[__])for(let t of Object.values(e))S_(t);return e}function A_(e,t){let r=new Proxy({},{deleteProperty:o((()=>!1),"deleteProperty"),set:o((()=>{throw new Error("Cannot set property on injected service container")}),"set"),get:o(((i,n)=>n===__||w_(i,n,e,t||r)),"get"),getOwnPropertyDescriptor:o(((i,n)=>(w_(i,n,e,t||r),Object.getOwnPropertyDescriptor(i,n))),"getOwnPropertyDescriptor"),has:o(((t,r)=>r in e),"has"),ownKeys:o((()=>[...Object.getOwnPropertyNames(e)]),"ownKeys")});return r}o(S_,"eagerLoad"),o(A_,"_inject");var E_=Symbol();function w_(e,t,r,i){if(t in e){if(e[t]instanceof Error)throw new Error("Construction failure. Please make sure that your dependencies are constructable.",{cause:e[t]});if(e[t]===E_)throw new Error('Cycle detected. Please make "'+String(t)+'" lazy. Visit https://langium.org/docs/reference/configuration-services/#resolving-cyclic-dependencies');return e[t]}if(t in r){let n=r[t];e[t]=E_;try{e[t]="function"==typeof n?n(i):A_(n,i)}catch(r){throw e[t]=r instanceof Error?r:void 0,r}return e[t]}}function R_(e,t){if(t)for(let[r,i]of Object.entries(t))if(void 0!==i){let t=e[r];e[r]=null!==t&&null!==i&&"object"==typeof t&&"object"==typeof i?R_(t,i):i}return e}o(w_,"_resolve"),o(R_,"_merge");var $_,L_={indentTokenName:"INDENT",dedentTokenName:"DEDENT",whitespaceTokenName:"WS",ignoreIndentationDelimiters:[]};!function(e){e.REGULAR="indentation-sensitive",e.IGNORE_INDENTATION="ignore-indentation"}($_||($_={}));var I_=class extends _b{static{o(this,"IndentationAwareTokenBuilder")}constructor(e=L_){super(),this.indentationStack=[0],this.whitespaceRegExp=/[ \t]+/y,this.options=Object.assign(Object.assign({},L_),e),this.indentTokenType=Jg({name:this.options.indentTokenName,pattern:this.indentMatcher.bind(this),line_breaks:!1}),this.dedentTokenType=Jg({name:this.options.dedentTokenName,pattern:this.dedentMatcher.bind(this),line_breaks:!1})}buildTokens(e,t){let r=super.buildTokens(e,t);if(!Bk(r))throw new Error("Invalid tokens built by default builder");let i,n,a,{indentTokenName:o,dedentTokenName:s,whitespaceTokenName:l,ignoreIndentationDelimiters:c}=this.options,u=[];for(let e of r){for(let[t,r]of c)e.name===t?e.PUSH_MODE=$_.IGNORE_INDENTATION:e.name===r&&(e.POP_MODE=!0);e.name===s?i=e:e.name===o?n=e:e.name===l?a=e:u.push(e)}if(!i||!n||!a)throw new Error("Some indentation/whitespace tokens not found!");return c.length>0?{modes:{[$_.REGULAR]:[i,n,...u,a],[$_.IGNORE_INDENTATION]:[...u,a]},defaultMode:$_.REGULAR}:[i,n,a,...u]}flushLexingReport(e){let t=super.flushLexingReport(e);return Object.assign(Object.assign({},t),{remainingDedents:this.flushRemainingDedents(e)})}isStartOfLine(e,t){return 0===t||"\r\n".includes(e[t-1])}matchWhitespace(e,t,r,i){var n;this.whitespaceRegExp.lastIndex=t;let a=this.whitespaceRegExp.exec(e);return{currIndentLevel:null!==(n=a?.[0].length)&&void 0!==n?n:0,prevIndentLevel:this.indentationStack.at(-1),match:a}}createIndentationTokenInstance(e,t,r,i){let n=this.getLineNumber(t,i);return ey(e,r,i,i+r.length,n,n,1,r.length)}getLineNumber(e,t){return e.substring(0,t).split(/\r\n|\r|\n/).length}indentMatcher(e,t,r,i){if(!this.isStartOfLine(e,t))return null;let{currIndentLevel:n,prevIndentLevel:a,match:o}=this.matchWhitespace(e,t,r,i);return n<=a?null:(this.indentationStack.push(n),o)}dedentMatcher(e,t,r,i){var n,a,o,s;if(!this.isStartOfLine(e,t))return null;let{currIndentLevel:l,prevIndentLevel:c,match:u}=this.matchWhitespace(e,t,r,i);if(l>=c)return null;let h=this.indentationStack.lastIndexOf(l);if(-1===h)return this.diagnostics.push({severity:"error",message:`Invalid dedent level ${l} at offset: ${t}. Current indentation stack: ${this.indentationStack}`,offset:t,length:null!==(a=null===(n=u?.[0])||void 0===n?void 0:n.length)&&void 0!==a?a:0,line:this.getLineNumber(e,t),column:1}),null;let d=this.indentationStack.length-h-1,f=null!==(s=null===(o=e.substring(0,t).match(/[\r\n]+$/))||void 0===o?void 0:o[0].length)&&void 0!==s?s:1;for(let i=0;i<d;i++){let i=this.createIndentationTokenInstance(this.dedentTokenType,e,"",t-(f-1));r.push(i),this.indentationStack.pop()}return null}buildTerminalToken(e){let t=super.buildTerminalToken(e),{indentTokenName:r,dedentTokenName:i,whitespaceTokenName:n}=this.options;return t.name===r?this.indentTokenType:t.name===i?this.dedentTokenType:t.name===n?Jg({name:n,pattern:this.whitespaceRegExp,group:Ug.SKIPPED}):t}flushRemainingDedents(e){let t=[];for(;this.indentationStack.length>1;)t.push(this.createIndentationTokenInstance(this.dedentTokenType,e,"",e.length)),this.indentationStack.pop();return this.indentationStack=[0],t}},N_=class extends Pk{static{o(this,"IndentationAwareLexer")}constructor(e){if(super(e),!(e.parser.TokenBuilder instanceof I_))throw new Error("IndentationAwareLexer requires an accompanying IndentationAwareTokenBuilder");this.indentationTokenBuilder=e.parser.TokenBuilder}tokenize(e,t=Mk){let r=super.tokenize(e),i=r.report;"full"===t?.mode&&r.tokens.push(...i.remainingDedents),i.remainingDedents=[];let{indentTokenType:n,dedentTokenType:a}=this.indentationTokenBuilder,o=n.tokenTypeIdx,s=a.tokenTypeIdx,l=[],c=r.tokens.length-1;for(let e=0;e<c;e++){let t=r.tokens[e],i=r.tokens[e+1];t.tokenTypeIdx!==o||i.tokenTypeIdx!==s?l.push(t):e++}return c>=0&&l.push(r.tokens[c]),r.tokens=l,r}},O_={};l(O_,{AstUtils:()=>vf,BiMap:()=>rk,Cancellation:()=>Ab,ContextCache:()=>ck,CstUtils:()=>Du,DONE_RESULT:()=>Zu,Deferred:()=>Bb,Disposable:()=>Rk,DisposableCache:()=>sk,DocumentCache:()=>uk,EMPTY_STREAM:()=>Ju,ErrorWithLocation:()=>Sh,GrammarUtils:()=>_h,MultiMap:()=>tk,OperationCancelled:()=>Ib,Reduction:()=>eh,RegExpUtils:()=>Nf,SimpleCache:()=>lk,StreamImpl:()=>Ku,TreeStreamImpl:()=>ih,URI:()=>Hb,UriUtils:()=>Wb,WorkspaceCache:()=>hk,assertUnreachable:()=>Ah,delayNextTick:()=>Eb,interruptAndCheck:()=>Ob,isOperationCancelled:()=>Nb,loadGrammarFromJson:()=>U_,setInterruptionPeriod:()=>Lb,startCancelableOperation:()=>$b,stream:()=>Qu}),u(O_,wk);var M_=class{static{o(this,"EmptyFileSystemProvider")}readFile(){throw new Error("No file system is available.")}async readDirectory(){return[]}},P_={fileSystemProvider:o((()=>new M_),"fileSystemProvider")},B_={Grammar:o((()=>{}),"Grammar"),LanguageMetaData:o((()=>({caseInsensitive:!1,fileExtensions:[".langium"],languageId:"langium"})),"LanguageMetaData")},F_={AstReflection:o((()=>new gf),"AstReflection")};function D_(){let e=k_(b_(P_),F_),t=k_(C_({shared:e}),B_);return e.ServiceRegistry.register(t),t}function U_(e){var t;let r=D_(),i=r.serializer.JsonSerializer.deserialize(e);return r.shared.workspace.LangiumDocumentFactory.fromModel(i,Hb.parse(`memory://${null!==(t=i.name)&&void 0!==t?t:"grammar"}.langium`)),i}o(D_,"createMinimalGrammarServices"),o(U_,"loadGrammarFromJson"),u(Fu,O_);var z_=Object.defineProperty,j_=o(((e,t)=>z_(e,"name",{value:t,configurable:!0})),"__name"),G_="Statement",W_="Architecture";function q_(e){return LS.isInstance(e,W_)}o(q_,"isArchitecture"),j_(q_,"isArchitecture");var H_="Axis",V_="Branch";function K_(e){return LS.isInstance(e,V_)}o(K_,"isBranch"),j_(K_,"isBranch");var Y_="Checkout",X_="CherryPicking",J_="Commit";function Z_(e){return LS.isInstance(e,J_)}o(Z_,"isCommit"),j_(Z_,"isCommit");var Q_="Common";function eS(e){return LS.isInstance(e,Q_)}o(eS,"isCommon"),j_(eS,"isCommon");var tS="Curve",rS="Edge",iS="Entry",nS="GitGraph";function aS(e){return LS.isInstance(e,nS)}o(aS,"isGitGraph"),j_(aS,"isGitGraph");var oS="Group",sS="Info";function lS(e){return LS.isInstance(e,sS)}o(lS,"isInfo"),j_(lS,"isInfo");var cS="Junction",uS="Merge";function hS(e){return LS.isInstance(e,uS)}o(hS,"isMerge"),j_(hS,"isMerge");var dS="Option",fS="Packet";function pS(e){return LS.isInstance(e,fS)}o(pS,"isPacket"),j_(pS,"isPacket");var mS="PacketBlock";function gS(e){return LS.isInstance(e,mS)}o(gS,"isPacketBlock"),j_(gS,"isPacketBlock");var yS="Pie";function vS(e){return LS.isInstance(e,yS)}o(vS,"isPie"),j_(vS,"isPie");var xS="PieSection";function TS(e){return LS.isInstance(e,xS)}o(TS,"isPieSection"),j_(TS,"isPieSection");var CS,bS,kS,_S,SS,AS,ES="Radar",wS="Service",RS="Direction",$S=class extends Wu{static{o(this,"MermaidAstReflection")}static{j_(this,"MermaidAstReflection")}getAllTypes(){return[W_,H_,V_,Y_,X_,J_,Q_,tS,RS,rS,iS,nS,oS,sS,cS,uS,dS,fS,mS,yS,xS,ES,wS,G_]}computeIsSubtype(e,t){switch(e){case V_:case Y_:case X_:case J_:case uS:return this.isSubtype(G_,t);case RS:return this.isSubtype(nS,t);default:return!1}}getReferenceType(e){let t=`${e.container.$type}:${e.property}`;if("Entry:axis"===t)return H_;throw new Error(`${t} is not a valid reference id.`)}getTypeMetaData(e){switch(e){case W_:return{name:W_,properties:[{name:"accDescr"},{name:"accTitle"},{name:"edges",defaultValue:[]},{name:"groups",defaultValue:[]},{name:"junctions",defaultValue:[]},{name:"services",defaultValue:[]},{name:"title"}]};case H_:return{name:H_,properties:[{name:"label"},{name:"name"}]};case V_:return{name:V_,properties:[{name:"name"},{name:"order"}]};case Y_:return{name:Y_,properties:[{name:"branch"}]};case X_:return{name:X_,properties:[{name:"id"},{name:"parent"},{name:"tags",defaultValue:[]}]};case J_:return{name:J_,properties:[{name:"id"},{name:"message"},{name:"tags",defaultValue:[]},{name:"type"}]};case Q_:return{name:Q_,properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"}]};case tS:return{name:tS,properties:[{name:"entries",defaultValue:[]},{name:"label"},{name:"name"}]};case rS:return{name:rS,properties:[{name:"lhsDir"},{name:"lhsGroup",defaultValue:!1},{name:"lhsId"},{name:"lhsInto",defaultValue:!1},{name:"rhsDir"},{name:"rhsGroup",defaultValue:!1},{name:"rhsId"},{name:"rhsInto",defaultValue:!1},{name:"title"}]};case iS:return{name:iS,properties:[{name:"axis"},{name:"value"}]};case nS:return{name:nS,properties:[{name:"accDescr"},{name:"accTitle"},{name:"statements",defaultValue:[]},{name:"title"}]};case oS:return{name:oS,properties:[{name:"icon"},{name:"id"},{name:"in"},{name:"title"}]};case sS:return{name:sS,properties:[{name:"accDescr"},{name:"accTitle"},{name:"title"}]};case cS:return{name:cS,properties:[{name:"id"},{name:"in"}]};case uS:return{name:uS,properties:[{name:"branch"},{name:"id"},{name:"tags",defaultValue:[]},{name:"type"}]};case dS:return{name:dS,properties:[{name:"name"},{name:"value",defaultValue:!1}]};case fS:return{name:fS,properties:[{name:"accDescr"},{name:"accTitle"},{name:"blocks",defaultValue:[]},{name:"title"}]};case mS:return{name:mS,properties:[{name:"end"},{name:"label"},{name:"start"}]};case yS:return{name:yS,properties:[{name:"accDescr"},{name:"accTitle"},{name:"sections",defaultValue:[]},{name:"showData",defaultValue:!1},{name:"title"}]};case xS:return{name:xS,properties:[{name:"label"},{name:"value"}]};case ES:return{name:ES,properties:[{name:"accDescr"},{name:"accTitle"},{name:"axes",defaultValue:[]},{name:"curves",defaultValue:[]},{name:"options",defaultValue:[]},{name:"title"}]};case wS:return{name:wS,properties:[{name:"icon"},{name:"iconText"},{name:"id"},{name:"in"},{name:"title"}]};case RS:return{name:RS,properties:[{name:"accDescr"},{name:"accTitle"},{name:"dir"},{name:"statements",defaultValue:[]},{name:"title"}]};default:return{name:e,properties:[]}}}},LS=new $S,IS=j_((()=>CS??(CS=U_('{"$type":"Grammar","isDeclared":true,"name":"Info","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Info","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"info"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"Keyword","value":"showInfo"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"*"}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}'))),"InfoGrammar"),NS=j_((()=>bS??(bS=U_('{"$type":"Grammar","isDeclared":true,"name":"Packet","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Packet","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"packet-beta"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"Assignment","feature":"blocks","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"+"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PacketBlock","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"start","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"end","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}}],"cardinality":"?"},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/0|[1-9][0-9]*/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|\'[^\']*\'/"},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}'))),"PacketGrammar"),OS=j_((()=>kS??(kS=U_('{"$type":"Grammar","isDeclared":true,"name":"Pie","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Pie","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"pie"},{"$type":"Assignment","feature":"showData","operator":"?=","terminal":{"$type":"Keyword","value":"showData"},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"Assignment","feature":"sections","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]},"cardinality":"+"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"PieSection","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}},{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"PIE_SECTION_LABEL","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]+\\"/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"PIE_SECTION_VALUE","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/(0|[1-9][0-9]*)(\\\\.[0-9]+)?/"},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}'))),"PieGrammar"),MS=j_((()=>_S??(_S=U_('{"$type":"Grammar","isDeclared":true,"name":"Architecture","imports":[],"rules":[{"$type":"ParserRule","entry":true,"name":"Architecture","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"},{"$type":"Keyword","value":"architecture-beta"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[],"cardinality":"*"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"groups","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}},{"$type":"Assignment","feature":"services","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@6"},"arguments":[]}},{"$type":"Assignment","feature":"junctions","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@7"},"arguments":[]}},{"$type":"Assignment","feature":"edges","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@8"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"LeftPort","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":":"},{"$type":"Assignment","feature":"lhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"RightPort","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"rhsDir","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@9"},"arguments":[]}},{"$type":"Keyword","value":":"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Arrow","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]},{"$type":"Assignment","feature":"lhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]},"cardinality":"?"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"--"},{"$type":"Group","elements":[{"$type":"Keyword","value":"-"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}},{"$type":"Keyword","value":"-"}]}]},{"$type":"Assignment","feature":"rhsInto","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Group","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"group"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]},"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Service","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"service"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"iconText","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"Assignment","feature":"icon","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}}],"cardinality":"?"},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},"cardinality":"?"},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Junction","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"junction"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"in"},{"$type":"Assignment","feature":"in","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Edge","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"lhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"lhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]},{"$type":"Assignment","feature":"rhsId","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@10"},"arguments":[]}},{"$type":"Assignment","feature":"rhsGroup","operator":"?=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"ARROW_DIRECTION","definition":{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"L"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"R"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"T"}}]},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"B"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_ID","definition":{"$type":"RegexToken","regex":"/[\\\\w]+/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TEXT_ICON","definition":{"$type":"RegexToken","regex":"/\\\\(\\"[^\\"]+\\"\\\\)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_ICON","definition":{"$type":"RegexToken","regex":"/\\\\([\\\\w-:]+\\\\)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARCH_TITLE","definition":{"$type":"RegexToken","regex":"/\\\\[[\\\\w ]+\\\\]/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_GROUP","definition":{"$type":"RegexToken","regex":"/\\\\{group\\\\}/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ARROW_INTO","definition":{"$type":"RegexToken","regex":"/<|>/"},"fragment":false,"hidden":false},{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false}],"definesHiddenTokens":false,"hiddenTokens":[],"interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"types":[],"usedGrammars":[]}'))),"ArchitectureGrammar"),PS=j_((()=>SS??(SS=U_('{"$type":"Grammar","isDeclared":true,"name":"GitGraph","interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]}],"rules":[{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"ParserRule","entry":true,"name":"GitGraph","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"Keyword","value":":"}]},{"$type":"Keyword","value":"gitGraph:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"gitGraph"},{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]},{"$type":"Keyword","value":":"}]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@0"},"arguments":[]},{"$type":"Assignment","feature":"statements","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"*"}]}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Statement","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Direction","definition":{"$type":"Assignment","feature":"dir","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"LR"},{"$type":"Keyword","value":"TB"},{"$type":"Keyword","value":"BT"}]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Commit","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"commit"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"msg:","cardinality":"?"},{"$type":"Assignment","feature":"message","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Branch","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"branch"},{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}]}},{"$type":"Group","elements":[{"$type":"Keyword","value":"order:"},{"$type":"Assignment","feature":"order","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}}],"cardinality":"?"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Merge","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"merge"},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}]}},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"type:"},{"$type":"Assignment","feature":"type","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"NORMAL"},{"$type":"Keyword","value":"REVERSE"},{"$type":"Keyword","value":"HIGHLIGHT"}]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Checkout","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"checkout"},{"$type":"Keyword","value":"switch"}]},{"$type":"Assignment","feature":"branch","operator":"=","terminal":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]},{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"CherryPicking","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"cherry-pick"},{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Keyword","value":"id:"},{"$type":"Assignment","feature":"id","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"tag:"},{"$type":"Assignment","feature":"tags","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"parent:"},{"$type":"Assignment","feature":"parent","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"INT","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/[0-9]+(?=\\\\s)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/\\\\w([-\\\\./\\\\w]*[-\\\\w])?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|\'[^\']*\'/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"imports":[],"types":[],"usedGrammars":[]}'))),"GitGraphGrammar"),BS=j_((()=>AS??(AS=U_('{"$type":"Grammar","isDeclared":true,"name":"Radar","interfaces":[{"$type":"Interface","name":"Common","attributes":[{"$type":"TypeAttribute","name":"accDescr","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"accTitle","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}},{"$type":"TypeAttribute","name":"title","isOptional":true,"type":{"$type":"SimpleType","primitiveType":"string"}}],"superTypes":[]},{"$type":"Interface","name":"Entry","attributes":[{"$type":"TypeAttribute","name":"axis","isOptional":true,"type":{"$type":"ReferenceType","referenceType":{"$type":"SimpleType","typeRef":{"$ref":"#/rules@12"}}}},{"$type":"TypeAttribute","name":"value","type":{"$type":"SimpleType","primitiveType":"number"},"isOptional":false}],"superTypes":[]}],"rules":[{"$type":"ParserRule","fragment":true,"name":"TitleAndAccessibilities","definition":{"$type":"Group","elements":[{"$type":"Alternatives","elements":[{"$type":"Assignment","feature":"accDescr","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@3"},"arguments":[]}},{"$type":"Assignment","feature":"accTitle","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@4"},"arguments":[]}},{"$type":"Assignment","feature":"title","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@5"},"arguments":[]}}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@1"},"arguments":[]}],"cardinality":"+"},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"EOL","dataType":"string","definition":{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"+"},{"$type":"EndOfFile"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NEWLINE","definition":{"$type":"RegexToken","regex":"/\\\\r?\\\\n/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_DESCR","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accDescr(?:[\\\\t ]*:([^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)|\\\\s*{([^}]*)})/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ACC_TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*accTitle[\\\\t ]*:(?:[^\\\\n\\\\r]*?(?=%%)|[^\\\\n\\\\r]*)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"TITLE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*title(?:[\\\\t ][^\\\\n\\\\r]*?(?=%%)|[\\\\t ][^\\\\n\\\\r]*|)/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","hidden":true,"name":"WHITESPACE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]+/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"YAML","definition":{"$type":"RegexToken","regex":"/---[\\\\t ]*\\\\r?\\\\n(?:[\\\\S\\\\s]*?\\\\r?\\\\n)?---(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"DIRECTIVE","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%{[\\\\S\\\\s]*?}%%(?:\\\\r?\\\\n|(?!\\\\S))/"},"fragment":false},{"$type":"TerminalRule","hidden":true,"name":"SINGLE_LINE_COMMENT","definition":{"$type":"RegexToken","regex":"/[\\\\t ]*%%[^\\\\n\\\\r]*/"},"fragment":false},{"$type":"ParserRule","entry":true,"name":"Radar","definition":{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"Keyword","value":"radar-beta"},{"$type":"Keyword","value":"radar-beta:"},{"$type":"Group","elements":[{"$type":"Keyword","value":"radar-beta"},{"$type":"Keyword","value":":"}]}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Alternatives","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@0"},"arguments":[]},{"$type":"Group","elements":[{"$type":"Keyword","value":"axis"},{"$type":"Assignment","feature":"axes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"axes","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@12"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"Keyword","value":"curve"},{"$type":"Assignment","feature":"curves","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"curves","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@13"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"options","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"Assignment","feature":"options","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@17"},"arguments":[]}}],"cardinality":"*"}]},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[]}],"cardinality":"*"}]},"definesHiddenTokens":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Label","definition":{"$type":"Group","elements":[{"$type":"Keyword","value":"["},{"$type":"Assignment","feature":"label","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@22"},"arguments":[]}},{"$type":"Keyword","value":"]"}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Axis","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[],"cardinality":"?"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Curve","definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]}},{"$type":"RuleCall","rule":{"$ref":"#/rules@11"},"arguments":[],"cardinality":"?"},{"$type":"Keyword","value":"{"},{"$type":"RuleCall","rule":{"$ref":"#/rules@14"},"arguments":[]},{"$type":"Keyword","value":"}"}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","fragment":true,"name":"Entries","definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@16"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"}]},{"$type":"Group","elements":[{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}},{"$type":"Group","elements":[{"$type":"Keyword","value":","},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"},{"$type":"Assignment","feature":"entries","operator":"+=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@15"},"arguments":[]}}],"cardinality":"*"},{"$type":"RuleCall","rule":{"$ref":"#/rules@2"},"arguments":[],"cardinality":"*"}]}]},"definesHiddenTokens":false,"entry":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"DetailedEntry","returnType":{"$ref":"#/interfaces@1"},"definition":{"$type":"Group","elements":[{"$type":"Assignment","feature":"axis","operator":"=","terminal":{"$type":"CrossReference","type":{"$ref":"#/rules@12"},"terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@21"},"arguments":[]},"deprecatedSyntax":false}},{"$type":"Keyword","value":":","cardinality":"?"},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"NumberEntry","returnType":{"$ref":"#/interfaces@1"},"definition":{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"ParserRule","name":"Option","definition":{"$type":"Alternatives","elements":[{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"showLegend"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@19"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"ticks"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"max"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"min"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@18"},"arguments":[]}}]},{"$type":"Group","elements":[{"$type":"Assignment","feature":"name","operator":"=","terminal":{"$type":"Keyword","value":"graticule"}},{"$type":"Assignment","feature":"value","operator":"=","terminal":{"$type":"RuleCall","rule":{"$ref":"#/rules@20"},"arguments":[]}}]}]},"definesHiddenTokens":false,"entry":false,"fragment":false,"hiddenTokens":[],"parameters":[],"wildcard":false},{"$type":"TerminalRule","name":"NUMBER","type":{"$type":"ReturnType","name":"number"},"definition":{"$type":"RegexToken","regex":"/(0|[1-9][0-9]*)(\\\\.[0-9]+)?/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"BOOLEAN","type":{"$type":"ReturnType","name":"boolean"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"true"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"false"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"GRATICULE","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"TerminalAlternatives","elements":[{"$type":"CharacterRange","left":{"$type":"Keyword","value":"circle"}},{"$type":"CharacterRange","left":{"$type":"Keyword","value":"polygon"}}]},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"ID","type":{"$type":"ReturnType","name":"string"},"definition":{"$type":"RegexToken","regex":"/[a-zA-Z_][a-zA-Z0-9\\\\-_]*/"},"fragment":false,"hidden":false},{"$type":"TerminalRule","name":"STRING","definition":{"$type":"RegexToken","regex":"/\\"[^\\"]*\\"|\'[^\']*\'/"},"fragment":false,"hidden":false}],"definesHiddenTokens":false,"hiddenTokens":[],"imports":[],"types":[],"usedGrammars":[]}'))),"RadarGrammar"),FS={languageId:"info",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},DS={languageId:"packet",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},US={languageId:"pie",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},zS={languageId:"architecture",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},jS={languageId:"gitGraph",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},GS={languageId:"radar",fileExtensions:[".mmd",".mermaid"],caseInsensitive:!1,mode:"production"},WS={AstReflection:j_((()=>new $S),"AstReflection")},qS={Grammar:j_((()=>IS()),"Grammar"),LanguageMetaData:j_((()=>FS),"LanguageMetaData"),parser:{}},HS={Grammar:j_((()=>NS()),"Grammar"),LanguageMetaData:j_((()=>DS),"LanguageMetaData"),parser:{}},VS={Grammar:j_((()=>OS()),"Grammar"),LanguageMetaData:j_((()=>US),"LanguageMetaData"),parser:{}},KS={Grammar:j_((()=>MS()),"Grammar"),LanguageMetaData:j_((()=>zS),"LanguageMetaData"),parser:{}},YS={Grammar:j_((()=>PS()),"Grammar"),LanguageMetaData:j_((()=>jS),"LanguageMetaData"),parser:{}},XS={Grammar:j_((()=>BS()),"Grammar"),LanguageMetaData:j_((()=>GS),"LanguageMetaData"),parser:{}},JS={ACC_DESCR:/accDescr(?:[\t ]*:([^\n\r]*)|\s*{([^}]*)})/,ACC_TITLE:/accTitle[\t ]*:([^\n\r]*)/,TITLE:/title([\t ][^\n\r]*|)/},ZS=class extends Sb{static{o(this,"AbstractMermaidValueConverter")}static{j_(this,"AbstractMermaidValueConverter")}runConverter(e,t,r){let i=this.runCommonConverter(e,t,r);return void 0===i&&(i=this.runCustomConverter(e,t,r)),void 0===i?super.runConverter(e,t,r):i}runCommonConverter(e,t,r){let i=JS[e.name];if(void 0===i)return;let n=i.exec(t);if(null!==n){if(void 0!==n[1])return n[1].trim().replace(/[\t ]{2,}/gm," ");if(void 0!==n[2])return n[2].replace(/^\s*/gm,"").replace(/\s+$/gm,"").replace(/[\t ]{2,}/gm," ").replace(/[\n\r]{2,}/gm,"\n")}}},QS=class extends ZS{static{o(this,"CommonValueConverter")}static{j_(this,"CommonValueConverter")}runCustomConverter(e,t,r){}},eA=class extends _b{static{o(this,"AbstractMermaidTokenBuilder")}static{j_(this,"AbstractMermaidTokenBuilder")}constructor(e){super(),this.keywords=new Set(e)}buildKeywordTokens(e,t,r){let i=super.buildKeywordTokens(e,t,r);return i.forEach((e=>{this.keywords.has(e.name)&&void 0!==e.PATTERN&&(e.PATTERN=new RegExp(e.PATTERN.toString()+"(?:(?=%%)|(?!\\S))"))})),i}};(class extends eA{static{o(this,"CommonTokenBuilder")}static{j_(this,"CommonTokenBuilder")}});var tA={},rA={info:j_((async()=>{let{createInfoServices:e}=await import("./info-4N47QTOZ-2BEI6D6A.mjs.7c71b291.js"),t=e().Info.parser.LangiumParser;tA.info=t}),"info"),packet:j_((async()=>{let{createPacketServices:e}=await import("./packet-KVYON367-D24LN7JZ.mjs.f4ac409b.js"),t=e().Packet.parser.LangiumParser;tA.packet=t}),"packet"),pie:j_((async()=>{let{createPieServices:e}=await import("./pie-R6RNRRYF-FUPP6FTN.mjs.f47d80d8.js"),t=e().Pie.parser.LangiumParser;tA.pie=t}),"pie"),architecture:j_((async()=>{let{createArchitectureServices:e}=await import("./architecture-4AB2E3PP-7QDGZQEU.mjs.9f0c32d7.js"),t=e().Architecture.parser.LangiumParser;tA.architecture=t}),"architecture"),gitGraph:j_((async()=>{let{createGitGraphServices:e}=await import("./gitGraph-O2Q2CXLX-CIPL3GNK.mjs.6ce6748f.js"),t=e().GitGraph.parser.LangiumParser;tA.gitGraph=t}),"gitGraph"),radar:j_((async()=>{let{createRadarServices:e}=await import("./radar-MK3ICKWK-KPFLJ5ZN.mjs.a5aca713.js"),t=e().Radar.parser.LangiumParser;tA.radar=t}),"radar")};async function iA(e,t){let r=rA[e];if(!r)throw new Error(`Unknown diagram type: ${e}`);tA[e]||await r();let i=tA[e].parse(t);if(i.lexerErrors.length>0||i.parserErrors.length>0)throw new nA(i);return i.value}o(iA,"parse"),j_(iA,"parse");var nA=class extends Error{static{o(this,"MermaidParseError")}constructor(e){let t=e.lexerErrors.map((e=>e.message)).join("\n"),r=e.parserErrors.map((e=>e.message)).join("\n");super(`Parsing failed: ${t} ${r}`),this.result=e}static{j_(this,"MermaidParseError")}},aA=class extends eA{static{o(this,"PieTokenBuilder")}static{j_(this,"PieTokenBuilder")}constructor(){super(["pie","showData"])}},oA=class extends ZS{static{o(this,"PieValueConverter")}static{j_(this,"PieValueConverter")}runCustomConverter(e,t,r){if("PIE_SECTION_LABEL"===e.name)return t.replace(/"/g,"").trim()}},sA={parser:{TokenBuilder:j_((()=>new aA),"TokenBuilder"),ValueConverter:j_((()=>new oA),"ValueConverter")}};function lA(e=P_){let t=k_(b_(e),WS),r=k_(C_({shared:t}),VS,sA);return t.ServiceRegistry.register(r),{shared:t,Pie:r}}o(lA,"createPieServices"),j_(lA,"createPieServices");var cA=class extends eA{static{o(this,"ArchitectureTokenBuilder")}static{j_(this,"ArchitectureTokenBuilder")}constructor(){super(["architecture"])}},uA=class extends ZS{static{o(this,"ArchitectureValueConverter")}static{j_(this,"ArchitectureValueConverter")}runCustomConverter(e,t,r){return"ARCH_ICON"===e.name?t.replace(/[()]/g,"").trim():"ARCH_TEXT_ICON"===e.name?t.replace(/["()]/g,""):"ARCH_TITLE"===e.name?t.replace(/[[\]]/g,"").trim():void 0}},hA={parser:{TokenBuilder:j_((()=>new cA),"TokenBuilder"),ValueConverter:j_((()=>new uA),"ValueConverter")}};function dA(e=P_){let t=k_(b_(e),WS),r=k_(C_({shared:t}),KS,hA);return t.ServiceRegistry.register(r),{shared:t,Architecture:r}}o(dA,"createArchitectureServices"),j_(dA,"createArchitectureServices");var fA=class extends eA{static{o(this,"GitGraphTokenBuilder")}static{j_(this,"GitGraphTokenBuilder")}constructor(){super(["gitGraph"])}},pA={parser:{TokenBuilder:j_((()=>new fA),"TokenBuilder"),ValueConverter:j_((()=>new QS),"ValueConverter")}};function mA(e=P_){let t=k_(b_(e),WS),r=k_(C_({shared:t}),YS,pA);return t.ServiceRegistry.register(r),{shared:t,GitGraph:r}}o(mA,"createGitGraphServices"),j_(mA,"createGitGraphServices");var gA=class extends eA{static{o(this,"RadarTokenBuilder")}static{j_(this,"RadarTokenBuilder")}constructor(){super(["radar-beta"])}},yA={parser:{TokenBuilder:j_((()=>new gA),"TokenBuilder"),ValueConverter:j_((()=>new QS),"ValueConverter")}};function vA(e=P_){let t=k_(b_(e),WS),r=k_(C_({shared:t}),XS,yA);return t.ServiceRegistry.register(r),{shared:t,Radar:r}}o(vA,"createRadarServices"),j_(vA,"createRadarServices");var xA=s((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BLANK_URL=e.relativeFirstCharacters=e.whitespaceEscapeCharsRegex=e.urlSchemeRegex=e.ctrlCharactersRegex=e.htmlCtrlEntityRegex=e.htmlEntitiesRegex=e.invalidProtocolRegex=void 0,e.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,e.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,e.htmlCtrlEntityRegex=/&(newline|tab);/gi,e.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,e.urlSchemeRegex=/^.+(:|&colon;)/gim,e.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,e.relativeFirstCharacters=[".","/"],e.BLANK_URL="about:blank"})),TA=s((e=>{Object.defineProperty(e,"__esModule",{value:!0}),e.sanitizeUrl=void 0;var t=xA();function r(e){return t.relativeFirstCharacters.indexOf(e[0])>-1}function i(e){return e.replace(t.ctrlCharactersRegex,"").replace(t.htmlEntitiesRegex,(function(e,t){return String.fromCharCode(t)}))}function n(e){return URL.canParse(e)}function a(e){try{return decodeURIComponent(e)}catch{return e}}function s(e){if(!e)return t.BLANK_URL;var o,s=a(e.trim());do{o=(s=a(s=i(s).replace(t.htmlCtrlEntityRegex,"").replace(t.ctrlCharactersRegex,"").replace(t.whitespaceEscapeCharsRegex,"").trim())).match(t.ctrlCharactersRegex)||s.match(t.htmlEntitiesRegex)||s.match(t.htmlCtrlEntityRegex)||s.match(t.whitespaceEscapeCharsRegex)}while(o&&o.length>0);var l=s;if(!l)return t.BLANK_URL;if(r(l))return l;var c=l.trimStart(),u=c.match(t.urlSchemeRegex);if(!u)return l;var h=u[0].toLowerCase().trim();if(t.invalidProtocolRegex.test(h))return t.BLANK_URL;var d=c.replace(/\\/g,"/");if("mailto:"===h||h.includes("://"))return d;if("http:"===h||"https:"===h){if(!n(d))return t.BLANK_URL;var f=new URL(d);return f.protocol=f.protocol.toLowerCase(),f.hostname=f.hostname.toLowerCase(),f.toString()}return d}o(r,"isRelativeUrlWithoutProtocol"),o(i,"decodeHtmlCharacters"),o(n,"isValidUrl"),o(a,"decodeURI"),o(s,"sanitizeUrl"),e.sanitizeUrl=s})),CA=s(((e,t)=>{!function(r,i){"object"==typeof e&&typeof t<"u"?t.exports=i():"function"==typeof define&&define.amd?define(i):(r=typeof globalThis<"u"?globalThis:r||self).dayjs=i()}(e,(function(){var e=6e4,t=36e5,r="millisecond",i="second",n="minute",a="hour",s="day",l="week",c="month",u="quarter",h="year",d="date",f="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:o((function(e){var t=["th","st","nd","rd"],r=e%100;return"["+e+(t[(r-20)%10]||t[r]||t[0])+"]"}),"ordinal")},y=o((function(e,t,r){var i=String(e);return!i||i.length>=t?e:""+Array(t+1-i.length).join(r)+e}),"m"),v={s:y,z:o((function(e){var t=-e.utcOffset(),r=Math.abs(t),i=Math.floor(r/60),n=r%60;return(t<=0?"+":"-")+y(i,2,"0")+":"+y(n,2,"0")}),"z"),m:o((function e(t,r){if(t.date()<r.date())return-e(r,t);var i=12*(r.year()-t.year())+(r.month()-t.month()),n=t.clone().add(i,c),a=r-n<0,o=t.clone().add(i+(a?-1:1),c);return+(-(i+(r-n)/(a?n-o:o-n))||0)}),"t"),a:o((function(e){return e<0?Math.ceil(e)||0:Math.floor(e)}),"a"),p:o((function(e){return{M:c,y:h,w:l,d:s,D:d,h:a,m:n,s:i,ms:r,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")}),"p"),u:o((function(e){return void 0===e}),"u")},x="en",T={};T[x]=g;var C="$isDayjsObject",b=o((function(e){return e instanceof A||!(!e||!e[C])}),"S"),k=o((function e(t,r,i){var n;if(!t)return x;if("string"==typeof t){var a=t.toLowerCase();T[a]&&(n=a),r&&(T[a]=r,n=a);var o=t.split("-");if(!n&&o.length>1)return e(o[0])}else{var s=t.name;T[s]=t,n=s}return!i&&n&&(x=n),n||!i&&x}),"t"),_=o((function(e,t){if(b(e))return e.clone();var r="object"==typeof t?t:{};return r.date=e,r.args=arguments,new A(r)}),"O"),S=v;S.l=k,S.i=b,S.w=function(e,t){return _(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var A=function(){function g(e){this.$L=k(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[C]=!0}o(g,"M");var y=g.prototype;return y.parse=function(e){this.$d=function(e){var t=e.date,r=e.utc;if(null===t)return new Date(NaN);if(S.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var i=t.match(p);if(i){var n=i[2]-1||0,a=(i[7]||"0").substring(0,3);return r?new Date(Date.UTC(i[1],n,i[3]||1,i[4]||0,i[5]||0,i[6]||0,a)):new Date(i[1],n,i[3]||1,i[4]||0,i[5]||0,i[6]||0,a)}}return new Date(t)}(e),this.init()},y.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},y.$utils=function(){return S},y.isValid=function(){return this.$d.toString()!==f},y.isSame=function(e,t){var r=_(e);return this.startOf(t)<=r&&r<=this.endOf(t)},y.isAfter=function(e,t){return _(e)<this.startOf(t)},y.isBefore=function(e,t){return this.endOf(t)<_(e)},y.$g=function(e,t,r){return S.u(e)?this[t]:this.set(r,e)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(e,t){var r=this,u=!!S.u(t)||t,f=S.p(e),p=o((function(e,t){var i=S.w(r.$u?Date.UTC(r.$y,t,e):new Date(r.$y,t,e),r);return u?i:i.endOf(s)}),"l"),m=o((function(e,t){return S.w(r.toDate()[e].apply(r.toDate("s"),(u?[0,0,0,0]:[23,59,59,999]).slice(t)),r)}),"$"),g=this.$W,y=this.$M,v=this.$D,x="set"+(this.$u?"UTC":"");switch(f){case h:return u?p(1,0):p(31,11);case c:return u?p(1,y):p(0,y+1);case l:var T=this.$locale().weekStart||0,C=(g<T?g+7:g)-T;return p(u?v-C:v+(6-C),y);case s:case d:return m(x+"Hours",0);case a:return m(x+"Minutes",1);case n:return m(x+"Seconds",2);case i:return m(x+"Milliseconds",3);default:return this.clone()}},y.endOf=function(e){return this.startOf(e,!1)},y.$set=function(e,t){var o,l=S.p(e),u="set"+(this.$u?"UTC":""),f=(o={},o[s]=u+"Date",o[d]=u+"Date",o[c]=u+"Month",o[h]=u+"FullYear",o[a]=u+"Hours",o[n]=u+"Minutes",o[i]=u+"Seconds",o[r]=u+"Milliseconds",o)[l],p=l===s?this.$D+(t-this.$W):t;if(l===c||l===h){var m=this.clone().set(d,1);m.$d[f](p),m.init(),this.$d=m.set(d,Math.min(this.$D,m.daysInMonth())).$d}else f&&this.$d[f](p);return this.init(),this},y.set=function(e,t){return this.clone().$set(e,t)},y.get=function(e){return this[S.p(e)]()},y.add=function(r,u){var d,f=this;r=Number(r);var p=S.p(u),m=o((function(e){var t=_(f);return S.w(t.date(t.date()+Math.round(e*r)),f)}),"y");if(p===c)return this.set(c,this.$M+r);if(p===h)return this.set(h,this.$y+r);if(p===s)return m(1);if(p===l)return m(7);var g=(d={},d[n]=e,d[a]=t,d[i]=1e3,d)[p]||1,y=this.$d.getTime()+r*g;return S.w(y,this)},y.subtract=function(e,t){return this.add(-1*e,t)},y.format=function(e){var t=this,r=this.$locale();if(!this.isValid())return r.invalidDate||f;var i=e||"YYYY-MM-DDTHH:mm:ssZ",n=S.z(this),a=this.$H,s=this.$m,l=this.$M,c=r.weekdays,u=r.months,h=r.meridiem,d=o((function(e,r,n,a){return e&&(e[r]||e(t,i))||n[r].slice(0,a)}),"h"),p=o((function(e){return S.s(a%12||12,e,"0")}),"d"),g=h||function(e,t,r){var i=e<12?"AM":"PM";return r?i.toLowerCase():i};return i.replace(m,(function(e,i){return i||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return S.s(t.$y,4,"0");case"M":return l+1;case"MM":return S.s(l+1,2,"0");case"MMM":return d(r.monthsShort,l,u,3);case"MMMM":return d(u,l);case"D":return t.$D;case"DD":return S.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return d(r.weekdaysMin,t.$W,c,2);case"ddd":return d(r.weekdaysShort,t.$W,c,3);case"dddd":return c[t.$W];case"H":return String(a);case"HH":return S.s(a,2,"0");case"h":return p(1);case"hh":return p(2);case"a":return g(a,s,!0);case"A":return g(a,s,!1);case"m":return String(s);case"mm":return S.s(s,2,"0");case"s":return String(t.$s);case"ss":return S.s(t.$s,2,"0");case"SSS":return S.s(t.$ms,3,"0");case"Z":return n}return null}(e)||n.replace(":","")}))},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(r,d,f){var p,m=this,g=S.p(d),y=_(r),v=(y.utcOffset()-this.utcOffset())*e,x=this-y,T=o((function(){return S.m(m,y)}),"D");switch(g){case h:p=T()/12;break;case c:p=T();break;case u:p=T()/3;break;case l:p=(x-v)/6048e5;break;case s:p=(x-v)/864e5;break;case a:p=x/t;break;case n:p=x/e;break;case i:p=x/1e3;break;default:p=x}return f?p:S.a(p)},y.daysInMonth=function(){return this.endOf(c).$D},y.$locale=function(){return T[this.$L]},y.locale=function(e,t){if(!e)return this.$L;var r=this.clone(),i=k(e,t,!0);return i&&(r.$L=i),r},y.clone=function(){return S.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},g}(),E=A.prototype;return _.prototype=E,[["$ms",r],["$s",i],["$m",n],["$H",a],["$W",s],["$M",c],["$y",h],["$D",d]].forEach((function(e){E[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),_.extend=function(e,t){return e.$i||(e(t,A,_),e.$i=!0),_},_.locale=k,_.isDayjs=b,_.unix=function(e){return _(1e3*e)},_.en=T[x],_.Ls=T,_.p={},_}))})),bA=h(CA(),1),kA={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},_A={trace:o(((...e)=>{}),"trace"),debug:o(((...e)=>{}),"debug"),info:o(((...e)=>{}),"info"),warn:o(((...e)=>{}),"warn"),error:o(((...e)=>{}),"error"),fatal:o(((...e)=>{}),"fatal")},SA=o((function(e="fatal"){let t=kA.fatal;"string"==typeof e?e.toLowerCase()in kA&&(t=kA[e]):"number"==typeof e&&(t=e),_A.trace=()=>{},_A.debug=()=>{},_A.info=()=>{},_A.warn=()=>{},_A.error=()=>{},_A.fatal=()=>{},t<=kA.fatal&&(_A.fatal=console.error?console.error.bind(console,AA("FATAL"),"color: orange"):console.log.bind(console,"[35m",AA("FATAL"))),t<=kA.error&&(_A.error=console.error?console.error.bind(console,AA("ERROR"),"color: orange"):console.log.bind(console,"[31m",AA("ERROR"))),t<=kA.warn&&(_A.warn=console.warn?console.warn.bind(console,AA("WARN"),"color: orange"):console.log.bind(console,"[33m",AA("WARN"))),t<=kA.info&&(_A.info=console.info?console.info.bind(console,AA("INFO"),"color: lightblue"):console.log.bind(console,"[34m",AA("INFO"))),t<=kA.debug&&(_A.debug=console.debug?console.debug.bind(console,AA("DEBUG"),"color: lightgreen"):console.log.bind(console,"[32m",AA("DEBUG"))),t<=kA.trace&&(_A.trace=console.debug?console.debug.bind(console,AA("TRACE"),"color: lightgreen"):console.log.bind(console,"[32m",AA("TRACE")))}),"setLogLevel"),AA=o((e=>`%c${(0,bA.default)().format("ss.SSS")} : ${e} : `),"format"),EA=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,wA=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,RA=/\s*%%.*\n/gm,$A=class extends Error{static{o(this,"UnknownDiagramError")}constructor(e){super(e),this.name="UnknownDiagramError"}},LA={},IA=o((function(e,t){e=e.replace(EA,"").replace(wA,"").replace(RA,"\n");for(let[r,{detector:i}]of Object.entries(LA))if(i(e,t))return r;throw new $A(`No diagram type detected matching given configuration for text: ${e}`)}),"detectType");o(((...e)=>{for(let{id:t,detector:r,loader:i}of e)NA(t,r,i)}),"registerLazyLoadedDiagrams");var NA=o(((e,t,r)=>{LA[e]&&_A.warn(`Detector with key ${e} already exists. Overwriting.`),LA[e]={detector:t,loader:r},_A.debug(`Detector with key ${e} added${r?" with loader":""}`)}),"addDetector");o((e=>LA[e].loader),"getDiagramLoader");var OA=o(((e,t,{depth:r=2,clobber:i=!1}={})=>{let n={depth:r,clobber:i};return Array.isArray(t)&&!Array.isArray(e)?(t.forEach((t=>OA(e,t,n))),e):Array.isArray(t)&&Array.isArray(e)?(t.forEach((t=>{e.includes(t)||e.push(t)})),e):void 0===e||r<=0?null!=e&&"object"==typeof e&&"object"==typeof t?Object.assign(e,t):t:(void 0!==t&&"object"==typeof e&&"object"==typeof t&&Object.keys(t).forEach((n=>{"object"!=typeof t[n]||void 0!==e[n]&&"object"!=typeof e[n]?(i||"object"!=typeof e[n]&&"object"!=typeof t[n])&&(e[n]=t[n]):(void 0===e[n]&&(e[n]=Array.isArray(t[n])?[]:{}),e[n]=OA(e[n],t[n],{depth:r-1,clobber:i}))})),e)}),"assignWithDepth"),MA=OA,PA={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:o((e=>e>=255?255:e<0?0:e),"r"),g:o((e=>e>=255?255:e<0?0:e),"g"),b:o((e=>e>=255?255:e<0?0:e),"b"),h:o((e=>e%360),"h"),s:o((e=>e>=100?100:e<0?0:e),"s"),l:o((e=>e>=100?100:e<0?0:e),"l"),a:o((e=>e>=1?1:e<0?0:e),"a")},toLinear:o((e=>{let t=e/255;return e>.03928?Math.pow((t+.055)/1.055,2.4):t/12.92}),"toLinear"),hue2rgb:o(((e,t,r)=>(r<0&&(r+=1),r>1&&(r-=1),r<.16666666666666666?e+6*(t-e)*r:r<.5?t:r<.6666666666666666?e+(t-e)*(.6666666666666666-r)*6:e)),"hue2rgb"),hsl2rgb:o((({h:e,s:t,l:r},i)=>{if(!t)return 2.55*r;e/=360,t/=100;let n=(r/=100)<.5?r*(1+t):r+t-r*t,a=2*r-n;switch(i){case"r":return 255*PA.hue2rgb(a,n,e+.3333333333333333);case"g":return 255*PA.hue2rgb(a,n,e);case"b":return 255*PA.hue2rgb(a,n,e-.3333333333333333)}}),"hsl2rgb"),rgb2hsl:o((({r:e,g:t,b:r},i)=>{e/=255,t/=255,r/=255;let n=Math.max(e,t,r),a=Math.min(e,t,r),o=(n+a)/2;if("l"===i)return 100*o;if(n===a)return 0;let s=n-a;if("s"===i)return 100*(o>.5?s/(2-n-a):s/(n+a));switch(n){case e:return 60*((t-r)/s+(t<r?6:0));case t:return 60*((r-e)/s+2);case r:return 60*((e-t)/s+4);default:return-1}}),"rgb2hsl")},BA=PA,FA={clamp:o(((e,t,r)=>t>r?Math.min(t,Math.max(r,e)):Math.min(r,Math.max(t,e))),"clamp"),round:o((e=>Math.round(1e10*e)/1e10),"round")},DA=FA,UA={dec2hex:o((e=>{let t=Math.round(e).toString(16);return t.length>1?t:`0${t}`}),"dec2hex")},zA={channel:BA,lang:DA,unit:UA},jA={};for(let e=0;e<=255;e++)jA[e]=zA.unit.dec2hex(e);var GA=0,WA=1,qA=2,HA=class{static{o(this,"Type")}constructor(){this.type=GA}get(){return this.type}set(e){if(this.type&&this.type!==e)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=e}reset(){this.type=GA}is(e){return this.type===e}},VA=HA,KA=class{static{o(this,"Channels")}constructor(e,t){this.color=t,this.changed=!1,this.data=e,this.type=new VA}set(e,t){return this.color=t,this.changed=!1,this.data=e,this.type.type=GA,this}_ensureHSL(){let e=this.data,{h:t,s:r,l:i}=e;void 0===t&&(e.h=zA.channel.rgb2hsl(e,"h")),void 0===r&&(e.s=zA.channel.rgb2hsl(e,"s")),void 0===i&&(e.l=zA.channel.rgb2hsl(e,"l"))}_ensureRGB(){let e=this.data,{r:t,g:r,b:i}=e;void 0===t&&(e.r=zA.channel.hsl2rgb(e,"r")),void 0===r&&(e.g=zA.channel.hsl2rgb(e,"g")),void 0===i&&(e.b=zA.channel.hsl2rgb(e,"b"))}get r(){let e=this.data,t=e.r;return this.type.is(qA)||void 0===t?(this._ensureHSL(),zA.channel.hsl2rgb(e,"r")):t}get g(){let e=this.data,t=e.g;return this.type.is(qA)||void 0===t?(this._ensureHSL(),zA.channel.hsl2rgb(e,"g")):t}get b(){let e=this.data,t=e.b;return this.type.is(qA)||void 0===t?(this._ensureHSL(),zA.channel.hsl2rgb(e,"b")):t}get h(){let e=this.data,t=e.h;return this.type.is(WA)||void 0===t?(this._ensureRGB(),zA.channel.rgb2hsl(e,"h")):t}get s(){let e=this.data,t=e.s;return this.type.is(WA)||void 0===t?(this._ensureRGB(),zA.channel.rgb2hsl(e,"s")):t}get l(){let e=this.data,t=e.l;return this.type.is(WA)||void 0===t?(this._ensureRGB(),zA.channel.rgb2hsl(e,"l")):t}get a(){return this.data.a}set r(e){this.type.set(WA),this.changed=!0,this.data.r=e}set g(e){this.type.set(WA),this.changed=!0,this.data.g=e}set b(e){this.type.set(WA),this.changed=!0,this.data.b=e}set h(e){this.type.set(qA),this.changed=!0,this.data.h=e}set s(e){this.type.set(qA),this.changed=!0,this.data.s=e}set l(e){this.type.set(qA),this.changed=!0,this.data.l=e}set a(e){this.changed=!0,this.data.a=e}},YA=new KA({r:0,g:0,b:0,a:0},"transparent"),XA={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:o((e=>{if(35!==e.charCodeAt(0))return;let t=e.match(XA.re);if(!t)return;let r=t[1],i=parseInt(r,16),n=r.length,a=n%4==0,o=n>4,s=o?1:17,l=o?8:4,c=a?0:-1,u=o?255:15;return YA.set({r:(i>>l*(c+3)&u)*s,g:(i>>l*(c+2)&u)*s,b:(i>>l*(c+1)&u)*s,a:a?(i&u)*s/255:1},e)}),"parse"),stringify:o((e=>{let{r:t,g:r,b:i,a:n}=e;return n<1?`#${jA[Math.round(t)]}${jA[Math.round(r)]}${jA[Math.round(i)]}${jA[Math.round(255*n)]}`:`#${jA[Math.round(t)]}${jA[Math.round(r)]}${jA[Math.round(i)]}`}),"stringify")},JA=XA,ZA={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:o((e=>{let t=e.match(ZA.hueRe);if(t){let[,e,r]=t;switch(r){case"grad":return zA.channel.clamp.h(.9*parseFloat(e));case"rad":return zA.channel.clamp.h(180*parseFloat(e)/Math.PI);case"turn":return zA.channel.clamp.h(360*parseFloat(e))}}return zA.channel.clamp.h(parseFloat(e))}),"_hue2deg"),parse:o((e=>{let t=e.charCodeAt(0);if(104!==t&&72!==t)return;let r=e.match(ZA.re);if(!r)return;let[,i,n,a,o,s]=r;return YA.set({h:ZA._hue2deg(i),s:zA.channel.clamp.s(parseFloat(n)),l:zA.channel.clamp.l(parseFloat(a)),a:o?zA.channel.clamp.a(s?parseFloat(o)/100:parseFloat(o)):1},e)}),"parse"),stringify:o((e=>{let{h:t,s:r,l:i,a:n}=e;return n<1?`hsla(${zA.lang.round(t)}, ${zA.lang.round(r)}%, ${zA.lang.round(i)}%, ${n})`:`hsl(${zA.lang.round(t)}, ${zA.lang.round(r)}%, ${zA.lang.round(i)}%)`}),"stringify")},QA=ZA,eE={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:o((e=>{e=e.toLowerCase();let t=eE.colors[e];if(t)return JA.parse(t)}),"parse"),stringify:o((e=>{let t=JA.stringify(e);for(let e in eE.colors)if(eE.colors[e]===t)return e}),"stringify")},tE=eE,rE={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:o((e=>{let t=e.charCodeAt(0);if(114!==t&&82!==t)return;let r=e.match(rE.re);if(!r)return;let[,i,n,a,o,s,l,c,u]=r;return YA.set({r:zA.channel.clamp.r(n?2.55*parseFloat(i):parseFloat(i)),g:zA.channel.clamp.g(o?2.55*parseFloat(a):parseFloat(a)),b:zA.channel.clamp.b(l?2.55*parseFloat(s):parseFloat(s)),a:c?zA.channel.clamp.a(u?parseFloat(c)/100:parseFloat(c)):1},e)}),"parse"),stringify:o((e=>{let{r:t,g:r,b:i,a:n}=e;return n<1?`rgba(${zA.lang.round(t)}, ${zA.lang.round(r)}, ${zA.lang.round(i)}, ${zA.lang.round(n)})`:`rgb(${zA.lang.round(t)}, ${zA.lang.round(r)}, ${zA.lang.round(i)})`}),"stringify")},iE=rE,nE={format:{keyword:tE,hex:JA,rgb:iE,rgba:iE,hsl:QA,hsla:QA},parse:o((e=>{if("string"!=typeof e)return e;let t=JA.parse(e)||iE.parse(e)||QA.parse(e)||tE.parse(e);if(t)return t;throw new Error(`Unsupported color format: "${e}"`)}),"parse"),stringify:o((e=>!e.changed&&e.color?e.color:e.type.is(qA)||void 0===e.data.r?QA.stringify(e):e.a<1||!Number.isInteger(e.r)||!Number.isInteger(e.g)||!Number.isInteger(e.b)?iE.stringify(e):JA.stringify(e)),"stringify")},aE=nE,oE=o(((e,t)=>{let r=aE.parse(e);for(let e in t)r[e]=zA.channel.clamp[e](t[e]);return aE.stringify(r)}),"change"),sE=oE,lE=o(((e,t,r=0,i=1)=>{if("number"!=typeof e)return sE(e,{a:t});let n=YA.set({r:zA.channel.clamp.r(e),g:zA.channel.clamp.g(t),b:zA.channel.clamp.b(r),a:zA.channel.clamp.a(i)});return aE.stringify(n)}),"rgba"),cE=lE;o(((e,t)=>zA.lang.round(aE.parse(e)[t])),"channel");var uE,hE=o((e=>{let{r:t,g:r,b:i}=aE.parse(e),n=.2126*zA.channel.toLinear(t)+.7152*zA.channel.toLinear(r)+.0722*zA.channel.toLinear(i);return zA.lang.round(n)}),"luminance"),dE=hE,fE=o((e=>dE(e)>=.5),"isLight"),pE=fE,mE=o((e=>!pE(e)),"isDark"),gE=mE,yE=o(((e,t,r)=>{let i=aE.parse(e),n=i[t],a=zA.channel.clamp[t](n+r);return n!==a&&(i[t]=a),aE.stringify(i)}),"adjustChannel"),vE=yE,xE=o(((e,t)=>vE(e,"l",t)),"lighten"),TE=xE,CE=o(((e,t)=>vE(e,"l",-t)),"darken"),bE=CE,kE=o(((e,t)=>{let r=aE.parse(e),i={};for(let e in t)t[e]&&(i[e]=r[e]+t[e]);return sE(e,i)}),"adjust"),_E=kE,SE=o(((e,t,r=50)=>{let{r:i,g:n,b:a,a:o}=aE.parse(e),{r:s,g:l,b:c,a:u}=aE.parse(t),h=r/100,d=2*h-1,f=o-u,p=((d*f==-1?d:(d+f)/(1+d*f))+1)/2,m=1-p;return cE(i*p+s*m,n*p+l*m,a*p+c*m,o*h+u*(1-h))}),"mix"),AE=SE,EE=o(((e,t=100)=>{let r=aE.parse(e);return r.r=255-r.r,r.g=255-r.g,r.b=255-r.b,AE(r,e,t)}),"invert"),wE=EE,RE="#ffffff",$E="#f2f2f2",LE=o(((e,t)=>_E(e,t?{s:-40,l:10}:{s:-40,l:-10})),"mkBorder"),IE=class{static{o(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||_E(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||_E(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||LE(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||LE(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||LE(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||LE(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||wE(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||wE(this.tertiaryColor),this.lineColor=this.lineColor||wE(this.background),this.arrowheadColor=this.arrowheadColor||wE(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?bE(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||bE(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||wE(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||TE(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.darkMode?(this.rowOdd=this.rowOdd||bE(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||bE(this.mainBkg,10)):(this.rowOdd=this.rowOdd||TE(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||TE(this.mainBkg,5)),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||_E(this.primaryColor,{h:30}),this.cScale4=this.cScale4||_E(this.primaryColor,{h:60}),this.cScale5=this.cScale5||_E(this.primaryColor,{h:90}),this.cScale6=this.cScale6||_E(this.primaryColor,{h:120}),this.cScale7=this.cScale7||_E(this.primaryColor,{h:150}),this.cScale8=this.cScale8||_E(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||_E(this.primaryColor,{h:270}),this.cScale10=this.cScale10||_E(this.primaryColor,{h:300}),this.cScale11=this.cScale11||_E(this.primaryColor,{h:330}),this.darkMode)for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=bE(this["cScale"+e],75);else for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=bE(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||wE(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this.darkMode?this["cScalePeer"+e]=this["cScalePeer"+e]||TE(this["cScale"+e],10):this["cScalePeer"+e]=this["cScalePeer"+e]||bE(this["cScale"+e],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;let e=this.darkMode?-4:-1;for(let t=0;t<5;t++)this["surface"+t]=this["surface"+t]||_E(this.mainBkg,{h:180,s:-15,l:e*(5+3*t)}),this["surfacePeer"+t]=this["surfacePeer"+t]||_E(this.mainBkg,{h:180,s:-15,l:e*(8+3*t)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||_E(this.primaryColor,{h:64}),this.fillType3=this.fillType3||_E(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||_E(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||_E(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||_E(this.primaryColor,{h:128}),this.fillType7=this.fillType7||_E(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||_E(this.primaryColor,{l:-10}),this.pie5=this.pie5||_E(this.secondaryColor,{l:-10}),this.pie6=this.pie6||_E(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||_E(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||_E(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||_E(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||_E(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||_E(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||_E(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||_E(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||_E(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||_E(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||_E(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||_E(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||_E(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||gE(this.quadrant1Fill)?TE(this.quadrant1Fill):bE(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?bE(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||_E(this.primaryColor,{h:-30}),this.git4=this.git4||_E(this.primaryColor,{h:-60}),this.git5=this.git5||_E(this.primaryColor,{h:-90}),this.git6=this.git6||_E(this.primaryColor,{h:60}),this.git7=this.git7||_E(this.primaryColor,{h:120}),this.darkMode?(this.git0=TE(this.git0,25),this.git1=TE(this.git1,25),this.git2=TE(this.git2,25),this.git3=TE(this.git3,25),this.git4=TE(this.git4,25),this.git5=TE(this.git5,25),this.git6=TE(this.git6,25),this.git7=TE(this.git7,25)):(this.git0=bE(this.git0,25),this.git1=bE(this.git1,25),this.git2=bE(this.git2,25),this.git3=bE(this.git3,25),this.git4=bE(this.git4,25),this.git5=bE(this.git5,25),this.git6=bE(this.git6,25),this.git7=bE(this.git7,25)),this.gitInv0=this.gitInv0||wE(this.git0),this.gitInv1=this.gitInv1||wE(this.git1),this.gitInv2=this.gitInv2||wE(this.git2),this.gitInv3=this.gitInv3||wE(this.git3),this.gitInv4=this.gitInv4||wE(this.git4),this.gitInv5=this.gitInv5||wE(this.git5),this.gitInv6=this.gitInv6||wE(this.git6),this.gitInv7=this.gitInv7||wE(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||RE,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||$E}calculate(e){if("object"!=typeof e)return void this.updateColors();let t=Object.keys(e);t.forEach((t=>{this[t]=e[t]})),this.updateColors(),t.forEach((t=>{this[t]=e[t]}))}},NE=o((e=>{let t=new IE;return t.calculate(e),t}),"getThemeVariables"),OE=class{static{o(this,"Theme")}constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=TE(this.primaryColor,16),this.tertiaryColor=_E(this.primaryColor,{h:-160}),this.primaryBorderColor=wE(this.background),this.secondaryBorderColor=LE(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=LE(this.tertiaryColor,this.darkMode),this.primaryTextColor=wE(this.primaryColor),this.secondaryTextColor=wE(this.secondaryColor),this.tertiaryTextColor=wE(this.tertiaryColor),this.lineColor=wE(this.background),this.textColor=wE(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=TE(wE("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=cE(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=bE("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=bE(this.sectionBkgColor,10),this.taskBorderColor=cE(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=cE(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||TE(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||bE(this.mainBkg,10),this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=TE(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=TE(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=TE(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=_E(this.primaryColor,{h:64}),this.fillType3=_E(this.secondaryColor,{h:64}),this.fillType4=_E(this.primaryColor,{h:-64}),this.fillType5=_E(this.secondaryColor,{h:-64}),this.fillType6=_E(this.primaryColor,{h:128}),this.fillType7=_E(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||_E(this.primaryColor,{h:30}),this.cScale4=this.cScale4||_E(this.primaryColor,{h:60}),this.cScale5=this.cScale5||_E(this.primaryColor,{h:90}),this.cScale6=this.cScale6||_E(this.primaryColor,{h:120}),this.cScale7=this.cScale7||_E(this.primaryColor,{h:150}),this.cScale8=this.cScale8||_E(this.primaryColor,{h:210}),this.cScale9=this.cScale9||_E(this.primaryColor,{h:270}),this.cScale10=this.cScale10||_E(this.primaryColor,{h:300}),this.cScale11=this.cScale11||_E(this.primaryColor,{h:330});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||wE(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScalePeer"+e]=this["cScalePeer"+e]||TE(this["cScale"+e],10);for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||_E(this.mainBkg,{h:30,s:-30,l:-(4*e-10)}),this["surfacePeer"+e]=this["surfacePeer"+e]||_E(this.mainBkg,{h:30,s:-30,l:-(4*e-7)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||_E(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||_E(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||_E(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||_E(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||_E(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||_E(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||gE(this.quadrant1Fill)?TE(this.quadrant1Fill):bE(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?bE(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=TE(this.secondaryColor,20),this.git1=TE(this.pie2||this.secondaryColor,20),this.git2=TE(this.pie3||this.tertiaryColor,20),this.git3=TE(this.pie4||_E(this.primaryColor,{h:-30}),20),this.git4=TE(this.pie5||_E(this.primaryColor,{h:-60}),20),this.git5=TE(this.pie6||_E(this.primaryColor,{h:-90}),10),this.git6=TE(this.pie7||_E(this.primaryColor,{h:60}),10),this.git7=TE(this.pie8||_E(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||wE(this.git0),this.gitInv1=this.gitInv1||wE(this.git1),this.gitInv2=this.gitInv2||wE(this.git2),this.gitInv3=this.gitInv3||wE(this.git3),this.gitInv4=this.gitInv4||wE(this.git4),this.gitInv5=this.gitInv5||wE(this.git5),this.gitInv6=this.gitInv6||wE(this.git6),this.gitInv7=this.gitInv7||wE(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||wE(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||wE(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||TE(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||TE(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(e){if("object"!=typeof e)return void this.updateColors();let t=Object.keys(e);t.forEach((t=>{this[t]=e[t]})),this.updateColors(),t.forEach((t=>{this[t]=e[t]}))}},ME=o((e=>{let t=new OE;return t.calculate(e),t}),"getThemeVariables"),PE=class{static{o(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=_E(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=_E(this.primaryColor,{h:-160}),this.primaryBorderColor=LE(this.primaryColor,this.darkMode),this.secondaryBorderColor=LE(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=LE(this.tertiaryColor,this.darkMode),this.primaryTextColor=wE(this.primaryColor),this.secondaryTextColor=wE(this.secondaryColor),this.tertiaryTextColor=wE(this.tertiaryColor),this.lineColor=wE(this.background),this.textColor=wE(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=cE(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd="calculated",this.rowEven="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||_E(this.primaryColor,{h:30}),this.cScale4=this.cScale4||_E(this.primaryColor,{h:60}),this.cScale5=this.cScale5||_E(this.primaryColor,{h:90}),this.cScale6=this.cScale6||_E(this.primaryColor,{h:120}),this.cScale7=this.cScale7||_E(this.primaryColor,{h:150}),this.cScale8=this.cScale8||_E(this.primaryColor,{h:210}),this.cScale9=this.cScale9||_E(this.primaryColor,{h:270}),this.cScale10=this.cScale10||_E(this.primaryColor,{h:300}),this.cScale11=this.cScale11||_E(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||bE(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||bE(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=bE(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||bE(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||_E(this["cScale"+e],{h:180});for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||_E(this.mainBkg,{h:30,l:-(5+5*e)}),this["surfacePeer"+e]=this["surfacePeer"+e]||_E(this.mainBkg,{h:30,l:-(7+5*e)});if(this.scaleLabelColor="calculated"!==this.scaleLabelColor&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,"calculated"!==this.labelTextColor){this.cScaleLabel0=this.cScaleLabel0||wE(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||wE(this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=TE(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||TE(this.primaryColor,75)||"#ffffff",this.rowEven=this.rowEven||TE(this.primaryColor,1),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=_E(this.primaryColor,{h:64}),this.fillType3=_E(this.secondaryColor,{h:64}),this.fillType4=_E(this.primaryColor,{h:-64}),this.fillType5=_E(this.secondaryColor,{h:-64}),this.fillType6=_E(this.primaryColor,{h:128}),this.fillType7=_E(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||_E(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||_E(this.primaryColor,{l:-10}),this.pie5=this.pie5||_E(this.secondaryColor,{l:-30}),this.pie6=this.pie6||_E(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||_E(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||_E(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||_E(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||_E(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||_E(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||_E(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||_E(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||_E(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||_E(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||_E(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||_E(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||_E(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||gE(this.quadrant1Fill)?TE(this.quadrant1Fill):bE(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||_E(this.primaryColor,{h:-30}),this.git4=this.git4||_E(this.primaryColor,{h:-60}),this.git5=this.git5||_E(this.primaryColor,{h:-90}),this.git6=this.git6||_E(this.primaryColor,{h:60}),this.git7=this.git7||_E(this.primaryColor,{h:120}),this.darkMode?(this.git0=TE(this.git0,25),this.git1=TE(this.git1,25),this.git2=TE(this.git2,25),this.git3=TE(this.git3,25),this.git4=TE(this.git4,25),this.git5=TE(this.git5,25),this.git6=TE(this.git6,25),this.git7=TE(this.git7,25)):(this.git0=bE(this.git0,25),this.git1=bE(this.git1,25),this.git2=bE(this.git2,25),this.git3=bE(this.git3,25),this.git4=bE(this.git4,25),this.git5=bE(this.git5,25),this.git6=bE(this.git6,25),this.git7=bE(this.git7,25)),this.gitInv0=this.gitInv0||bE(wE(this.git0),25),this.gitInv1=this.gitInv1||wE(this.git1),this.gitInv2=this.gitInv2||wE(this.git2),this.gitInv3=this.gitInv3||wE(this.git3),this.gitInv4=this.gitInv4||wE(this.git4),this.gitInv5=this.gitInv5||wE(this.git5),this.gitInv6=this.gitInv6||wE(this.git6),this.gitInv7=this.gitInv7||wE(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||wE(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||wE(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||RE,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||$E}calculate(e){if(Object.keys(this).forEach((e=>{"calculated"===this[e]&&(this[e]=void 0)})),"object"!=typeof e)return void this.updateColors();let t=Object.keys(e);t.forEach((t=>{this[t]=e[t]})),this.updateColors(),t.forEach((t=>{this[t]=e[t]}))}},BE=o((e=>{let t=new PE;return t.calculate(e),t}),"getThemeVariables"),FE=class{static{o(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=TE("#cde498",10),this.primaryBorderColor=LE(this.primaryColor,this.darkMode),this.secondaryBorderColor=LE(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=LE(this.tertiaryColor,this.darkMode),this.primaryTextColor=wE(this.primaryColor),this.secondaryTextColor=wE(this.secondaryColor),this.tertiaryTextColor=wE(this.primaryColor),this.lineColor=wE(this.background),this.textColor=wE(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.actorBorder=bE(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||_E(this.primaryColor,{h:30}),this.cScale4=this.cScale4||_E(this.primaryColor,{h:60}),this.cScale5=this.cScale5||_E(this.primaryColor,{h:90}),this.cScale6=this.cScale6||_E(this.primaryColor,{h:120}),this.cScale7=this.cScale7||_E(this.primaryColor,{h:150}),this.cScale8=this.cScale8||_E(this.primaryColor,{h:210}),this.cScale9=this.cScale9||_E(this.primaryColor,{h:270}),this.cScale10=this.cScale10||_E(this.primaryColor,{h:300}),this.cScale11=this.cScale11||_E(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||bE(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||bE(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=bE(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||bE(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||_E(this["cScale"+e],{h:180});this.scaleLabelColor="calculated"!==this.scaleLabelColor&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||_E(this.mainBkg,{h:30,s:-30,l:-(5+5*e)}),this["surfacePeer"+e]=this["surfacePeer"+e]||_E(this.mainBkg,{h:30,s:-30,l:-(8+5*e)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||TE(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||TE(this.mainBkg,20),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=_E(this.primaryColor,{h:64}),this.fillType3=_E(this.secondaryColor,{h:64}),this.fillType4=_E(this.primaryColor,{h:-64}),this.fillType5=_E(this.secondaryColor,{h:-64}),this.fillType6=_E(this.primaryColor,{h:128}),this.fillType7=_E(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||_E(this.primaryColor,{l:-30}),this.pie5=this.pie5||_E(this.secondaryColor,{l:-30}),this.pie6=this.pie6||_E(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||_E(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||_E(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||_E(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||_E(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||_E(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||_E(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||_E(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||_E(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||_E(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||_E(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||_E(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||_E(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||gE(this.quadrant1Fill)?TE(this.quadrant1Fill):bE(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||_E(this.primaryColor,{h:-30}),this.git4=this.git4||_E(this.primaryColor,{h:-60}),this.git5=this.git5||_E(this.primaryColor,{h:-90}),this.git6=this.git6||_E(this.primaryColor,{h:60}),this.git7=this.git7||_E(this.primaryColor,{h:120}),this.darkMode?(this.git0=TE(this.git0,25),this.git1=TE(this.git1,25),this.git2=TE(this.git2,25),this.git3=TE(this.git3,25),this.git4=TE(this.git4,25),this.git5=TE(this.git5,25),this.git6=TE(this.git6,25),this.git7=TE(this.git7,25)):(this.git0=bE(this.git0,25),this.git1=bE(this.git1,25),this.git2=bE(this.git2,25),this.git3=bE(this.git3,25),this.git4=bE(this.git4,25),this.git5=bE(this.git5,25),this.git6=bE(this.git6,25),this.git7=bE(this.git7,25)),this.gitInv0=this.gitInv0||wE(this.git0),this.gitInv1=this.gitInv1||wE(this.git1),this.gitInv2=this.gitInv2||wE(this.git2),this.gitInv3=this.gitInv3||wE(this.git3),this.gitInv4=this.gitInv4||wE(this.git4),this.gitInv5=this.gitInv5||wE(this.git5),this.gitInv6=this.gitInv6||wE(this.git6),this.gitInv7=this.gitInv7||wE(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||wE(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||wE(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||RE,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||$E}calculate(e){if("object"!=typeof e)return void this.updateColors();let t=Object.keys(e);t.forEach((t=>{this[t]=e[t]})),this.updateColors(),t.forEach((t=>{this[t]=e[t]}))}},DE=o((e=>{let t=new FE;return t.calculate(e),t}),"getThemeVariables"),UE=class{static{o(this,"Theme")}constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=TE(this.contrast,55),this.background="#ffffff",this.tertiaryColor=_E(this.primaryColor,{h:-160}),this.primaryBorderColor=LE(this.primaryColor,this.darkMode),this.secondaryBorderColor=LE(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=LE(this.tertiaryColor,this.darkMode),this.primaryTextColor=wE(this.primaryColor),this.secondaryTextColor=wE(this.secondaryColor),this.tertiaryTextColor=wE(this.tertiaryColor),this.lineColor=wE(this.background),this.textColor=wE(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||TE(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||"#f4f4f4",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=TE(this.contrast,55),this.border2=this.contrast,this.actorBorder=TE(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||wE(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this.darkMode?this["cScalePeer"+e]=this["cScalePeer"+e]||TE(this["cScale"+e],10):this["cScalePeer"+e]=this["cScalePeer"+e]||bE(this["cScale"+e],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||_E(this.mainBkg,{l:-(5+5*e)}),this["surfacePeer"+e]=this["surfacePeer"+e]||_E(this.mainBkg,{l:-(8+5*e)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=TE(this.contrast,30),this.sectionBkgColor2=TE(this.contrast,30),this.taskBorderColor=bE(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=TE(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=bE(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=_E(this.primaryColor,{h:64}),this.fillType3=_E(this.secondaryColor,{h:64}),this.fillType4=_E(this.primaryColor,{h:-64}),this.fillType5=_E(this.secondaryColor,{h:-64}),this.fillType6=_E(this.primaryColor,{h:128}),this.fillType7=_E(this.secondaryColor,{h:128});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||_E(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||_E(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||_E(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||_E(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||_E(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||_E(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||gE(this.quadrant1Fill)?TE(this.quadrant1Fill):bE(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=bE(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||_E(this.primaryColor,{h:-30}),this.git4=this.pie5||_E(this.primaryColor,{h:-60}),this.git5=this.pie6||_E(this.primaryColor,{h:-90}),this.git6=this.pie7||_E(this.primaryColor,{h:60}),this.git7=this.pie8||_E(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||wE(this.git0),this.gitInv1=this.gitInv1||wE(this.git1),this.gitInv2=this.gitInv2||wE(this.git2),this.gitInv3=this.gitInv3||wE(this.git3),this.gitInv4=this.gitInv4||wE(this.git4),this.gitInv5=this.gitInv5||wE(this.git5),this.gitInv6=this.gitInv6||wE(this.git6),this.gitInv7=this.gitInv7||wE(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||RE,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||$E}calculate(e){if("object"!=typeof e)return void this.updateColors();let t=Object.keys(e);t.forEach((t=>{this[t]=e[t]})),this.updateColors(),t.forEach((t=>{this[t]=e[t]}))}},zE=o((e=>{let t=new UE;return t.calculate(e),t}),"getThemeVariables"),jE={base:{getThemeVariables:NE},dark:{getThemeVariables:ME},default:{getThemeVariables:BE},forest:{getThemeVariables:DE},neutral:{getThemeVariables:zE}},GE={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,nodeSpacing:140,rankSpacing:80,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},radar:{useMaxWidth:!0,width:600,height:600,marginTop:50,marginRight:50,marginBottom:50,marginLeft:50,axisScaleFactor:1,axisLabelFactor:1.05,curveTension:.17},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},WE={...GE,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF"},themeCSS:void 0,themeVariables:jE.default.getThemeVariables(),sequence:{...GE.sequence,messageFont:o((function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}}),"messageFont"),noteFont:o((function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}}),"noteFont"),actorFont:o((function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}),"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...GE.gantt,tickInterval:void 0,useWidth:void 0},c4:{...GE.c4,useWidth:void 0,personFont:o((function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}}),"personFont"),external_personFont:o((function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}}),"external_personFont"),systemFont:o((function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}}),"systemFont"),external_systemFont:o((function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}}),"external_systemFont"),system_dbFont:o((function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}}),"system_dbFont"),external_system_dbFont:o((function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}}),"external_system_dbFont"),system_queueFont:o((function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}}),"system_queueFont"),external_system_queueFont:o((function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}}),"external_system_queueFont"),containerFont:o((function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}}),"containerFont"),external_containerFont:o((function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}}),"external_containerFont"),container_dbFont:o((function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}}),"container_dbFont"),external_container_dbFont:o((function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}}),"external_container_dbFont"),container_queueFont:o((function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}}),"container_queueFont"),external_container_queueFont:o((function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}}),"external_container_queueFont"),componentFont:o((function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}}),"componentFont"),external_componentFont:o((function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}}),"external_componentFont"),component_dbFont:o((function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}}),"component_dbFont"),external_component_dbFont:o((function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}}),"external_component_dbFont"),component_queueFont:o((function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}}),"component_queueFont"),external_component_queueFont:o((function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}}),"external_component_queueFont"),boundaryFont:o((function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}}),"boundaryFont"),messageFont:o((function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}}),"messageFont")},pie:{...GE.pie,useWidth:984},xyChart:{...GE.xyChart,useWidth:void 0},requirement:{...GE.requirement,useWidth:void 0},packet:{...GE.packet},radar:{...GE.radar}},qE=o(((e,t="")=>Object.keys(e).reduce(((r,i)=>Array.isArray(e[i])?r:"object"==typeof e[i]&&null!==e[i]?[...r,t+i,...qE(e[i],"")]:[...r,t+i]),[])),"keyify"),HE=new Set(qE(WE,"")),VE=WE,KE=o((e=>{if(_A.debug("sanitizeDirective called with",e),"object"==typeof e&&null!=e){if(Array.isArray(e))return void e.forEach((e=>KE(e)));for(let t of Object.keys(e)){if(_A.debug("Checking key",t),t.startsWith("__")||t.includes("proto")||t.includes("constr")||!HE.has(t)||null==e[t]){_A.debug("sanitize deleting key: ",t),delete e[t];continue}if("object"==typeof e[t]){_A.debug("sanitizing object",t),KE(e[t]);continue}let r=["themeCSS","fontFamily","altFontFamily"];for(let i of r)t.includes(i)&&(_A.debug("sanitizing css option",t),e[t]=YE(e[t]))}if(e.themeVariables)for(let t of Object.keys(e.themeVariables)){let r=e.themeVariables[t];r?.match&&!r.match(/^[\d "#%(),.;A-Za-z]+$/)&&(e.themeVariables[t]="")}_A.debug("After sanitization",e)}}),"sanitizeDirective"),YE=o((e=>{let t=0,r=0;for(let i of e){if(t<r)return"{ /* ERROR: Unbalanced CSS */ }";"{"===i?t++:"}"===i&&r++}return t!==r?"{ /* ERROR: Unbalanced CSS */ }":e}),"sanitizeCss"),XE=Object.freeze(VE),JE=MA({},XE),ZE=[],QE=MA({},XE),ew=o(((e,t)=>{let r=MA({},e),i={};for(let e of t)rw(e),i=MA(i,e);if(r=MA(r,i),i.theme&&i.theme in jE){let e=MA({},uE),t=MA(e.themeVariables||{},i.themeVariables);r.theme&&r.theme in jE&&(r.themeVariables=jE[r.theme].getThemeVariables(t))}return ow(QE=r),QE}),"updateCurrentConfig");o((e=>(JE=MA({},XE),JE=MA(JE,e),e.theme&&jE[e.theme]&&(JE.themeVariables=jE[e.theme].getThemeVariables(e.themeVariables)),ew(JE,ZE),JE)),"setSiteConfig"),o((e=>{uE=MA({},e)}),"saveConfigFromInitialize"),o((e=>(JE=MA(JE,e),ew(JE,ZE),JE)),"updateSiteConfig"),o((()=>MA({},JE)),"getSiteConfig"),o((e=>(ow(e),MA(QE,e),tw())),"setConfig");var tw=o((()=>MA({},QE)),"getConfig"),rw=o((e=>{e&&(["secure",...JE.secure??[]].forEach((t=>{Object.hasOwn(e,t)&&(_A.debug(`Denied attempt to modify a secure key ${t}`,e[t]),delete e[t])})),Object.keys(e).forEach((t=>{t.startsWith("__")&&delete e[t]})),Object.keys(e).forEach((t=>{"string"==typeof e[t]&&(e[t].includes("<")||e[t].includes(">")||e[t].includes("url(data:"))&&delete e[t],"object"==typeof e[t]&&rw(e[t])})))}),"sanitize");o((e=>{KE(e),e.fontFamily&&!e.themeVariables?.fontFamily&&(e.themeVariables={...e.themeVariables,fontFamily:e.fontFamily}),ZE.push(e),ew(JE,ZE)}),"addDirective"),o(((e=JE)=>{ew(e,ZE=[])}),"reset");var iw={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},nw={},aw=o((e=>{nw[e]||(_A.warn(iw[e]),nw[e]=!0)}),"issueWarning"),ow=o((e=>{e&&(e.lazyLoadedDiagrams||e.loadExternalDiagramsAtStartup)&&aw("LAZY_LOAD_DEPRECATED")}),"checkConfig"),{entries:sw,setPrototypeOf:lw,isFrozen:cw,getPrototypeOf:uw,getOwnPropertyDescriptor:hw}=Object,{freeze:dw,seal:fw,create:pw}=Object,{apply:mw,construct:gw}=typeof Reflect<"u"&&Reflect;dw||(dw=o((function(e){return e}),"freeze")),fw||(fw=o((function(e){return e}),"seal")),mw||(mw=o((function(e,t,r){return e.apply(t,r)}),"apply")),gw||(gw=o((function(e,t){return new e(...t)}),"construct"));var yw=Lw(Array.prototype.forEach),vw=Lw(Array.prototype.lastIndexOf),xw=Lw(Array.prototype.pop),Tw=Lw(Array.prototype.push),Cw=Lw(Array.prototype.splice),bw=Lw(String.prototype.toLowerCase),kw=Lw(String.prototype.toString),_w=Lw(String.prototype.match),Sw=Lw(String.prototype.replace),Aw=Lw(String.prototype.indexOf),Ew=Lw(String.prototype.trim),ww=Lw(Object.prototype.hasOwnProperty),Rw=Lw(RegExp.prototype.test),$w=Iw(TypeError);function Lw(e){return function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];return mw(e,t,i)}}function Iw(e){return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return gw(e,r)}}function Nw(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bw;lw&&lw(e,null);let i=t.length;for(;i--;){let n=t[i];if("string"==typeof n){let e=r(n);e!==n&&(cw(t)||(t[i]=e),n=e)}e[n]=!0}return e}function Ow(e){for(let t=0;t<e.length;t++)ww(e,t)||(e[t]=null);return e}function Mw(e){let t=pw(null);for(let[r,i]of sw(e))ww(e,r)&&(Array.isArray(i)?t[r]=Ow(i):i&&"object"==typeof i&&i.constructor===Object?t[r]=Mw(i):t[r]=i);return t}function Pw(e,t){for(;null!==e;){let r=hw(e,t);if(r){if(r.get)return Lw(r.get);if("function"==typeof r.value)return Lw(r.value)}e=uw(e)}function r(){return null}return o(r,"fallbackValue"),r}o(Lw,"unapply"),o(Iw,"unconstruct"),o(Nw,"addToSet"),o(Ow,"cleanArray"),o(Mw,"clone"),o(Pw,"lookupGetter");var Bw=dw(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Fw=dw(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Dw=dw(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Uw=dw(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),zw=dw(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),jw=dw(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Gw=dw(["#text"]),Ww=dw(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),qw=dw(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Hw=dw(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Vw=dw(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Kw=fw(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Yw=fw(/<%[\w\W]*|[\w\W]*%>/gm),Xw=fw(/\$\{[\w\W]*/gm),Jw=fw(/^data-[\-\w.\u00B7-\uFFFF]+$/),Zw=fw(/^aria-[\-\w]+$/),Qw=fw(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),eR=fw(/^(?:\w+script|data):/i),tR=fw(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),rR=fw(/^html$/i),iR=fw(/^[a-z][.\w]*(-[.\w]+)+$/i),nR=Object.freeze({__proto__:null,ARIA_ATTR:Zw,ATTR_WHITESPACE:tR,CUSTOM_ELEMENT:iR,DATA_ATTR:Jw,DOCTYPE_NAME:rR,ERB_EXPR:Yw,IS_ALLOWED_URI:Qw,IS_SCRIPT_OR_DATA:eR,MUSTACHE_EXPR:Kw,TMPLIT_EXPR:Xw}),aR=1,oR=3,sR=7,lR=8,cR=9,uR=o((function(){return typeof window>"u"?null:window}),"getGlobal"),hR=o((function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let r=null,i="data-tt-policy-suffix";t&&t.hasAttribute(i)&&(r=t.getAttribute(i));let n="dompurify"+(r?"#"+r:"");try{return e.createPolicy(n,{createHTML:e=>e,createScriptURL:e=>e})}catch{return console.warn("TrustedTypes policy "+n+" could not be created."),null}}),"_createTrustedTypesPolicy"),dR=o((function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}}),"_createHooksMap");function fR(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uR(),t=o((e=>fR(e)),"DOMPurify");if(t.version="3.2.4",t.removed=[],!e||!e.document||e.document.nodeType!==cR||!e.Element)return t.isSupported=!1,t;let{document:r}=e,i=r,n=i.currentScript,{DocumentFragment:a,HTMLTemplateElement:s,Node:l,Element:c,NodeFilter:u,NamedNodeMap:h=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:d,DOMParser:f,trustedTypes:p}=e,m=c.prototype,g=Pw(m,"cloneNode"),y=Pw(m,"remove"),v=Pw(m,"nextSibling"),x=Pw(m,"childNodes"),T=Pw(m,"parentNode");if("function"==typeof s){let e=r.createElement("template");e.content&&e.content.ownerDocument&&(r=e.content.ownerDocument)}let C,b="",{implementation:k,createNodeIterator:_,createDocumentFragment:S,getElementsByTagName:A}=r,{importNode:E}=i,w=dR();t.isSupported="function"==typeof sw&&"function"==typeof T&&k&&void 0!==k.createHTMLDocument;let{MUSTACHE_EXPR:R,ERB_EXPR:$,TMPLIT_EXPR:L,DATA_ATTR:I,ARIA_ATTR:N,IS_SCRIPT_OR_DATA:O,ATTR_WHITESPACE:M,CUSTOM_ELEMENT:P}=nR,{IS_ALLOWED_URI:B}=nR,F=null,D=Nw({},[...Bw,...Fw,...Dw,...zw,...Gw]),U=null,z=Nw({},[...Ww,...qw,...Hw,...Vw]),j=Object.seal(pw(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),G=null,W=null,q=!0,H=!0,V=!1,K=!0,Y=!1,X=!0,J=!1,Z=!1,Q=!1,ee=!1,te=!1,re=!1,ie=!0,ne=!1,ae=!0,oe=!1,se={},le=null,ce=Nw({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ue=null,he=Nw({},["audio","video","img","source","image","track"]),de=null,fe=Nw({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),pe="http://www.w3.org/1998/Math/MathML",me="http://www.w3.org/2000/svg",ge="http://www.w3.org/1999/xhtml",ye=ge,ve=!1,xe=null,Te=Nw({},[pe,me,ge],kw),Ce=Nw({},["mi","mo","mn","ms","mtext"]),be=Nw({},["annotation-xml"]),ke=Nw({},["title","style","font","a","script"]),_e=null,Se=["application/xhtml+xml","text/html"],Ae=null,Ee=null,we=r.createElement("form"),Re=o((function(e){return e instanceof RegExp||e instanceof Function}),"isRegexOrFunction"),$e=o((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Ee||Ee!==e){if((!e||"object"!=typeof e)&&(e={}),e=Mw(e),_e=-1===Se.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,Ae="application/xhtml+xml"===_e?kw:bw,F=ww(e,"ALLOWED_TAGS")?Nw({},e.ALLOWED_TAGS,Ae):D,U=ww(e,"ALLOWED_ATTR")?Nw({},e.ALLOWED_ATTR,Ae):z,xe=ww(e,"ALLOWED_NAMESPACES")?Nw({},e.ALLOWED_NAMESPACES,kw):Te,de=ww(e,"ADD_URI_SAFE_ATTR")?Nw(Mw(fe),e.ADD_URI_SAFE_ATTR,Ae):fe,ue=ww(e,"ADD_DATA_URI_TAGS")?Nw(Mw(he),e.ADD_DATA_URI_TAGS,Ae):he,le=ww(e,"FORBID_CONTENTS")?Nw({},e.FORBID_CONTENTS,Ae):ce,G=ww(e,"FORBID_TAGS")?Nw({},e.FORBID_TAGS,Ae):{},W=ww(e,"FORBID_ATTR")?Nw({},e.FORBID_ATTR,Ae):{},se=!!ww(e,"USE_PROFILES")&&e.USE_PROFILES,q=!1!==e.ALLOW_ARIA_ATTR,H=!1!==e.ALLOW_DATA_ATTR,V=e.ALLOW_UNKNOWN_PROTOCOLS||!1,K=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,Y=e.SAFE_FOR_TEMPLATES||!1,X=!1!==e.SAFE_FOR_XML,J=e.WHOLE_DOCUMENT||!1,ee=e.RETURN_DOM||!1,te=e.RETURN_DOM_FRAGMENT||!1,re=e.RETURN_TRUSTED_TYPE||!1,Q=e.FORCE_BODY||!1,ie=!1!==e.SANITIZE_DOM,ne=e.SANITIZE_NAMED_PROPS||!1,ae=!1!==e.KEEP_CONTENT,oe=e.IN_PLACE||!1,B=e.ALLOWED_URI_REGEXP||Qw,ye=e.NAMESPACE||ge,Ce=e.MATHML_TEXT_INTEGRATION_POINTS||Ce,be=e.HTML_INTEGRATION_POINTS||be,j=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&Re(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(j.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Re(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(j.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(j.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Y&&(H=!1),te&&(ee=!0),se&&(F=Nw({},Gw),U=[],!0===se.html&&(Nw(F,Bw),Nw(U,Ww)),!0===se.svg&&(Nw(F,Fw),Nw(U,qw),Nw(U,Vw)),!0===se.svgFilters&&(Nw(F,Dw),Nw(U,qw),Nw(U,Vw)),!0===se.mathMl&&(Nw(F,zw),Nw(U,Hw),Nw(U,Vw))),e.ADD_TAGS&&(F===D&&(F=Mw(F)),Nw(F,e.ADD_TAGS,Ae)),e.ADD_ATTR&&(U===z&&(U=Mw(U)),Nw(U,e.ADD_ATTR,Ae)),e.ADD_URI_SAFE_ATTR&&Nw(de,e.ADD_URI_SAFE_ATTR,Ae),e.FORBID_CONTENTS&&(le===ce&&(le=Mw(le)),Nw(le,e.FORBID_CONTENTS,Ae)),ae&&(F["#text"]=!0),J&&Nw(F,["html","head","body"]),F.table&&(Nw(F,["tbody"]),delete G.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw $w('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw $w('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');C=e.TRUSTED_TYPES_POLICY,b=C.createHTML("")}else void 0===C&&(C=hR(p,n)),null!==C&&"string"==typeof b&&(b=C.createHTML(""));dw&&dw(e),Ee=e}}),"_parseConfig"),Le=Nw({},[...Fw,...Dw,...Uw]),Ie=Nw({},[...zw,...jw]),Ne=o((function(e){let t=T(e);(!t||!t.tagName)&&(t={namespaceURI:ye,tagName:"template"});let r=bw(e.tagName),i=bw(t.tagName);return!!xe[e.namespaceURI]&&(e.namespaceURI===me?t.namespaceURI===ge?"svg"===r:t.namespaceURI===pe?"svg"===r&&("annotation-xml"===i||Ce[i]):!!Le[r]:e.namespaceURI===pe?t.namespaceURI===ge?"math"===r:t.namespaceURI===me?"math"===r&&be[i]:!!Ie[r]:e.namespaceURI===ge?!(t.namespaceURI===me&&!be[i]||t.namespaceURI===pe&&!Ce[i])&&(!Ie[r]&&(ke[r]||!Le[r])):!("application/xhtml+xml"!==_e||!xe[e.namespaceURI]))}),"_checkValidNamespace"),Oe=o((function(e){Tw(t.removed,{element:e});try{T(e).removeChild(e)}catch{y(e)}}),"_forceRemove"),Me=o((function(e,r){try{Tw(t.removed,{attribute:r.getAttributeNode(e),from:r})}catch{Tw(t.removed,{attribute:null,from:r})}if(r.removeAttribute(e),"is"===e)if(ee||te)try{Oe(r)}catch{}else try{r.setAttribute(e,"")}catch{}}),"_removeAttribute"),Pe=o((function(e){let t=null,i=null;if(Q)e="<remove></remove>"+e;else{let t=_w(e,/^[\r\n\t ]+/);i=t&&t[0]}"application/xhtml+xml"===_e&&ye===ge&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");let n=C?C.createHTML(e):e;if(ye===ge)try{t=(new f).parseFromString(n,_e)}catch{}if(!t||!t.documentElement){t=k.createDocument(ye,"template",null);try{t.documentElement.innerHTML=ve?b:n}catch{}}let a=t.body||t.documentElement;return e&&i&&a.insertBefore(r.createTextNode(i),a.childNodes[0]||null),ye===ge?A.call(t,J?"html":"body")[0]:J?t.documentElement:a}),"_initDocument"),Be=o((function(e){return _.call(e.ownerDocument||e,e,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)}),"_createNodeIterator"),Fe=o((function(e){return e instanceof d&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof h)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)}),"_isClobbered"),De=o((function(e){return"function"==typeof l&&e instanceof l}),"_isNode");function Ue(e,r,i){yw(e,(e=>{e.call(t,r,i,Ee)}))}o(Ue,"_executeHooks");let ze=o((function(e){let r=null;if(Ue(w.beforeSanitizeElements,e,null),Fe(e))return Oe(e),!0;let i=Ae(e.nodeName);if(Ue(w.uponSanitizeElement,e,{tagName:i,allowedTags:F}),e.hasChildNodes()&&!De(e.firstElementChild)&&Rw(/<[/\w]/g,e.innerHTML)&&Rw(/<[/\w]/g,e.textContent)||e.nodeType===sR||X&&e.nodeType===lR&&Rw(/<[/\w]/g,e.data))return Oe(e),!0;if(!F[i]||G[i]){if(!G[i]&&Ge(i)&&(j.tagNameCheck instanceof RegExp&&Rw(j.tagNameCheck,i)||j.tagNameCheck instanceof Function&&j.tagNameCheck(i)))return!1;if(ae&&!le[i]){let t=T(e)||e.parentNode,r=x(e)||e.childNodes;if(r&&t){for(let i=r.length-1;i>=0;--i){let n=g(r[i],!0);n.__removalCount=(e.__removalCount||0)+1,t.insertBefore(n,v(e))}}}return Oe(e),!0}return e instanceof c&&!Ne(e)||("noscript"===i||"noembed"===i||"noframes"===i)&&Rw(/<\/no(script|embed|frames)/i,e.innerHTML)?(Oe(e),!0):(Y&&e.nodeType===oR&&(r=e.textContent,yw([R,$,L],(e=>{r=Sw(r,e," ")})),e.textContent!==r&&(Tw(t.removed,{element:e.cloneNode()}),e.textContent=r)),Ue(w.afterSanitizeElements,e,null),!1)}),"_sanitizeElements"),je=o((function(e,t,i){if(ie&&("id"===t||"name"===t)&&(i in r||i in we))return!1;if((!H||W[t]||!Rw(I,t))&&(!q||!Rw(N,t)))if(!U[t]||W[t]){if(!(Ge(e)&&(j.tagNameCheck instanceof RegExp&&Rw(j.tagNameCheck,e)||j.tagNameCheck instanceof Function&&j.tagNameCheck(e))&&(j.attributeNameCheck instanceof RegExp&&Rw(j.attributeNameCheck,t)||j.attributeNameCheck instanceof Function&&j.attributeNameCheck(t))||"is"===t&&j.allowCustomizedBuiltInElements&&(j.tagNameCheck instanceof RegExp&&Rw(j.tagNameCheck,i)||j.tagNameCheck instanceof Function&&j.tagNameCheck(i))))return!1}else if(!de[t]&&!Rw(B,Sw(i,M,""))&&("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==Aw(i,"data:")||!ue[e])&&(!V||Rw(O,Sw(i,M,"")))&&i)return!1;return!0}),"_isValidAttribute"),Ge=o((function(e){return"annotation-xml"!==e&&_w(e,P)}),"_isBasicCustomElement"),We=o((function(e){Ue(w.beforeSanitizeAttributes,e,null);let{attributes:r}=e;if(!r||Fe(e))return;let i={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:U,forceKeepAttr:void 0},n=r.length;for(;n--;){let a=r[n],{name:o,namespaceURI:s,value:l}=a,c=Ae(o),u="value"===o?l:Ew(l);if(i.attrName=c,i.attrValue=u,i.keepAttr=!0,i.forceKeepAttr=void 0,Ue(w.uponSanitizeAttribute,e,i),u=i.attrValue,ne&&("id"===c||"name"===c)&&(Me(o,e),u="user-content-"+u),X&&Rw(/((--!?|])>)|<\/(style|title)/i,u)){Me(o,e);continue}if(i.forceKeepAttr||(Me(o,e),!i.keepAttr))continue;if(!K&&Rw(/\/>/i,u)){Me(o,e);continue}Y&&yw([R,$,L],(e=>{u=Sw(u,e," ")}));let h=Ae(e.nodeName);if(je(h,c,u)){if(C&&"object"==typeof p&&"function"==typeof p.getAttributeType&&!s)switch(p.getAttributeType(h,c)){case"TrustedHTML":u=C.createHTML(u);break;case"TrustedScriptURL":u=C.createScriptURL(u)}try{s?e.setAttributeNS(s,o,u):e.setAttribute(o,u),Fe(e)?Oe(e):xw(t.removed)}catch{}}}Ue(w.afterSanitizeAttributes,e,null)}),"_sanitizeAttributes"),qe=o((function e(t){let r=null,i=Be(t);for(Ue(w.beforeSanitizeShadowDOM,t,null);r=i.nextNode();)Ue(w.uponSanitizeShadowNode,r,null),ze(r),We(r),r.content instanceof a&&e(r.content);Ue(w.afterSanitizeShadowDOM,t,null)}),"_sanitizeShadowDOM");return t.sanitize=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,o=null,s=null,c=null;if(ve=!e,ve&&(e="\x3c!--\x3e"),"string"!=typeof e&&!De(e)){if("function"!=typeof e.toString)throw $w("toString is not a function");if("string"!=typeof(e=e.toString()))throw $w("dirty is not a string, aborting")}if(!t.isSupported)return e;if(Z||$e(r),t.removed=[],"string"==typeof e&&(oe=!1),oe){if(e.nodeName){let t=Ae(e.nodeName);if(!F[t]||G[t])throw $w("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof l)n=Pe("\x3c!----\x3e"),o=n.ownerDocument.importNode(e,!0),o.nodeType===aR&&"BODY"===o.nodeName||"HTML"===o.nodeName?n=o:n.appendChild(o);else{if(!ee&&!Y&&!J&&-1===e.indexOf("<"))return C&&re?C.createHTML(e):e;if(n=Pe(e),!n)return ee?null:re?b:""}n&&Q&&Oe(n.firstChild);let u=Be(oe?e:n);for(;s=u.nextNode();)ze(s),We(s),s.content instanceof a&&qe(s.content);if(oe)return e;if(ee){if(te)for(c=S.call(n.ownerDocument);n.firstChild;)c.appendChild(n.firstChild);else c=n;return(U.shadowroot||U.shadowrootmode)&&(c=E.call(i,c,!0)),c}let h=J?n.outerHTML:n.innerHTML;return J&&F["!doctype"]&&n.ownerDocument&&n.ownerDocument.doctype&&n.ownerDocument.doctype.name&&Rw(rR,n.ownerDocument.doctype.name)&&(h="<!DOCTYPE "+n.ownerDocument.doctype.name+">\n"+h),Y&&yw([R,$,L],(e=>{h=Sw(h,e," ")})),C&&re?C.createHTML(h):h},t.setConfig=function(){$e(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Z=!0},t.clearConfig=function(){Ee=null,Z=!1},t.isValidAttribute=function(e,t,r){Ee||$e({});let i=Ae(e),n=Ae(t);return je(i,n,r)},t.addHook=function(e,t){"function"==typeof t&&Tw(w[e],t)},t.removeHook=function(e,t){if(void 0!==t){let r=vw(w[e],t);return-1===r?void 0:Cw(w[e],r,1)[0]}return xw(w[e])},t.removeHooks=function(e){w[e]=[]},t.removeAllHooks=function(){w=dR()},t}o(fR,"createDOMPurify");var pR=fR(),mR=/<br\s*\/?>/gi,gR=o((e=>e?AR(e).replace(/\\n/g,"#br#").split("#br#"):[""]),"getRows"),yR=(()=>{let e=!1;return()=>{e||(vR(),e=!0)}})();function vR(){let e="data-temp-href-target";pR.addHook("beforeSanitizeAttributes",(t=>{t instanceof Element&&"A"===t.tagName&&t.hasAttribute("target")&&t.setAttribute(e,t.getAttribute("target")??"")})),pR.addHook("afterSanitizeAttributes",(t=>{t instanceof Element&&"A"===t.tagName&&t.hasAttribute(e)&&(t.setAttribute("target",t.getAttribute(e)??""),t.removeAttribute(e),"_blank"===t.getAttribute("target")&&t.setAttribute("rel","noopener"))}))}o(vR,"setupDompurifyHooks");var xR=o((e=>(yR(),pR.sanitize(e))),"removeScript"),TR=o(((e,t)=>{if(!1!==t.flowchart?.htmlLabels){let r=t.securityLevel;"antiscript"===r||"strict"===r?e=xR(e):"loose"!==r&&(e=(e=(e=AR(e)).replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/=/g,"&equals;"),e=SR(e))}return e}),"sanitizeMore"),CR=o(((e,t)=>e&&(e=t.dompurifyConfig?pR.sanitize(TR(e,t),t.dompurifyConfig).toString():pR.sanitize(TR(e,t),{FORBID_TAGS:["style"]}).toString())),"sanitizeText"),bR=o(((e,t)=>"string"==typeof e?CR(e,t):e.flat().map((e=>CR(e,t)))),"sanitizeTextOrArray"),kR=o((e=>mR.test(e)),"hasBreaks"),_R=o((e=>e.split(mR)),"splitBreaks"),SR=o((e=>e.replace(/#br#/g,"<br/>")),"placeholderToBreak"),AR=o((e=>e.replace(mR,"#br#")),"breakToPlaceholder"),ER=o((e=>{let t="";return e&&(t=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,t=t.replaceAll(/\(/g,"\\("),t=t.replaceAll(/\)/g,"\\)")),t}),"getUrl"),wR=o((e=>!(!1===e||["false","null","0"].includes(String(e).trim().toLowerCase()))),"evaluate"),RR=o((function(...e){let t=e.filter((e=>!isNaN(e)));return Math.max(...t)}),"getMax"),$R=o((function(...e){let t=e.filter((e=>!isNaN(e)));return Math.min(...t)}),"getMin");o((function(e){let t=e.split(/(,)/),r=[];for(let e=0;e<t.length;e++){let i=t[e];if(","===i&&e>0&&e+1<t.length){let n=t[e-1],a=t[e+1];IR(n,a)&&(i=n+","+a,e++,r.pop())}r.push(NR(i))}return r.join("")}),"parseGenericTypes");var LR=o(((e,t)=>Math.max(0,e.split(t).length-1)),"countOccurrence"),IR=o(((e,t)=>{let r=LR(e,"~"),i=LR(t,"~");return 1===r&&1===i}),"shouldCombineSets"),NR=o((e=>{let t=LR(e,"~"),r=!1;if(t<=1)return e;t%2!=0&&e.startsWith("~")&&(e=e.substring(1),r=!0);let i=[...e],n=i.indexOf("~"),a=i.lastIndexOf("~");for(;-1!==n&&-1!==a&&n!==a;)i[n]="<",i[a]=">",n=i.indexOf("~"),a=i.lastIndexOf("~");return r&&i.unshift("~"),i.join("")}),"processSet"),OR=o((()=>void 0!==window.MathMLElement),"isMathMLSupported"),MR=/\$\$(.*)\$\$/g,PR=o((e=>(e.match(MR)?.length??0)>0),"hasKatex");o((async(e,t)=>{e=await BR(e,t);let r=document.createElement("div");r.innerHTML=e,r.id="katex-temp",r.style.visibility="hidden",r.style.position="absolute",r.style.top="0",document.querySelector("body")?.insertAdjacentElement("beforeend",r);let i={width:r.clientWidth,height:r.clientHeight};return r.remove(),i}),"calculateMathMLDimensions");var BR=o((async(e,t)=>{if(!PR(e))return e;if(!(OR()||t.legacyMathML||t.forceLegacyMathML))return e.replace(MR,"MathML is unsupported in this environment.");let{default:r}=await import("./katex-SWYD7GD6.mjs.f6ecca9c.js"),i=t.forceLegacyMathML||!OR()&&t.legacyMathML?"htmlAndMathml":"mathml";return e.split(mR).map((e=>PR(e)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${e}</div>`:`<div>${e}</div>`)).join("").replace(MR,((e,t)=>r.renderToString(t,{throwOnError:!0,displayMode:!0,output:i}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,"")))}),"renderKatex"),FR={getRows:gR,sanitizeText:CR,sanitizeTextOrArray:bR,hasBreaks:kR,splitBreaks:_R,lineBreakRegex:mR,removeScript:xR,getUrl:ER,evaluate:wR,getMax:RR,getMin:$R},DR=o((function(e,t){for(let r of t)e.attr(r[0],r[1])}),"d3Attrs"),UR=o((function(e,t,r){let i=new Map;return r?(i.set("width","100%"),i.set("style",`max-width: ${t}px;`)):(i.set("height",e),i.set("width",t)),i}),"calculateSvgSizeAttrs"),zR=o((function(e,t,r,i){let n=UR(t,r,i);DR(e,n)}),"configureSvgSize"),jR=o((function(e,t,r,i){let n=t.node().getBBox(),a=n.width,o=n.height;_A.info(`SVG bounds: ${a}x${o}`,n);let s=0,l=0;_A.info(`Graph bounds: ${s}x${l}`,e),s=a+2*r,l=o+2*r,_A.info(`Calculated bounds: ${s}x${l}`),zR(t,l,s,i);let c=`${n.x-r} ${n.y-r} ${n.width+2*r} ${n.height+2*r}`;t.attr("viewBox",c)}),"setupGraphViewbox"),GR={};o(((e,t,r)=>{let i="";return e in GR&&GR[e]?i=GR[e](r):_A.warn(`No theme found for ${e}`),` & {\n    font-family: ${r.fontFamily};\n    font-size: ${r.fontSize};\n    fill: ${r.textColor}\n  }\n  @keyframes edge-animation-frame {\n    from {\n      stroke-dashoffset: 0;\n    }\n  }\n  @keyframes dash {\n    to {\n      stroke-dashoffset: 0;\n    }\n  }\n  & .edge-animation-slow {\n    stroke-dasharray: 9,5 !important;\n    stroke-dashoffset: 900;\n    animation: dash 50s linear infinite;\n    stroke-linecap: round;\n  }\n  & .edge-animation-fast {\n    stroke-dasharray: 9,5 !important;\n    stroke-dashoffset: 900;\n    animation: dash 20s linear infinite;\n    stroke-linecap: round;\n  }\n  /* Classes common for multiple diagrams */\n\n  & .error-icon {\n    fill: ${r.errorBkgColor};\n  }\n  & .error-text {\n    fill: ${r.errorTextColor};\n    stroke: ${r.errorTextColor};\n  }\n\n  & .edge-thickness-normal {\n    stroke-width: 1px;\n  }\n  & .edge-thickness-thick {\n    stroke-width: 3.5px\n  }\n  & .edge-pattern-solid {\n    stroke-dasharray: 0;\n  }\n  & .edge-thickness-invisible {\n    stroke-width: 0;\n    fill: none;\n  }\n  & .edge-pattern-dashed{\n    stroke-dasharray: 3;\n  }\n  .edge-pattern-dotted {\n    stroke-dasharray: 2;\n  }\n\n  & .marker {\n    fill: ${r.lineColor};\n    stroke: ${r.lineColor};\n  }\n  & .marker.cross {\n    stroke: ${r.lineColor};\n  }\n\n  & svg {\n    font-family: ${r.fontFamily};\n    font-size: ${r.fontSize};\n  }\n   & p {\n    margin: 0\n   }\n\n  ${i}\n\n  ${t}\n`}),"getStyles");var WR=o(((e,t)=>{void 0!==t&&(GR[e]=t)}),"addStylesForDiagram"),qR={};l(qR,{clear:()=>XR,getAccDescription:()=>e$,getAccTitle:()=>ZR,getDiagramTitle:()=>r$,setAccDescription:()=>QR,setAccTitle:()=>JR,setDiagramTitle:()=>t$});var HR="",VR="",KR="",YR=o((e=>CR(e,tw())),"sanitizeText"),XR=o((()=>{HR="",KR="",VR=""}),"clear"),JR=o((e=>{HR=YR(e).replace(/^\s+/g,"")}),"setAccTitle"),ZR=o((()=>HR),"getAccTitle"),QR=o((e=>{KR=YR(e).replace(/\n\s+/g,"\n")}),"setAccDescription"),e$=o((()=>KR),"getAccDescription"),t$=o((e=>{VR=YR(e)}),"setDiagramTitle"),r$=o((()=>VR),"getDiagramTitle"),i$=_A,n$=SA,a$=tw,o$=o((e=>CR(e,a$())),"sanitizeText"),s$=jR,l$=o((()=>qR),"getCommonDb"),c$={};o(((e,t,r)=>{c$[e]&&i$.warn(`Diagram with id ${e} already registered. Overwriting.`),c$[e]=t,r&&NA(e,r),WR(e,t.styles),t.injectUtils?.(i$,n$,a$,o$,s$,l$(),(()=>{}))}),"registerDiagram"),o((e=>{if(e in c$)return c$[e];throw new u$(e)}),"getDiagram");var u$=class extends Error{static{o(this,"DiagramNotFoundError")}constructor(e){super(`Diagram ${e} not found.`)}};function h$(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function d$(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function f$(e){let t,r,i;function n(e,i,n=0,a=e.length){if(n<a){if(0!==t(i,i))return a;do{let t=n+a>>>1;r(e[t],i)<0?n=t+1:a=t}while(n<a)}return n}function a(e,i,n=0,a=e.length){if(n<a){if(0!==t(i,i))return a;do{let t=n+a>>>1;r(e[t],i)<=0?n=t+1:a=t}while(n<a)}return n}function s(e,t,r=0,a=e.length){let o=n(e,t,r,a-1);return o>r&&i(e[o-1],t)>-i(e[o],t)?o-1:o}return 2!==e.length?(t=h$,r=o(((t,r)=>h$(e(t),r)),"compare2"),i=o(((t,r)=>e(t)-r),"delta")):(t=e===h$||e===d$?e:p$,r=e,i=e),o(n,"left"),o(a,"right"),o(s,"center"),{left:n,center:s,right:a}}function p$(){return 0}function m$(e){return null===e?NaN:+e}o((function(e,t){let r;if(void 0===t)for(let t of e)null!=t&&(r<t||void 0===r&&t>=t)&&(r=t);else{let i=-1;for(let n of e)null!=(n=t(n,++i,e))&&(r<n||void 0===r&&n>=n)&&(r=n)}return r}),"max"),o((function(e,t){let r;if(void 0===t)for(let t of e)null!=t&&(r>t||void 0===r&&t>=t)&&(r=t);else{let i=-1;for(let n of e)null!=(n=t(n,++i,e))&&(r>n||void 0===r&&n>=n)&&(r=n)}return r}),"min"),o(h$,"ascending"),o(d$,"descending"),o(f$,"bisector"),o(p$,"zero"),o(m$,"number");var g$=f$(h$),y$=g$.right;g$.left,f$(m$).center;var v$=y$,x$=class extends Map{static{o(this,"InternMap")}constructor(e,t=k$){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(let[t,r]of e)this.set(t,r)}get(e){return super.get(T$(this,e))}has(e){return super.has(T$(this,e))}set(e,t){return super.set(C$(this,e),t)}delete(e){return super.delete(b$(this,e))}};function T$({_intern:e,_key:t},r){let i=t(r);return e.has(i)?e.get(i):r}function C$({_intern:e,_key:t},r){let i=t(r);return e.has(i)?e.get(i):(e.set(i,r),r)}function b$({_intern:e,_key:t},r){let i=t(r);return e.has(i)&&(r=e.get(i),e.delete(i)),r}function k$(e){return null!==e&&"object"==typeof e?e.valueOf():e}o(T$,"intern_get"),o(C$,"intern_set"),o(b$,"intern_delete"),o(k$,"keyof");var _$=Math.sqrt(50),S$=Math.sqrt(10),A$=Math.sqrt(2);function E$(e,t,r){let i,n,a,o=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(o)),l=o/Math.pow(10,s),c=l>=_$?10:l>=S$?5:l>=A$?2:1;return s<0?(a=Math.pow(10,-s)/c,i=Math.round(e*a),n=Math.round(t*a),i/a<e&&++i,n/a>t&&--n,a=-a):(a=Math.pow(10,s)*c,i=Math.round(e/a),n=Math.round(t/a),i*a<e&&++i,n*a>t&&--n),n<i&&.5<=r&&r<2?E$(e,t,2*r):[i,n,a]}function w$(e,t,r){if(!((r=+r)>0))return[];if((e=+e)===(t=+t))return[e];let i=t<e,[n,a,o]=i?E$(t,e,r):E$(e,t,r);if(!(a>=n))return[];let s=a-n+1,l=new Array(s);if(i)if(o<0)for(let e=0;e<s;++e)l[e]=(a-e)/-o;else for(let e=0;e<s;++e)l[e]=(a-e)*o;else if(o<0)for(let e=0;e<s;++e)l[e]=(n+e)/-o;else for(let e=0;e<s;++e)l[e]=(n+e)*o;return l}function R$(e,t,r){return E$(e=+e,t=+t,r=+r)[2]}function $$(e,t,r){r=+r;let i=(t=+t)<(e=+e),n=i?R$(t,e,r):R$(e,t,r);return(i?-1:1)*(n<0?1/-n:n)}function L$(e,t,r){e=+e,t=+t,r=(n=arguments.length)<2?(t=e,e=0,1):n<3?1:+r;for(var i=-1,n=0|Math.max(0,Math.ceil((t-e)/r)),a=new Array(n);++i<n;)a[i]=e+i*r;return a}function I$(e){return e}o(E$,"tickSpec"),o(w$,"ticks"),o(R$,"tickIncrement"),o($$,"tickStep"),o(L$,"range"),o(I$,"default");var N$=1e-6;function O$(e){return"translate("+e+",0)"}function M$(e){return"translate(0,"+e+")"}function P$(e){return t=>+e(t)}function B$(e,t){return t=Math.max(0,e.bandwidth()-2*t)/2,e.round()&&(t=Math.round(t)),r=>+e(r)+t}function F$(){return!this.__axis}function D$(e,t){var r=[],i=null,n=null,a=6,s=6,l=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=1===e||4===e?-1:1,h=4===e||2===e?"x":"y",d=1===e||3===e?O$:M$;function f(o){var f=i??(t.ticks?t.ticks.apply(t,r):t.domain()),p=n??(t.tickFormat?t.tickFormat.apply(t,r):I$),m=Math.max(a,0)+l,g=t.range(),y=+g[0]+c,v=+g[g.length-1]+c,x=(t.bandwidth?B$:P$)(t.copy(),c),T=o.selection?o.selection():o,C=T.selectAll(".domain").data([null]),b=T.selectAll(".tick").data(f,t).order(),k=b.exit(),_=b.enter().append("g").attr("class","tick"),S=b.select("line"),A=b.select("text");C=C.merge(C.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),b=b.merge(_),S=S.merge(_.append("line").attr("stroke","currentColor").attr(h+"2",u*a)),A=A.merge(_.append("text").attr("fill","currentColor").attr(h,u*m).attr("dy",1===e?"0em":3===e?"0.71em":"0.32em")),o!==T&&(C=C.transition(o),b=b.transition(o),S=S.transition(o),A=A.transition(o),k=k.transition(o).attr("opacity",N$).attr("transform",(function(e){return isFinite(e=x(e))?d(e+c):this.getAttribute("transform")})),_.attr("opacity",N$).attr("transform",(function(e){var t=this.parentNode.__axis;return d((t&&isFinite(t=t(e))?t:x(e))+c)}))),k.remove(),C.attr("d",4===e||2===e?s?"M"+u*s+","+y+"H"+c+"V"+v+"H"+u*s:"M"+c+","+y+"V"+v:s?"M"+y+","+u*s+"V"+c+"H"+v+"V"+u*s:"M"+y+","+c+"H"+v),b.attr("opacity",1).attr("transform",(function(e){return d(x(e)+c)})),S.attr(h+"2",u*a),A.attr(h,u*m).text(p),T.filter(F$).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===e?"start":4===e?"end":"middle"),T.each((function(){this.__axis=x}))}return o(f,"axis"),f.scale=function(e){return arguments.length?(t=e,f):t},f.ticks=function(){return r=Array.from(arguments),f},f.tickArguments=function(e){return arguments.length?(r=null==e?[]:Array.from(e),f):r.slice()},f.tickValues=function(e){return arguments.length?(i=null==e?null:Array.from(e),f):i&&i.slice()},f.tickFormat=function(e){return arguments.length?(n=e,f):n},f.tickSize=function(e){return arguments.length?(a=s=+e,f):a},f.tickSizeInner=function(e){return arguments.length?(a=+e,f):a},f.tickSizeOuter=function(e){return arguments.length?(s=+e,f):s},f.tickPadding=function(e){return arguments.length?(l=+e,f):l},f.offset=function(e){return arguments.length?(c=+e,f):c},f}function U$(){}function z$(e){return null==e?U$:function(){return this.querySelector(e)}}function j$(e){"function"!=typeof e&&(e=z$(e));for(var t=this._groups,r=t.length,i=new Array(r),n=0;n<r;++n)for(var a,o,s=t[n],l=s.length,c=i[n]=new Array(l),u=0;u<l;++u)(a=s[u])&&(o=e.call(a,a.__data__,u,s))&&("__data__"in a&&(o.__data__=a.__data__),c[u]=o);return new PI(i,this._parents)}function G$(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}function W$(){return[]}function q$(e){return null==e?W$:function(){return this.querySelectorAll(e)}}function H$(e){return function(){return G$(e.apply(this,arguments))}}function V$(e){e="function"==typeof e?H$(e):q$(e);for(var t=this._groups,r=t.length,i=[],n=[],a=0;a<r;++a)for(var o,s=t[a],l=s.length,c=0;c<l;++c)(o=s[c])&&(i.push(e.call(o,o.__data__,c,s)),n.push(o));return new PI(i,n)}function K$(e){return function(){return this.matches(e)}}function Y$(e){return function(t){return t.matches(e)}}o(O$,"translateX"),o(M$,"translateY"),o(P$,"number"),o(B$,"center"),o(F$,"entering"),o(D$,"axis"),o((function(e){return D$(1,e)}),"axisTop"),o((function(e){return D$(3,e)}),"axisBottom"),o(U$,"none"),o(z$,"default"),o(j$,"default"),o(G$,"array"),o(W$,"empty"),o(q$,"default"),o(H$,"arrayAll"),o(V$,"default"),o(K$,"default"),o(Y$,"childMatcher");var X$=Array.prototype.find;function J$(e){return function(){return X$.call(this.children,e)}}function Z$(){return this.firstElementChild}function Q$(e){return this.select(null==e?Z$:J$("function"==typeof e?e:Y$(e)))}o(J$,"childFind"),o(Z$,"childFirst"),o(Q$,"default");var eL=Array.prototype.filter;function tL(){return Array.from(this.children)}function rL(e){return function(){return eL.call(this.children,e)}}function iL(e){return this.selectAll(null==e?tL:rL("function"==typeof e?e:Y$(e)))}function nL(e){"function"!=typeof e&&(e=K$(e));for(var t=this._groups,r=t.length,i=new Array(r),n=0;n<r;++n)for(var a,o=t[n],s=o.length,l=i[n]=[],c=0;c<s;++c)(a=o[c])&&e.call(a,a.__data__,c,o)&&l.push(a);return new PI(i,this._parents)}function aL(e){return new Array(e.length)}function oL(){return new PI(this._enter||this._groups.map(aL),this._parents)}function sL(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function lL(e){return function(){return e}}function cL(e,t,r,i,n,a){for(var o,s=0,l=t.length,c=a.length;s<c;++s)(o=t[s])?(o.__data__=a[s],i[s]=o):r[s]=new sL(e,a[s]);for(;s<l;++s)(o=t[s])&&(n[s]=o)}function uL(e,t,r,i,n,a,o){var s,l,c,u=new Map,h=t.length,d=a.length,f=new Array(h);for(s=0;s<h;++s)(l=t[s])&&(f[s]=c=o.call(l,l.__data__,s,t)+"",u.has(c)?n[s]=l:u.set(c,l));for(s=0;s<d;++s)c=o.call(e,a[s],s,a)+"",(l=u.get(c))?(i[s]=l,l.__data__=a[s],u.delete(c)):r[s]=new sL(e,a[s]);for(s=0;s<h;++s)(l=t[s])&&u.get(f[s])===l&&(n[s]=l)}function hL(e){return e.__data__}function dL(e,t){if(!arguments.length)return Array.from(this,hL);var r=t?uL:cL,i=this._parents,n=this._groups;"function"!=typeof e&&(e=lL(e));for(var a=n.length,o=new Array(a),s=new Array(a),l=new Array(a),c=0;c<a;++c){var u=i[c],h=n[c],d=h.length,f=fL(e.call(u,u&&u.__data__,c,i)),p=f.length,m=s[c]=new Array(p),g=o[c]=new Array(p);r(u,h,m,g,l[c]=new Array(d),f,t);for(var y,v,x=0,T=0;x<p;++x)if(y=m[x]){for(x>=T&&(T=x+1);!(v=g[T])&&++T<p;);y._next=v||null}}return(o=new PI(o,i))._enter=s,o._exit=l,o}function fL(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function pL(){return new PI(this._exit||this._groups.map(aL),this._parents)}function mL(e,t,r){var i=this.enter(),n=this,a=this.exit();return"function"==typeof e?(i=e(i))&&(i=i.selection()):i=i.append(e+""),null!=t&&((n=t(n))&&(n=n.selection())),null==r?a.remove():r(a),i&&n?i.merge(n).order():n}function gL(e){for(var t=e.selection?e.selection():e,r=this._groups,i=t._groups,n=r.length,a=i.length,o=Math.min(n,a),s=new Array(n),l=0;l<o;++l)for(var c,u=r[l],h=i[l],d=u.length,f=s[l]=new Array(d),p=0;p<d;++p)(c=u[p]||h[p])&&(f[p]=c);for(;l<n;++l)s[l]=r[l];return new PI(s,this._parents)}function yL(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var i,n=e[t],a=n.length-1,o=n[a];--a>=0;)(i=n[a])&&(o&&4^i.compareDocumentPosition(o)&&o.parentNode.insertBefore(i,o),o=i);return this}function vL(e){function t(t,r){return t&&r?e(t.__data__,r.__data__):!t-!r}e||(e=xL),o(t,"compareNode");for(var r=this._groups,i=r.length,n=new Array(i),a=0;a<i;++a){for(var s,l=r[a],c=l.length,u=n[a]=new Array(c),h=0;h<c;++h)(s=l[h])&&(u[h]=s);u.sort(t)}return new PI(n,this._parents).order()}function xL(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function TL(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function CL(){return Array.from(this)}function bL(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var i=e[t],n=0,a=i.length;n<a;++n){var o=i[n];if(o)return o}return null}function kL(){let e=0;for(let t of this)++e;return e}function _L(){return!this.node()}function SL(e){for(var t=this._groups,r=0,i=t.length;r<i;++r)for(var n,a=t[r],o=0,s=a.length;o<s;++o)(n=a[o])&&e.call(n,n.__data__,o,a);return this}o(tL,"children"),o(rL,"childrenFilter"),o(iL,"default"),o(nL,"default"),o(aL,"default"),o(oL,"default"),o(sL,"EnterNode"),sL.prototype={constructor:sL,appendChild:o((function(e){return this._parent.insertBefore(e,this._next)}),"appendChild"),insertBefore:o((function(e,t){return this._parent.insertBefore(e,t)}),"insertBefore"),querySelector:o((function(e){return this._parent.querySelector(e)}),"querySelector"),querySelectorAll:o((function(e){return this._parent.querySelectorAll(e)}),"querySelectorAll")},o(lL,"default"),o(cL,"bindIndex"),o(uL,"bindKey"),o(hL,"datum"),o(dL,"default"),o(fL,"arraylike"),o(pL,"default"),o(mL,"default"),o(gL,"default"),o(yL,"default"),o(vL,"default"),o(xL,"ascending"),o(TL,"default"),o(CL,"default"),o(bL,"default"),o(kL,"default"),o(_L,"default"),o(SL,"default");var AL="http://www.w3.org/1999/xhtml",EL={svg:"http://www.w3.org/2000/svg",xhtml:AL,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function wL(e){var t=e+="",r=t.indexOf(":");return r>=0&&"xmlns"!==(t=e.slice(0,r))&&(e=e.slice(r+1)),EL.hasOwnProperty(t)?{space:EL[t],local:e}:e}function RL(e){return function(){this.removeAttribute(e)}}function $L(e){return function(){this.removeAttributeNS(e.space,e.local)}}function LL(e,t){return function(){this.setAttribute(e,t)}}function IL(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function NL(e,t){return function(){var r=t.apply(this,arguments);null==r?this.removeAttribute(e):this.setAttribute(e,r)}}function OL(e,t){return function(){var r=t.apply(this,arguments);null==r?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function ML(e,t){var r=wL(e);if(arguments.length<2){var i=this.node();return r.local?i.getAttributeNS(r.space,r.local):i.getAttribute(r)}return this.each((null==t?r.local?$L:RL:"function"==typeof t?r.local?OL:NL:r.local?IL:LL)(r,t))}function PL(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function BL(e){return function(){this.style.removeProperty(e)}}function FL(e,t,r){return function(){this.style.setProperty(e,t,r)}}function DL(e,t,r){return function(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(e):this.style.setProperty(e,i,r)}}function UL(e,t,r){return arguments.length>1?this.each((null==t?BL:"function"==typeof t?DL:FL)(e,t,r??"")):zL(this.node(),e)}function zL(e,t){return e.style.getPropertyValue(t)||PL(e).getComputedStyle(e,null).getPropertyValue(t)}function jL(e){return function(){delete this[e]}}function GL(e,t){return function(){this[e]=t}}function WL(e,t){return function(){var r=t.apply(this,arguments);null==r?delete this[e]:this[e]=r}}function qL(e,t){return arguments.length>1?this.each((null==t?jL:"function"==typeof t?WL:GL)(e,t)):this.node()[e]}function HL(e){return e.trim().split(/^|\s+/)}function VL(e){return e.classList||new KL(e)}function KL(e){this._node=e,this._names=HL(e.getAttribute("class")||"")}function YL(e,t){for(var r=VL(e),i=-1,n=t.length;++i<n;)r.add(t[i])}function XL(e,t){for(var r=VL(e),i=-1,n=t.length;++i<n;)r.remove(t[i])}function JL(e){return function(){YL(this,e)}}function ZL(e){return function(){XL(this,e)}}function QL(e,t){return function(){(t.apply(this,arguments)?YL:XL)(this,e)}}function eI(e,t){var r=HL(e+"");if(arguments.length<2){for(var i=VL(this.node()),n=-1,a=r.length;++n<a;)if(!i.contains(r[n]))return!1;return!0}return this.each(("function"==typeof t?QL:t?JL:ZL)(r,t))}function tI(){this.textContent=""}function rI(e){return function(){this.textContent=e}}function iI(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function nI(e){return arguments.length?this.each(null==e?tI:("function"==typeof e?iI:rI)(e)):this.node().textContent}function aI(){this.innerHTML=""}function oI(e){return function(){this.innerHTML=e}}function sI(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function lI(e){return arguments.length?this.each(null==e?aI:("function"==typeof e?sI:oI)(e)):this.node().innerHTML}function cI(){this.nextSibling&&this.parentNode.appendChild(this)}function uI(){return this.each(cI)}function hI(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function dI(){return this.each(hI)}function fI(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===AL&&t.documentElement.namespaceURI===AL?t.createElement(e):t.createElementNS(r,e)}}function pI(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function mI(e){var t=wL(e);return(t.local?pI:fI)(t)}function gI(e){var t="function"==typeof e?e:mI(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))}function yI(){return null}function vI(e,t){var r="function"==typeof e?e:mI(e),i=null==t?yI:"function"==typeof t?t:z$(t);return this.select((function(){return this.insertBefore(r.apply(this,arguments),i.apply(this,arguments)||null)}))}function xI(){var e=this.parentNode;e&&e.removeChild(this)}function TI(){return this.each(xI)}function CI(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function bI(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function kI(e){return this.select(e?bI:CI)}function _I(e){return arguments.length?this.property("__data__",e):this.node().__data__}function SI(e){return function(t){e.call(this,t,this.__data__)}}function AI(e){return e.trim().split(/^|\s+/).map((function(e){var t="",r=e.indexOf(".");return r>=0&&(t=e.slice(r+1),e=e.slice(0,r)),{type:e,name:t}}))}function EI(e){return function(){var t=this.__on;if(t){for(var r,i=0,n=-1,a=t.length;i<a;++i)r=t[i],e.type&&r.type!==e.type||r.name!==e.name?t[++n]=r:this.removeEventListener(r.type,r.listener,r.options);++n?t.length=n:delete this.__on}}}function wI(e,t,r){return function(){var i,n=this.__on,a=SI(t);if(n)for(var o=0,s=n.length;o<s;++o)if((i=n[o]).type===e.type&&i.name===e.name)return this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=r),void(i.value=t);this.addEventListener(e.type,a,r),i={type:e.type,name:e.name,value:t,listener:a,options:r},n?n.push(i):this.__on=[i]}}function RI(e,t,r){var i,n,a=AI(e+""),o=a.length;if(!(arguments.length<2)){for(s=t?wI:EI,i=0;i<o;++i)this.each(s(a[i],t,r));return this}var s=this.node().__on;if(s)for(var l,c=0,u=s.length;c<u;++c)for(i=0,l=s[c];i<o;++i)if((n=a[i]).type===l.type&&n.name===l.name)return l.value}function $I(e,t,r){var i=PL(e),n=i.CustomEvent;"function"==typeof n?n=new n(t,r):(n=i.document.createEvent("Event"),r?(n.initEvent(t,r.bubbles,r.cancelable),n.detail=r.detail):n.initEvent(t,!1,!1)),e.dispatchEvent(n)}function LI(e,t){return function(){return $I(this,e,t)}}function II(e,t){return function(){return $I(this,e,t.apply(this,arguments))}}function NI(e,t){return this.each(("function"==typeof t?II:LI)(e,t))}function*OI(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var i,n=e[t],a=0,o=n.length;a<o;++a)(i=n[a])&&(yield i)}o(wL,"default"),o(RL,"attrRemove"),o($L,"attrRemoveNS"),o(LL,"attrConstant"),o(IL,"attrConstantNS"),o(NL,"attrFunction"),o(OL,"attrFunctionNS"),o(ML,"default"),o(PL,"default"),o(BL,"styleRemove"),o(FL,"styleConstant"),o(DL,"styleFunction"),o(UL,"default"),o(zL,"styleValue"),o(jL,"propertyRemove"),o(GL,"propertyConstant"),o(WL,"propertyFunction"),o(qL,"default"),o(HL,"classArray"),o(VL,"classList"),o(KL,"ClassList"),KL.prototype={add:o((function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))}),"add"),remove:o((function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))}),"remove"),contains:o((function(e){return this._names.indexOf(e)>=0}),"contains")},o(YL,"classedAdd"),o(XL,"classedRemove"),o(JL,"classedTrue"),o(ZL,"classedFalse"),o(QL,"classedFunction"),o(eI,"default"),o(tI,"textRemove"),o(rI,"textConstant"),o(iI,"textFunction"),o(nI,"default"),o(aI,"htmlRemove"),o(oI,"htmlConstant"),o(sI,"htmlFunction"),o(lI,"default"),o(cI,"raise"),o(uI,"default"),o(hI,"lower"),o(dI,"default"),o(fI,"creatorInherit"),o(pI,"creatorFixed"),o(mI,"default"),o(gI,"default"),o(yI,"constantNull"),o(vI,"default"),o(xI,"remove"),o(TI,"default"),o(CI,"selection_cloneShallow"),o(bI,"selection_cloneDeep"),o(kI,"default"),o(_I,"default"),o(SI,"contextListener"),o(AI,"parseTypenames"),o(EI,"onRemove"),o(wI,"onAdd"),o(RI,"default"),o($I,"dispatchEvent"),o(LI,"dispatchConstant"),o(II,"dispatchFunction"),o(NI,"default"),o(OI,"default");var MI=[null];function PI(e,t){this._groups=e,this._parents=t}function BI(){return new PI([[document.documentElement]],MI)}function FI(){return this}o(PI,"Selection"),o(BI,"selection"),o(FI,"selection_selection"),PI.prototype=BI.prototype={constructor:PI,select:j$,selectAll:V$,selectChild:Q$,selectChildren:iL,filter:nL,data:dL,enter:oL,exit:pL,join:mL,merge:gL,selection:FI,order:yL,sort:vL,call:TL,nodes:CL,node:bL,size:kL,empty:_L,each:SL,attr:ML,style:UL,property:qL,classed:eI,text:nI,html:lI,raise:uI,lower:dI,append:gI,insert:vI,remove:TI,clone:kI,datum:_I,on:RI,dispatch:NI,[Symbol.iterator]:OI};var DI=BI;function UI(e){return"string"==typeof e?new PI([[document.querySelector(e)]],[document.documentElement]):new PI([[e]],MI)}function zI(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function jI(e,t){var r=Object.create(e.prototype);for(var i in t)r[i]=t[i];return r}function GI(){}o(UI,"default"),o(zI,"default"),o(jI,"extend"),o(GI,"Color");var WI=.7,qI=1/WI,HI="\\s*([+-]?\\d+)\\s*",VI="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",KI="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",YI=/^#([0-9a-f]{3,8})$/,XI=new RegExp(`^rgb\\(${HI},${HI},${HI}\\)$`),JI=new RegExp(`^rgb\\(${KI},${KI},${KI}\\)$`),ZI=new RegExp(`^rgba\\(${HI},${HI},${HI},${VI}\\)$`),QI=new RegExp(`^rgba\\(${KI},${KI},${KI},${VI}\\)$`),eN=new RegExp(`^hsl\\(${VI},${KI},${KI}\\)$`),tN=new RegExp(`^hsla\\(${VI},${KI},${KI},${VI}\\)$`),rN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function iN(){return this.rgb().formatHex()}function nN(){return this.rgb().formatHex8()}function aN(){return TN(this).formatHsl()}function oN(){return this.rgb().formatRgb()}function sN(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=YI.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?lN(t):3===r?new dN(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?cN(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?cN(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=XI.exec(e))?new dN(t[1],t[2],t[3],1):(t=JI.exec(e))?new dN(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=ZI.exec(e))?cN(t[1],t[2],t[3],t[4]):(t=QI.exec(e))?cN(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=eN.exec(e))?xN(t[1],t[2]/100,t[3]/100,1):(t=tN.exec(e))?xN(t[1],t[2]/100,t[3]/100,t[4]):rN.hasOwnProperty(e)?lN(rN[e]):"transparent"===e?new dN(NaN,NaN,NaN,0):null}function lN(e){return new dN(e>>16&255,e>>8&255,255&e,1)}function cN(e,t,r,i){return i<=0&&(e=t=r=NaN),new dN(e,t,r,i)}function uN(e){return e instanceof GI||(e=sN(e)),e?new dN((e=e.rgb()).r,e.g,e.b,e.opacity):new dN}function hN(e,t,r,i){return 1===arguments.length?uN(e):new dN(e,t,r,i??1)}function dN(e,t,r,i){this.r=+e,this.g=+t,this.b=+r,this.opacity=+i}function fN(){return`#${vN(this.r)}${vN(this.g)}${vN(this.b)}`}function pN(){return`#${vN(this.r)}${vN(this.g)}${vN(this.b)}${vN(255*(isNaN(this.opacity)?1:this.opacity))}`}function mN(){let e=gN(this.opacity);return`${1===e?"rgb(":"rgba("}${yN(this.r)}, ${yN(this.g)}, ${yN(this.b)}${1===e?")":`, ${e})`}`}function gN(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function yN(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function vN(e){return((e=yN(e))<16?"0":"")+e.toString(16)}function xN(e,t,r,i){return i<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new bN(e,t,r,i)}function TN(e){if(e instanceof bN)return new bN(e.h,e.s,e.l,e.opacity);if(e instanceof GI||(e=sN(e)),!e)return new bN;if(e instanceof bN)return e;var t=(e=e.rgb()).r/255,r=e.g/255,i=e.b/255,n=Math.min(t,r,i),a=Math.max(t,r,i),o=NaN,s=a-n,l=(a+n)/2;return s?(o=t===a?(r-i)/s+6*(r<i):r===a?(i-t)/s+2:(t-r)/s+4,s/=l<.5?a+n:2-a-n,o*=60):s=l>0&&l<1?0:o,new bN(o,s,l,e.opacity)}function CN(e,t,r,i){return 1===arguments.length?TN(e):new bN(e,t,r,i??1)}function bN(e,t,r,i){this.h=+e,this.s=+t,this.l=+r,this.opacity=+i}function kN(e){return(e=(e||0)%360)<0?e+360:e}function _N(e){return Math.max(0,Math.min(1,e||0))}function SN(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}zI(GI,sN,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:iN,formatHex:iN,formatHex8:nN,formatHsl:aN,formatRgb:oN,toString:oN}),o(iN,"color_formatHex"),o(nN,"color_formatHex8"),o(aN,"color_formatHsl"),o(oN,"color_formatRgb"),o(sN,"color"),o(lN,"rgbn"),o(cN,"rgba"),o(uN,"rgbConvert"),o(hN,"rgb"),o(dN,"Rgb"),zI(dN,hN,jI(GI,{brighter(e){return e=null==e?qI:Math.pow(qI,e),new dN(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?WI:Math.pow(WI,e),new dN(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new dN(yN(this.r),yN(this.g),yN(this.b),gN(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:fN,formatHex:fN,formatHex8:pN,formatRgb:mN,toString:mN})),o(fN,"rgb_formatHex"),o(pN,"rgb_formatHex8"),o(mN,"rgb_formatRgb"),o(gN,"clampa"),o(yN,"clampi"),o(vN,"hex"),o(xN,"hsla"),o(TN,"hslConvert"),o(CN,"hsl"),o(bN,"Hsl"),zI(bN,CN,jI(GI,{brighter(e){return e=null==e?qI:Math.pow(qI,e),new bN(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?WI:Math.pow(WI,e),new bN(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*t,n=2*r-i;return new dN(SN(e>=240?e-240:e+120,n,i),SN(e,n,i),SN(e<120?e+240:e-120,n,i),this.opacity)},clamp(){return new bN(kN(this.h),_N(this.s),_N(this.l),gN(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=gN(this.opacity);return`${1===e?"hsl(":"hsla("}${kN(this.h)}, ${100*_N(this.s)}%, ${100*_N(this.l)}%${1===e?")":`, ${e})`}`}})),o(kN,"clamph"),o(_N,"clampt"),o(SN,"hsl2rgb");var AN=Math.PI/180,EN=180/Math.PI,wN=.96422,RN=.82521,$N=4/29,LN=6/29,IN=3*LN*LN,NN=LN*LN*LN;function ON(e){if(e instanceof PN)return new PN(e.l,e.a,e.b,e.opacity);if(e instanceof GN)return WN(e);e instanceof dN||(e=uN(e));var t,r,i=UN(e.r),n=UN(e.g),a=UN(e.b),o=BN((.2225045*i+.7168786*n+.0606169*a)/1);return i===n&&n===a?t=r=o:(t=BN((.4360747*i+.3850649*n+.1430804*a)/wN),r=BN((.0139322*i+.0971045*n+.7141733*a)/RN)),new PN(116*o-16,500*(t-o),200*(o-r),e.opacity)}function MN(e,t,r,i){return 1===arguments.length?ON(e):new PN(e,t,r,i??1)}function PN(e,t,r,i){this.l=+e,this.a=+t,this.b=+r,this.opacity=+i}function BN(e){return e>NN?Math.pow(e,1/3):e/IN+$N}function FN(e){return e>LN?e*e*e:IN*(e-$N)}function DN(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function UN(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function zN(e){if(e instanceof GN)return new GN(e.h,e.c,e.l,e.opacity);if(e instanceof PN||(e=ON(e)),0===e.a&&0===e.b)return new GN(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*EN;return new GN(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function jN(e,t,r,i){return 1===arguments.length?zN(e):new GN(e,t,r,i??1)}function GN(e,t,r,i){this.h=+e,this.c=+t,this.l=+r,this.opacity=+i}function WN(e){if(isNaN(e.h))return new PN(e.l,0,0,e.opacity);var t=e.h*AN;return new PN(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}o(ON,"labConvert"),o(MN,"lab"),o(PN,"Lab"),zI(PN,MN,jI(GI,{brighter(e){return new PN(this.l+18*(e??1),this.a,this.b,this.opacity)},darker(e){return new PN(this.l-18*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return new dN(DN(3.1338561*(t=wN*FN(t))-1.6168667*(e=1*FN(e))-.4906146*(r=RN*FN(r))),DN(-.9787684*t+1.9161415*e+.033454*r),DN(.0719453*t-.2289914*e+1.4052427*r),this.opacity)}})),o(BN,"xyz2lab"),o(FN,"lab2xyz"),o(DN,"lrgb2rgb"),o(UN,"rgb2lrgb"),o(zN,"hclConvert"),o(jN,"hcl"),o(GN,"Hcl"),o(WN,"hcl2lab"),zI(GN,jN,jI(GI,{brighter(e){return new GN(this.h,this.c,this.l+18*(e??1),this.opacity)},darker(e){return new GN(this.h,this.c,this.l-18*(e??1),this.opacity)},rgb(){return WN(this).rgb()}}));var qN=o((e=>()=>e),"default");function HN(e,t){return function(r){return e+r*t}}function VN(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(i){return Math.pow(e+i*t,r)}}function KN(e){return 1==(e=+e)?YN:function(t,r){return r-t?VN(t,r,e):qN(isNaN(t)?r:t)}}function YN(e,t){var r=t-e;return r?HN(e,r):qN(isNaN(e)?t:e)}function XN(e,t,r,i,n){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*r+(1+3*e+3*a-3*o)*i+o*n)/6}o(HN,"linear"),o(VN,"exponential"),o((function(e,t){var r=t-e;return r?HN(e,r>180||r<-180?r-360*Math.round(r/360):r):qN(isNaN(e)?t:e)}),"hue"),o(KN,"gamma"),o(YN,"nogamma"),o((function(e){return function(t,r){var i=e((t=jN(t)).h,(r=jN(r)).h),n=YN(t.c,r.c),a=YN(t.l,r.l),o=YN(t.opacity,r.opacity);return function(e){return t.h=i(e),t.c=n(e),t.l=a(e),t.opacity=o(e),t+""}}}),"hcl"),o(XN,"basis"),o((function(e){var t=e.length-1;return function(r){var i=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),n=e[i],a=e[i+1],o=i>0?e[i-1]:2*n-a,s=i<t-1?e[i+2]:2*a-n;return XN((r-i/t)*t,o,n,a,s)}}),"default"),o((function(e){var t=e.length;return function(r){var i=Math.floor(((r%=1)<0?++r:r)*t),n=e[(i+t-1)%t],a=e[i%t],o=e[(i+1)%t],s=e[(i+2)%t];return XN((r-i/t)*t,n,a,o,s)}}),"default");var JN=o((function e(t){var r=KN(t);function i(e,t){var i=r((e=hN(e)).r,(t=hN(t)).r),n=r(e.g,t.g),a=r(e.b,t.b),o=YN(e.opacity,t.opacity);return function(t){return e.r=i(t),e.g=n(t),e.b=a(t),e.opacity=o(t),e+""}}return o(i,"rgb"),i.gamma=e,i}),"rgbGamma")(1);function ZN(e,t){t||(t=[]);var r,i=e?Math.min(t.length,e.length):0,n=t.slice();return function(a){for(r=0;r<i;++r)n[r]=e[r]*(1-a)+t[r]*a;return n}}function QN(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function eO(e,t){var r,i=t?t.length:0,n=e?Math.min(i,e.length):0,a=new Array(n),o=new Array(i);for(r=0;r<n;++r)a[r]=cO(e[r],t[r]);for(;r<i;++r)o[r]=t[r];return function(e){for(r=0;r<n;++r)o[r]=a[r](e);return o}}function tO(e,t){var r=new Date;return e=+e,t=+t,function(i){return r.setTime(e*(1-i)+t*i),r}}function rO(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function iO(e,t){var r,i={},n={};for(r in(null===e||"object"!=typeof e)&&(e={}),(null===t||"object"!=typeof t)&&(t={}),t)r in e?i[r]=cO(e[r],t[r]):n[r]=t[r];return function(e){for(r in i)n[r]=i[r](e);return n}}o((function(e){return function(t){var r,i,n=t.length,a=new Array(n),o=new Array(n),s=new Array(n);for(r=0;r<n;++r)i=hN(t[r]),a[r]=i.r||0,o[r]=i.g||0,s[r]=i.b||0;return a=e(a),o=e(o),s=e(s),i.opacity=1,function(e){return i.r=a(e),i.g=o(e),i.b=s(e),i+""}}}),"rgbSpline"),o(ZN,"default"),o(QN,"isNumberArray"),o(eO,"genericArray"),o(tO,"default"),o(rO,"default"),o(iO,"default");var nO=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,aO=new RegExp(nO.source,"g");function oO(e){return function(){return e}}function sO(e){return function(t){return e(t)+""}}function lO(e,t){var r,i,n,a=nO.lastIndex=aO.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(r=nO.exec(e))&&(i=aO.exec(t));)(n=i.index)>a&&(n=t.slice(a,n),s[o]?s[o]+=n:s[++o]=n),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:rO(r,i)})),a=aO.lastIndex;return a<t.length&&(n=t.slice(a),s[o]?s[o]+=n:s[++o]=n),s.length<2?l[0]?sO(l[0].x):oO(t):(t=l.length,function(e){for(var r,i=0;i<t;++i)s[(r=l[i]).i]=r.x(e);return s.join("")})}function cO(e,t){var r,i=typeof t;return null==t||"boolean"===i?qN(t):("number"===i?rO:"string"===i?(r=sN(t))?(t=r,JN):lO:t instanceof sN?JN:t instanceof Date?tO:QN(t)?ZN:Array.isArray(t)?eO:"function"!=typeof t.valueOf&&"function"!=typeof t.toString||isNaN(t)?iO:rO)(e,t)}function uO(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}o(oO,"zero"),o(sO,"one"),o(lO,"default"),o(cO,"default"),o(uO,"default");var hO,dO=180/Math.PI,fO={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function pO(e,t,r,i,n,a){var o,s,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*r+t*i)&&(r-=e*l,i-=t*l),(s=Math.sqrt(r*r+i*i))&&(r/=s,i/=s,l/=s),e*i<t*r&&(e=-e,t=-t,l=-l,o=-o),{translateX:n,translateY:a,rotate:Math.atan2(t,e)*dO,skewX:Math.atan(l)*dO,scaleX:o,scaleY:s}}function mO(e){let t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?fO:pO(t.a,t.b,t.c,t.d,t.e,t.f)}function gO(e){return null==e?fO:(hO||(hO=document.createElementNS("http://www.w3.org/2000/svg","g")),hO.setAttribute("transform",e),(e=hO.transform.baseVal.consolidate())?pO((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):fO)}function yO(e,t,r,i){function n(e){return e.length?e.pop()+" ":""}function a(e,i,n,a,o,s){if(e!==n||i!==a){var l=o.push("translate(",null,t,null,r);s.push({i:l-4,x:rO(e,n)},{i:l-2,x:rO(i,a)})}else(n||a)&&o.push("translate("+n+t+a+r)}function s(e,t,r,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:r.push(n(r)+"rotate(",null,i)-2,x:rO(e,t)})):t&&r.push(n(r)+"rotate("+t+i)}function l(e,t,r,a){e!==t?a.push({i:r.push(n(r)+"skewX(",null,i)-2,x:rO(e,t)}):t&&r.push(n(r)+"skewX("+t+i)}function c(e,t,r,i,a,o){if(e!==r||t!==i){var s=a.push(n(a)+"scale(",null,",",null,")");o.push({i:s-4,x:rO(e,r)},{i:s-2,x:rO(t,i)})}else(1!==r||1!==i)&&a.push(n(a)+"scale("+r+","+i+")")}return o(n,"pop"),o(a,"translate"),o(s,"rotate"),o(l,"skewX"),o(c,"scale"),function(t,r){var i=[],n=[];return t=e(t),r=e(r),a(t.translateX,t.translateY,r.translateX,r.translateY,i,n),s(t.rotate,r.rotate,i,n),l(t.skewX,r.skewX,i,n),c(t.scaleX,t.scaleY,r.scaleX,r.scaleY,i,n),t=r=null,function(e){for(var t,r=-1,a=n.length;++r<a;)i[(t=n[r]).i]=t.x(e);return i.join("")}}}o(pO,"default"),o(mO,"parseCss"),o(gO,"parseSvg"),o(yO,"interpolateTransform");var vO=yO(mO,"px, ","px)","deg)"),xO=yO(gO,", ",")",")");function TO(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}o(TO,"initRange");var CO=Symbol("implicit");function bO(){var e=new x$,t=[],r=[],i=CO;function n(n){let a=e.get(n);if(void 0===a){if(i!==CO)return i;e.set(n,a=t.push(n)-1)}return r[a%r.length]}return o(n,"scale"),n.domain=function(r){if(!arguments.length)return t.slice();t=[],e=new x$;for(let i of r)e.has(i)||e.set(i,t.push(i)-1);return n},n.range=function(e){return arguments.length?(r=Array.from(e),n):r.slice()},n.unknown=function(e){return arguments.length?(i=e,n):i},n.copy=function(){return bO(t,r).unknown(i)},TO.apply(n,arguments),n}function kO(e){return function(){return e}}function _O(e){return+e}o(bO,"ordinal"),o(kO,"constants"),o(_O,"number");var SO=[0,1];function AO(e){return e}function EO(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:kO(isNaN(t)?NaN:.5)}function wO(e,t){var r;return e>t&&(r=e,e=t,t=r),function(r){return Math.max(e,Math.min(t,r))}}function RO(e,t,r){var i=e[0],n=e[1],a=t[0],o=t[1];return n<i?(i=EO(n,i),a=r(o,a)):(i=EO(i,n),a=r(a,o)),function(e){return a(i(e))}}function $O(e,t,r){var i=Math.min(e.length,t.length)-1,n=new Array(i),a=new Array(i),o=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<i;)n[o]=EO(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(t){var r=v$(e,t,1,i)-1;return a[r](n[r](t))}}function LO(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function IO(){var e,t,r,i,n,a,s=SO,l=SO,c=cO,u=AO;function h(){var e=Math.min(s.length,l.length);return u!==AO&&(u=wO(s[0],s[e-1])),i=e>2?$O:RO,n=a=null,d}function d(t){return null==t||isNaN(t=+t)?r:(n||(n=i(s.map(e),l,c)))(e(u(t)))}return o(h,"rescale"),o(d,"scale"),d.invert=function(r){return u(t((a||(a=i(l,s.map(e),rO)))(r)))},d.domain=function(e){return arguments.length?(s=Array.from(e,_O),h()):s.slice()},d.range=function(e){return arguments.length?(l=Array.from(e),h()):l.slice()},d.rangeRound=function(e){return l=Array.from(e),c=uO,h()},d.clamp=function(e){return arguments.length?(u=!!e||AO,h()):u!==AO},d.interpolate=function(e){return arguments.length?(c=e,h()):c},d.unknown=function(e){return arguments.length?(r=e,d):r},function(r,i){return e=r,t=i,h()}}function NO(){return IO()(AO,AO)}function OO(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function MO(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,i=e.slice(0,r);return[i.length>1?i[0]+i.slice(2):i,+e.slice(r+1)]}function PO(e){return(e=MO(Math.abs(e)))?e[1]:NaN}function BO(e,t){return function(r,i){for(var n=r.length,a=[],o=0,s=e[0],l=0;n>0&&s>0&&(l+s+1>i&&(s=Math.max(1,i-l)),a.push(r.substring(n-=s,n+s)),!((l+=s+1)>i));)s=e[o=(o+1)%e.length];return a.reverse().join(t)}}function FO(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}o(AO,"identity"),o(EO,"normalize"),o(wO,"clamper"),o(RO,"bimap"),o($O,"polymap"),o(LO,"copy"),o(IO,"transformer"),o(NO,"continuous"),o(OO,"default"),o(MO,"formatDecimalParts"),o(PO,"default"),o(BO,"default"),o(FO,"default");var DO,UO=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function zO(e){if(!(t=UO.exec(e)))throw new Error("invalid format: "+e);var t;return new jO({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function jO(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function GO(e){e:for(var t,r=e.length,i=1,n=-1;i<r;++i)switch(e[i]){case".":n=t=i;break;case"0":0===n&&(n=i),t=i;break;default:if(!+e[i])break e;n>0&&(n=0)}return n>0?e.slice(0,n)+e.slice(t+1):e}function WO(e,t){var r=MO(e,t);if(!r)return e+"";var i=r[0],n=r[1],a=n-(DO=3*Math.max(-8,Math.min(8,Math.floor(n/3))))+1,o=i.length;return a===o?i:a>o?i+new Array(a-o+1).join("0"):a>0?i.slice(0,a)+"."+i.slice(a):"0."+new Array(1-a).join("0")+MO(e,Math.max(0,t+a-1))[0]}function qO(e,t){var r=MO(e,t);if(!r)return e+"";var i=r[0],n=r[1];return n<0?"0."+new Array(-n).join("0")+i:i.length>n+1?i.slice(0,n+1)+"."+i.slice(n+1):i+new Array(n-i.length+2).join("0")}o(zO,"formatSpecifier"),zO.prototype=jO.prototype,o(jO,"FormatSpecifier"),jO.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type},o(GO,"default"),o(WO,"default"),o(qO,"default");var HO={"%":o(((e,t)=>(100*e).toFixed(t)),"%"),b:o((e=>Math.round(e).toString(2)),"b"),c:o((e=>e+""),"c"),d:OO,e:o(((e,t)=>e.toExponential(t)),"e"),f:o(((e,t)=>e.toFixed(t)),"f"),g:o(((e,t)=>e.toPrecision(t)),"g"),o:o((e=>Math.round(e).toString(8)),"o"),p:o(((e,t)=>qO(100*e,t)),"p"),r:qO,s:WO,X:o((e=>Math.round(e).toString(16).toUpperCase()),"X"),x:o((e=>Math.round(e).toString(16)),"x")};function VO(e){return e}o(VO,"default");var KO,YO,XO,JO=Array.prototype.map,ZO=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function QO(e){var t=void 0===e.grouping||void 0===e.thousands?VO:BO(JO.call(e.grouping,Number),e.thousands+""),r=void 0===e.currency?"":e.currency[0]+"",i=void 0===e.currency?"":e.currency[1]+"",n=void 0===e.decimal?".":e.decimal+"",a=void 0===e.numerals?VO:FO(JO.call(e.numerals,String)),s=void 0===e.percent?"%":e.percent+"",l=void 0===e.minus?"−":e.minus+"",c=void 0===e.nan?"NaN":e.nan+"";function u(e){var u=(e=zO(e)).fill,h=e.align,d=e.sign,f=e.symbol,p=e.zero,m=e.width,g=e.comma,y=e.precision,v=e.trim,x=e.type;"n"===x?(g=!0,x="g"):HO[x]||(void 0===y&&(y=12),v=!0,x="g"),(p||"0"===u&&"="===h)&&(p=!0,u="0",h="=");var T="$"===f?r:"#"===f&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",C="$"===f?i:/[%p]/.test(x)?s:"",b=HO[x],k=/[defgprs%]/.test(x);function _(e){var r,i,o,s=T,f=C;if("c"===x)f=b(e)+f,e="";else{var _=(e=+e)<0||1/e<0;if(e=isNaN(e)?c:b(Math.abs(e),y),v&&(e=GO(e)),_&&0==+e&&"+"!==d&&(_=!1),s=(_?"("===d?d:l:"-"===d||"("===d?"":d)+s,f=("s"===x?ZO[8+DO/3]:"")+f+(_&&"("===d?")":""),k)for(r=-1,i=e.length;++r<i;)if(48>(o=e.charCodeAt(r))||o>57){f=(46===o?n+e.slice(r+1):e.slice(r))+f,e=e.slice(0,r);break}}g&&!p&&(e=t(e,1/0));var S=s.length+e.length+f.length,A=S<m?new Array(m-S+1).join(u):"";switch(g&&p&&(e=t(A+e,A.length?m-f.length:1/0),A=""),h){case"<":e=s+e+f+A;break;case"=":e=s+A+e+f;break;case"^":e=A.slice(0,S=A.length>>1)+s+e+f+A.slice(S);break;default:e=A+s+e+f}return a(e)}return y=void 0===y?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),o(_,"format"),_.toString=function(){return e+""},_}function h(e,t){var r=u(((e=zO(e)).type="f",e)),i=3*Math.max(-8,Math.min(8,Math.floor(PO(t)/3))),n=Math.pow(10,-i),a=ZO[8+i/3];return function(e){return r(n*e)+a}}return o(u,"newFormat"),o(h,"formatPrefix"),{format:u,formatPrefix:h}}function eM(e){return KO=QO(e),YO=KO.format,XO=KO.formatPrefix,KO}function tM(e){return Math.max(0,-PO(Math.abs(e)))}function rM(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(PO(t)/3)))-PO(Math.abs(e)))}function iM(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,PO(t)-PO(e))+1}function nM(e,t,r,i){var n,a=$$(e,t,r);switch((i=zO(i??",f")).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null==i.precision&&!isNaN(n=rM(a,o))&&(i.precision=n),XO(i,o);case"":case"e":case"g":case"p":case"r":null==i.precision&&!isNaN(n=iM(a,Math.max(Math.abs(e),Math.abs(t))))&&(i.precision=n-("e"===i.type));break;case"f":case"%":null==i.precision&&!isNaN(n=tM(a))&&(i.precision=n-2*("%"===i.type))}return YO(i)}function aM(e){var t=e.domain;return e.ticks=function(e){var r=t();return w$(r[0],r[r.length-1],e??10)},e.tickFormat=function(e,r){var i=t();return nM(i[0],i[i.length-1],e??10,r)},e.nice=function(r){null==r&&(r=10);var i,n,a=t(),o=0,s=a.length-1,l=a[o],c=a[s],u=10;for(c<l&&(n=l,l=c,c=n,n=o,o=s,s=n);u-- >0;){if((n=R$(l,c,r))===i)return a[o]=l,a[s]=c,t(a);if(n>0)l=Math.floor(l/n)*n,c=Math.ceil(c/n)*n;else{if(!(n<0))break;l=Math.ceil(l*n)/n,c=Math.floor(c*n)/n}i=n}return e},e}o(QO,"default"),eM({thousands:",",grouping:[3],currency:["$",""]}),o(eM,"defaultLocale"),o(tM,"default"),o(rM,"default"),o(iM,"default"),o(nM,"tickFormat"),o(aM,"linearish"),o((function e(){var t=NO();return t.copy=function(){return LO(t,e())},TO.apply(t,arguments),aM(t)}),"linear");var oM=new Date,sM=new Date;function lM(e,t,r,i){function n(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return o(n,"interval"),n.floor=t=>(e(t=new Date(+t)),t),n.ceil=r=>(e(r=new Date(r-1)),t(r,1),e(r),r),n.round=e=>{let t=n(e),r=n.ceil(e);return e-t<r-e?t:r},n.offset=(e,r)=>(t(e=new Date(+e),null==r?1:Math.floor(r)),e),n.range=(r,i,a)=>{let o,s=[];if(r=n.ceil(r),a=null==a?1:Math.floor(a),!(r<i&&a>0))return s;do{s.push(o=new Date(+r)),t(r,a),e(r)}while(o<r&&r<i);return s},n.filter=r=>lM((t=>{if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)}),((e,i)=>{if(e>=e)if(i<0)for(;++i<=0;)for(;t(e,-1),!r(e););else for(;--i>=0;)for(;t(e,1),!r(e););})),r&&(n.count=(t,i)=>(oM.setTime(+t),sM.setTime(+i),e(oM),e(sM),Math.floor(r(oM,sM))),n.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?n.filter(i?t=>i(t)%e==0:t=>n.count(0,t)%e==0):n:null)),n}o(lM,"timeInterval");var cM=lM((()=>{}),((e,t)=>{e.setTime(+e+t)}),((e,t)=>t-e));cM.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?lM((t=>{t.setTime(Math.floor(t/e)*e)}),((t,r)=>{t.setTime(+t+r*e)}),((t,r)=>(r-t)/e)):cM:null),cM.range;var uM=lM((e=>{e.setTime(e-e.getMilliseconds())}),((e,t)=>{e.setTime(+e+1e3*t)}),((e,t)=>(t-e)/1e3),(e=>e.getUTCSeconds()));uM.range;var hM=lM((e=>{e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds())}),((e,t)=>{e.setTime(+e+6e4*t)}),((e,t)=>(t-e)/6e4),(e=>e.getMinutes()));hM.range;var dM=lM((e=>{e.setUTCSeconds(0,0)}),((e,t)=>{e.setTime(+e+6e4*t)}),((e,t)=>(t-e)/6e4),(e=>e.getUTCMinutes()));dM.range;var fM=lM((e=>{e.setTime(e-e.getMilliseconds()-1e3*e.getSeconds()-6e4*e.getMinutes())}),((e,t)=>{e.setTime(+e+36e5*t)}),((e,t)=>(t-e)/36e5),(e=>e.getHours()));fM.range;var pM=lM((e=>{e.setUTCMinutes(0,0,0)}),((e,t)=>{e.setTime(+e+36e5*t)}),((e,t)=>(t-e)/36e5),(e=>e.getUTCHours()));pM.range;var mM=lM((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5),(e=>e.getDate()-1));mM.range;var gM=lM((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/864e5),(e=>e.getUTCDate()-1));gM.range;var yM=lM((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/864e5),(e=>Math.floor(e/864e5)));function vM(e){return lM((t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),((e,t)=>{e.setDate(e.getDate()+7*t)}),((e,t)=>(t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/6048e5))}yM.range,o(vM,"timeWeekday");var xM=vM(0),TM=vM(1),CM=vM(2),bM=vM(3),kM=vM(4),_M=vM(5),SM=vM(6);function AM(e){return lM((t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)}),((e,t)=>(t-e)/6048e5))}xM.range,TM.range,CM.range,bM.range,kM.range,_M.range,SM.range,o(AM,"utcWeekday");var EM=AM(0),wM=AM(1),RM=AM(2),$M=AM(3),LM=AM(4),IM=AM(5),NM=AM(6);EM.range,wM.range,RM.range,$M.range,LM.range,IM.range,NM.range;var OM=lM((e=>{e.setDate(1),e.setHours(0,0,0,0)}),((e,t)=>{e.setMonth(e.getMonth()+t)}),((e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())),(e=>e.getMonth()));OM.range;var MM=lM((e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)}),((e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())),(e=>e.getUTCMonth()));MM.range;var PM=lM((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,t)=>{e.setFullYear(e.getFullYear()+t)}),((e,t)=>t.getFullYear()-e.getFullYear()),(e=>e.getFullYear()));PM.every=e=>isFinite(e=Math.floor(e))&&e>0?lM((t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,r)=>{t.setFullYear(t.getFullYear()+r*e)})):null,PM.range;var BM=lM((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)}),((e,t)=>t.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));function FM(e,t,r,i,n,a){let s=[[uM,1,1e3],[uM,5,5e3],[uM,15,15e3],[uM,30,3e4],[a,1,6e4],[a,5,3e5],[a,15,9e5],[a,30,18e5],[n,1,36e5],[n,3,108e5],[n,6,216e5],[n,12,432e5],[i,1,864e5],[i,2,1728e5],[r,1,6048e5],[t,1,2592e6],[t,3,7776e6],[e,1,31536e6]];function l(e,t,r){let i=t<e;i&&([e,t]=[t,e]);let n=r&&"function"==typeof r.range?r:c(e,t,r),a=n?n.range(e,+t+1):[];return i?a.reverse():a}function c(t,r,i){let n=Math.abs(r-t)/i,a=f$((([,,e])=>e)).right(s,n);if(a===s.length)return e.every($$(t/31536e6,r/31536e6,i));if(0===a)return cM.every(Math.max($$(t,r,i),1));let[o,l]=s[n/s[a-1][2]<s[a][2]/n?a-1:a];return o.every(l)}return o(l,"ticks"),o(c,"tickInterval"),[l,c]}BM.every=e=>isFinite(e=Math.floor(e))&&e>0?lM((t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)})):null,BM.range,o(FM,"ticker"),FM(BM,MM,EM,yM,pM,dM);var[DM,UM]=FM(PM,OM,xM,mM,fM,hM);function zM(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function jM(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function GM(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function WM(e){var t=e.dateTime,r=e.date,i=e.time,n=e.periods,a=e.days,s=e.shortDays,l=e.months,c=e.shortMonths,u=QM(n),h=eP(n),d=QM(a),f=eP(a),p=QM(s),m=eP(s),g=QM(l),y=eP(l),v=QM(c),x=eP(c),T={a:O,A:M,b:P,B:B,c:null,d:CP,e:CP,f:AP,g:BP,G:DP,H:bP,I:kP,j:_P,L:SP,m:EP,M:wP,p:F,q:D,Q:lB,s:cB,S:RP,u:$P,U:LP,V:NP,w:OP,W:MP,x:null,X:null,y:PP,Y:FP,Z:UP,"%":sB},C={a:U,A:z,b:j,B:G,c:null,d:zP,e:zP,f:HP,g:iB,G:aB,H:jP,I:GP,j:WP,L:qP,m:VP,M:KP,p:W,q:q,Q:lB,s:cB,S:YP,u:XP,U:JP,V:QP,w:eB,W:tB,x:null,X:null,y:rB,Y:nB,Z:oB,"%":sB},b={a:E,A:w,b:R,B:$,c:L,d:hP,e:hP,f:yP,g:sP,G:oP,H:fP,I:fP,j:dP,L:gP,m:uP,M:pP,p:A,q:cP,Q:xP,s:TP,S:mP,u:rP,U:iP,V:nP,w:tP,W:aP,x:I,X:N,y:sP,Y:oP,Z:lP,"%":vP};function k(e,t){return function(r){var i,n,a,o=[],s=-1,l=0,c=e.length;for(r instanceof Date||(r=new Date(+r));++s<c;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(n=VM[i=e.charAt(++s)])?i=e.charAt(++s):n="e"===i?" ":"0",(a=t[i])&&(i=a(r,n)),o.push(i),l=s+1);return o.push(e.slice(l,s)),o.join("")}}function _(e,t){return function(r){var i,n,a=GM(1900,void 0,1);if(S(a,e,r+="",0)!=r.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(t&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(n=(i=jM(GM(a.y,0,1))).getUTCDay(),i=n>4||0===n?wM.ceil(i):wM(i),i=gM.offset(i,7*(a.V-1)),a.y=i.getUTCFullYear(),a.m=i.getUTCMonth(),a.d=i.getUTCDate()+(a.w+6)%7):(n=(i=zM(GM(a.y,0,1))).getDay(),i=n>4||0===n?TM.ceil(i):TM(i),i=mM.offset(i,7*(a.V-1)),a.y=i.getFullYear(),a.m=i.getMonth(),a.d=i.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),n="Z"in a?jM(GM(a.y,0,1)).getUTCDay():zM(GM(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(n+5)%7:a.w+7*a.U-(n+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,jM(a)):zM(a)}}function S(e,t,r,i){for(var n,a,o=0,s=t.length,l=r.length;o<s;){if(i>=l)return-1;if(37===(n=t.charCodeAt(o++))){if(n=t.charAt(o++),!(a=b[n in VM?t.charAt(o++):n])||(i=a(e,r,i))<0)return-1}else if(n!=r.charCodeAt(i++))return-1}return i}function A(e,t,r){var i=u.exec(t.slice(r));return i?(e.p=h.get(i[0].toLowerCase()),r+i[0].length):-1}function E(e,t,r){var i=p.exec(t.slice(r));return i?(e.w=m.get(i[0].toLowerCase()),r+i[0].length):-1}function w(e,t,r){var i=d.exec(t.slice(r));return i?(e.w=f.get(i[0].toLowerCase()),r+i[0].length):-1}function R(e,t,r){var i=v.exec(t.slice(r));return i?(e.m=x.get(i[0].toLowerCase()),r+i[0].length):-1}function $(e,t,r){var i=g.exec(t.slice(r));return i?(e.m=y.get(i[0].toLowerCase()),r+i[0].length):-1}function L(e,r,i){return S(e,t,r,i)}function I(e,t,i){return S(e,r,t,i)}function N(e,t,r){return S(e,i,t,r)}function O(e){return s[e.getDay()]}function M(e){return a[e.getDay()]}function P(e){return c[e.getMonth()]}function B(e){return l[e.getMonth()]}function F(e){return n[+(e.getHours()>=12)]}function D(e){return 1+~~(e.getMonth()/3)}function U(e){return s[e.getUTCDay()]}function z(e){return a[e.getUTCDay()]}function j(e){return c[e.getUTCMonth()]}function G(e){return l[e.getUTCMonth()]}function W(e){return n[+(e.getUTCHours()>=12)]}function q(e){return 1+~~(e.getUTCMonth()/3)}return T.x=k(r,T),T.X=k(i,T),T.c=k(t,T),C.x=k(r,C),C.X=k(i,C),C.c=k(t,C),o(k,"newFormat"),o(_,"newParse"),o(S,"parseSpecifier"),o(A,"parsePeriod"),o(E,"parseShortWeekday"),o(w,"parseWeekday"),o(R,"parseShortMonth"),o($,"parseMonth"),o(L,"parseLocaleDateTime"),o(I,"parseLocaleDate"),o(N,"parseLocaleTime"),o(O,"formatShortWeekday"),o(M,"formatWeekday"),o(P,"formatShortMonth"),o(B,"formatMonth"),o(F,"formatPeriod"),o(D,"formatQuarter"),o(U,"formatUTCShortWeekday"),o(z,"formatUTCWeekday"),o(j,"formatUTCShortMonth"),o(G,"formatUTCMonth"),o(W,"formatUTCPeriod"),o(q,"formatUTCQuarter"),{format:o((function(e){var t=k(e+="",T);return t.toString=function(){return e},t}),"format"),parse:o((function(e){var t=_(e+="",!1);return t.toString=function(){return e},t}),"parse"),utcFormat:o((function(e){var t=k(e+="",C);return t.toString=function(){return e},t}),"utcFormat"),utcParse:o((function(e){var t=_(e+="",!0);return t.toString=function(){return e},t}),"utcParse")}}o(zM,"localDate"),o(jM,"utcDate"),o(GM,"newDate"),o(WM,"formatLocale");var qM,HM,VM={"-":"",_:" ",0:"0"},KM=/^\s*\d+/,YM=/^%/,XM=/[\\^$*+?|[\]().{}]/g;function JM(e,t,r){var i=e<0?"-":"",n=(i?-e:e)+"",a=n.length;return i+(a<r?new Array(r-a+1).join(t)+n:n)}function ZM(e){return e.replace(XM,"\\$&")}function QM(e){return new RegExp("^(?:"+e.map(ZM).join("|")+")","i")}function eP(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function tP(e,t,r){var i=KM.exec(t.slice(r,r+1));return i?(e.w=+i[0],r+i[0].length):-1}function rP(e,t,r){var i=KM.exec(t.slice(r,r+1));return i?(e.u=+i[0],r+i[0].length):-1}function iP(e,t,r){var i=KM.exec(t.slice(r,r+2));return i?(e.U=+i[0],r+i[0].length):-1}function nP(e,t,r){var i=KM.exec(t.slice(r,r+2));return i?(e.V=+i[0],r+i[0].length):-1}function aP(e,t,r){var i=KM.exec(t.slice(r,r+2));return i?(e.W=+i[0],r+i[0].length):-1}function oP(e,t,r){var i=KM.exec(t.slice(r,r+4));return i?(e.y=+i[0],r+i[0].length):-1}function sP(e,t,r){var i=KM.exec(t.slice(r,r+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),r+i[0].length):-1}function lP(e,t,r){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),r+i[0].length):-1}function cP(e,t,r){var i=KM.exec(t.slice(r,r+1));return i?(e.q=3*i[0]-3,r+i[0].length):-1}function uP(e,t,r){var i=KM.exec(t.slice(r,r+2));return i?(e.m=i[0]-1,r+i[0].length):-1}function hP(e,t,r){var i=KM.exec(t.slice(r,r+2));return i?(e.d=+i[0],r+i[0].length):-1}function dP(e,t,r){var i=KM.exec(t.slice(r,r+3));return i?(e.m=0,e.d=+i[0],r+i[0].length):-1}function fP(e,t,r){var i=KM.exec(t.slice(r,r+2));return i?(e.H=+i[0],r+i[0].length):-1}function pP(e,t,r){var i=KM.exec(t.slice(r,r+2));return i?(e.M=+i[0],r+i[0].length):-1}function mP(e,t,r){var i=KM.exec(t.slice(r,r+2));return i?(e.S=+i[0],r+i[0].length):-1}function gP(e,t,r){var i=KM.exec(t.slice(r,r+3));return i?(e.L=+i[0],r+i[0].length):-1}function yP(e,t,r){var i=KM.exec(t.slice(r,r+6));return i?(e.L=Math.floor(i[0]/1e3),r+i[0].length):-1}function vP(e,t,r){var i=YM.exec(t.slice(r,r+1));return i?r+i[0].length:-1}function xP(e,t,r){var i=KM.exec(t.slice(r));return i?(e.Q=+i[0],r+i[0].length):-1}function TP(e,t,r){var i=KM.exec(t.slice(r));return i?(e.s=+i[0],r+i[0].length):-1}function CP(e,t){return JM(e.getDate(),t,2)}function bP(e,t){return JM(e.getHours(),t,2)}function kP(e,t){return JM(e.getHours()%12||12,t,2)}function _P(e,t){return JM(1+mM.count(PM(e),e),t,3)}function SP(e,t){return JM(e.getMilliseconds(),t,3)}function AP(e,t){return SP(e,t)+"000"}function EP(e,t){return JM(e.getMonth()+1,t,2)}function wP(e,t){return JM(e.getMinutes(),t,2)}function RP(e,t){return JM(e.getSeconds(),t,2)}function $P(e){var t=e.getDay();return 0===t?7:t}function LP(e,t){return JM(xM.count(PM(e)-1,e),t,2)}function IP(e){var t=e.getDay();return t>=4||0===t?kM(e):kM.ceil(e)}function NP(e,t){return e=IP(e),JM(kM.count(PM(e),e)+(4===PM(e).getDay()),t,2)}function OP(e){return e.getDay()}function MP(e,t){return JM(TM.count(PM(e)-1,e),t,2)}function PP(e,t){return JM(e.getFullYear()%100,t,2)}function BP(e,t){return JM((e=IP(e)).getFullYear()%100,t,2)}function FP(e,t){return JM(e.getFullYear()%1e4,t,4)}function DP(e,t){var r=e.getDay();return JM((e=r>=4||0===r?kM(e):kM.ceil(e)).getFullYear()%1e4,t,4)}function UP(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+JM(t/60|0,"0",2)+JM(t%60,"0",2)}function zP(e,t){return JM(e.getUTCDate(),t,2)}function jP(e,t){return JM(e.getUTCHours(),t,2)}function GP(e,t){return JM(e.getUTCHours()%12||12,t,2)}function WP(e,t){return JM(1+gM.count(BM(e),e),t,3)}function qP(e,t){return JM(e.getUTCMilliseconds(),t,3)}function HP(e,t){return qP(e,t)+"000"}function VP(e,t){return JM(e.getUTCMonth()+1,t,2)}function KP(e,t){return JM(e.getUTCMinutes(),t,2)}function YP(e,t){return JM(e.getUTCSeconds(),t,2)}function XP(e){var t=e.getUTCDay();return 0===t?7:t}function JP(e,t){return JM(EM.count(BM(e)-1,e),t,2)}function ZP(e){var t=e.getUTCDay();return t>=4||0===t?LM(e):LM.ceil(e)}function QP(e,t){return e=ZP(e),JM(LM.count(BM(e),e)+(4===BM(e).getUTCDay()),t,2)}function eB(e){return e.getUTCDay()}function tB(e,t){return JM(wM.count(BM(e)-1,e),t,2)}function rB(e,t){return JM(e.getUTCFullYear()%100,t,2)}function iB(e,t){return JM((e=ZP(e)).getUTCFullYear()%100,t,2)}function nB(e,t){return JM(e.getUTCFullYear()%1e4,t,4)}function aB(e,t){var r=e.getUTCDay();return JM((e=r>=4||0===r?LM(e):LM.ceil(e)).getUTCFullYear()%1e4,t,4)}function oB(){return"+0000"}function sB(){return"%"}function lB(e){return+e}function cB(e){return Math.floor(+e/1e3)}function uB(e){return qM=WM(e),HM=qM.format,qM.parse,qM.utcFormat,qM.utcParse,qM}function hB(e,t){var r,i=0,n=(e=e.slice()).length-1,a=e[i],o=e[n];return o<a&&(r=i,i=n,n=r,r=a,a=o,o=r),e[i]=t.floor(a),e[n]=t.ceil(o),e}function dB(e){return new Date(e)}function fB(e){return e instanceof Date?+e:+new Date(+e)}function pB(e,t,r,i,n,a,s,l,c,u){var h=NO(),d=h.invert,f=h.domain,p=u(".%L"),m=u(":%S"),g=u("%I:%M"),y=u("%I %p"),v=u("%a %d"),x=u("%b %d"),T=u("%B"),C=u("%Y");function b(e){return(c(e)<e?p:l(e)<e?m:s(e)<e?g:a(e)<e?y:i(e)<e?n(e)<e?v:x:r(e)<e?T:C)(e)}return o(b,"tickFormat"),h.invert=function(e){return new Date(d(e))},h.domain=function(e){return arguments.length?f(Array.from(e,fB)):f().map(dB)},h.ticks=function(t){var r=f();return e(r[0],r[r.length-1],t??10)},h.tickFormat=function(e,t){return null==t?b:u(t)},h.nice=function(e){var r=f();return(!e||"function"!=typeof e.range)&&(e=t(r[0],r[r.length-1],e??10)),e?f(hB(r,e)):h},h.copy=function(){return LO(h,pB(e,t,r,i,n,a,s,l,c,u))},h}function mB(e){for(var t=e.length/6|0,r=new Array(t),i=0;i<t;)r[i]="#"+e.slice(6*i,6*++i);return r}function gB(e){return o((function(){return e}),"constant")}o(JM,"pad"),o(ZM,"requote"),o(QM,"formatRe"),o(eP,"formatLookup"),o(tP,"parseWeekdayNumberSunday"),o(rP,"parseWeekdayNumberMonday"),o(iP,"parseWeekNumberSunday"),o(nP,"parseWeekNumberISO"),o(aP,"parseWeekNumberMonday"),o(oP,"parseFullYear"),o(sP,"parseYear"),o(lP,"parseZone"),o(cP,"parseQuarter"),o(uP,"parseMonthNumber"),o(hP,"parseDayOfMonth"),o(dP,"parseDayOfYear"),o(fP,"parseHour24"),o(pP,"parseMinutes"),o(mP,"parseSeconds"),o(gP,"parseMilliseconds"),o(yP,"parseMicroseconds"),o(vP,"parseLiteralPercent"),o(xP,"parseUnixTimestamp"),o(TP,"parseUnixTimestampSeconds"),o(CP,"formatDayOfMonth"),o(bP,"formatHour24"),o(kP,"formatHour12"),o(_P,"formatDayOfYear"),o(SP,"formatMilliseconds"),o(AP,"formatMicroseconds"),o(EP,"formatMonthNumber"),o(wP,"formatMinutes"),o(RP,"formatSeconds"),o($P,"formatWeekdayNumberMonday"),o(LP,"formatWeekNumberSunday"),o(IP,"dISO"),o(NP,"formatWeekNumberISO"),o(OP,"formatWeekdayNumberSunday"),o(MP,"formatWeekNumberMonday"),o(PP,"formatYear"),o(BP,"formatYearISO"),o(FP,"formatFullYear"),o(DP,"formatFullYearISO"),o(UP,"formatZone"),o(zP,"formatUTCDayOfMonth"),o(jP,"formatUTCHour24"),o(GP,"formatUTCHour12"),o(WP,"formatUTCDayOfYear"),o(qP,"formatUTCMilliseconds"),o(HP,"formatUTCMicroseconds"),o(VP,"formatUTCMonthNumber"),o(KP,"formatUTCMinutes"),o(YP,"formatUTCSeconds"),o(XP,"formatUTCWeekdayNumberMonday"),o(JP,"formatUTCWeekNumberSunday"),o(ZP,"UTCdISO"),o(QP,"formatUTCWeekNumberISO"),o(eB,"formatUTCWeekdayNumberSunday"),o(tB,"formatUTCWeekNumberMonday"),o(rB,"formatUTCYear"),o(iB,"formatUTCYearISO"),o(nB,"formatUTCFullYear"),o(aB,"formatUTCFullYearISO"),o(oB,"formatUTCZone"),o(sB,"formatLiteralPercent"),o(lB,"formatUnixTimestamp"),o(cB,"formatUnixTimestampSeconds"),uB({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),o(uB,"defaultLocale"),o(hB,"nice"),o(dB,"date"),o(fB,"number"),o(pB,"calendar"),o((function(){return TO.apply(pB(DM,UM,PM,OM,xM,mM,fM,hM,uM,HM).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}),"time"),o((function e(){var t,r,i=bO().unknown(void 0),n=i.domain,a=i.range,s=0,l=1,c=!1,u=0,h=0,d=.5;function f(){var e=n().length,i=l<s,o=i?l:s,f=i?s:l;t=(f-o)/Math.max(1,e-u+2*h),c&&(t=Math.floor(t)),o+=(f-o-t*(e-u))*d,r=t*(1-u),c&&(o=Math.round(o),r=Math.round(r));var p=L$(e).map((function(e){return o+t*e}));return a(i?p.reverse():p)}return delete i.unknown,o(f,"rescale"),i.domain=function(e){return arguments.length?(n(e),f()):n()},i.range=function(e){return arguments.length?([s,l]=e,s=+s,l=+l,f()):[s,l]},i.rangeRound=function(e){return[s,l]=e,s=+s,l=+l,c=!0,f()},i.bandwidth=function(){return r},i.step=function(){return t},i.round=function(e){return arguments.length?(c=!!e,f()):c},i.padding=function(e){return arguments.length?(u=Math.min(1,h=+e),f()):u},i.paddingInner=function(e){return arguments.length?(u=Math.min(1,e),f()):u},i.paddingOuter=function(e){return arguments.length?(h=+e,f()):h},i.align=function(e){return arguments.length?(d=Math.max(0,Math.min(1,e)),f()):d},i.copy=function(){return e(n(),[s,l]).round(c).paddingInner(u).paddingOuter(h).align(d)},TO.apply(f(),arguments)}),"band"),o(mB,"default"),mB("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),o(gB,"default");var yB=Math.abs,vB=Math.atan2,xB=Math.cos,TB=Math.max,CB=Math.min,bB=Math.sin,kB=Math.sqrt,_B=1e-12,SB=Math.PI,AB=SB/2,EB=2*SB;function wB(e){return e>1?0:e<-1?SB:Math.acos(e)}function RB(e){return e>=1?AB:e<=-1?-AB:Math.asin(e)}o(wB,"acos"),o(RB,"asin");var $B=Math.PI,LB=2*$B,IB=1e-6,NB=LB-IB;function OB(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function MB(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return OB;let r=10**t;return function(e){this._+=e[0];for(let t=1,i=e.length;t<i;++t)this._+=Math.round(arguments[t]*r)/r+e[t]}}o(OB,"append"),o(MB,"appendRound");var PB=class{static{o(this,"Path")}constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?OB:MB(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,r,i){this._append`Q${+e},${+t},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,t,r,i,n,a){this._append`C${+e},${+t},${+r},${+i},${this._x1=+n},${this._y1=+a}`}arcTo(e,t,r,i,n){if(e=+e,t=+t,r=+r,i=+i,(n=+n)<0)throw new Error(`negative radius: ${n}`);let a=this._x1,o=this._y1,s=r-e,l=i-t,c=a-e,u=o-t,h=c*c+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(h>IB)if(Math.abs(u*s-l*c)>IB&&n){let d=r-a,f=i-o,p=s*s+l*l,m=d*d+f*f,g=Math.sqrt(p),y=Math.sqrt(h),v=n*Math.tan(($B-Math.acos((p+h-m)/(2*g*y)))/2),x=v/y,T=v/g;Math.abs(x-1)>IB&&this._append`L${e+x*c},${t+x*u}`,this._append`A${n},${n},0,0,${+(u*d>c*f)},${this._x1=e+T*s},${this._y1=t+T*l}`}else this._append`L${this._x1=e},${this._y1=t}`}arc(e,t,r,i,n,a){if(e=+e,t=+t,a=!!a,(r=+r)<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),s=r*Math.sin(i),l=e+o,c=t+s,u=1^a,h=a?i-n:n-i;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>IB||Math.abs(this._y1-c)>IB)&&this._append`L${l},${c}`,r&&(h<0&&(h=h%LB+LB),h>NB?this._append`A${r},${r},0,1,${u},${e-o},${t-s}A${r},${r},0,1,${u},${this._x1=l},${this._y1=c}`:h>IB&&this._append`A${r},${r},0,${+(h>=$B)},${u},${this._x1=e+r*Math.cos(n)},${this._y1=t+r*Math.sin(n)}`)}rect(e,t,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function BB(){return new PB}function FB(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(null==r)t=null;else{let e=Math.floor(r);if(!(e>=0))throw new RangeError(`invalid digits: ${r}`);t=e}return e},()=>new PB(t)}function DB(e){return e.innerRadius}function UB(e){return e.outerRadius}function zB(e){return e.startAngle}function jB(e){return e.endAngle}function GB(e){return e&&e.padAngle}function WB(e,t,r,i,n,a,o,s){var l=r-e,c=i-t,u=o-n,h=s-a,d=h*l-u*c;if(!(d*d<_B))return[e+(d=(u*(t-a)-h*(e-n))/d)*l,t+d*c]}function qB(e,t,r,i,n,a,o){var s=e-r,l=t-i,c=(o?a:-a)/kB(s*s+l*l),u=c*l,h=-c*s,d=e+u,f=t+h,p=r+u,m=i+h,g=(d+p)/2,y=(f+m)/2,v=p-d,x=m-f,T=v*v+x*x,C=n-a,b=d*m-p*f,k=(x<0?-1:1)*kB(TB(0,C*C*T-b*b)),_=(b*x-v*k)/T,S=(-b*v-x*k)/T,A=(b*x+v*k)/T,E=(-b*v+x*k)/T,w=_-g,R=S-y,$=A-g,L=E-y;return w*w+R*R>$*$+L*L&&(_=A,S=E),{cx:_,cy:S,x01:-u,y01:-h,x11:_*(n/C-1),y11:S*(n/C-1)}}function HB(e){this._context=e}function VB(e){return new HB(e)}function KB(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}function YB(e){return e[0]}function XB(e){return e[1]}function JB(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function ZB(e){return e}o(BB,"path"),BB.prototype=PB.prototype,o(FB,"withPath"),o(DB,"arcInnerRadius"),o(UB,"arcOuterRadius"),o(zB,"arcStartAngle"),o(jB,"arcEndAngle"),o(GB,"arcPadAngle"),o(WB,"intersect"),o(qB,"cornerTangents"),o((function(){var e=DB,t=UB,r=gB(0),i=null,n=zB,a=jB,s=GB,l=null,c=FB(u);function u(){var o,u,h=+e.apply(this,arguments),d=+t.apply(this,arguments),f=n.apply(this,arguments)-AB,p=a.apply(this,arguments)-AB,m=yB(p-f),g=p>f;if(l||(l=o=c()),d<h&&(u=d,d=h,h=u),d>_B)if(m>EB-_B)l.moveTo(d*xB(f),d*bB(f)),l.arc(0,0,d,f,p,!g),h>_B&&(l.moveTo(h*xB(p),h*bB(p)),l.arc(0,0,h,p,f,g));else{var y,v,x=f,T=p,C=f,b=p,k=m,_=m,S=s.apply(this,arguments)/2,A=S>_B&&(i?+i.apply(this,arguments):kB(h*h+d*d)),E=CB(yB(d-h)/2,+r.apply(this,arguments)),w=E,R=E;if(A>_B){var $=RB(A/h*bB(S)),L=RB(A/d*bB(S));(k-=2*$)>_B?(C+=$*=g?1:-1,b-=$):(k=0,C=b=(f+p)/2),(_-=2*L)>_B?(x+=L*=g?1:-1,T-=L):(_=0,x=T=(f+p)/2)}var I=d*xB(x),N=d*bB(x),O=h*xB(b),M=h*bB(b);if(E>_B){var P,B=d*xB(T),F=d*bB(T),D=h*xB(C),U=h*bB(C);if(m<SB)if(P=WB(I,N,D,U,B,F,O,M)){var z=I-P[0],j=N-P[1],G=B-P[0],W=F-P[1],q=1/bB(wB((z*G+j*W)/(kB(z*z+j*j)*kB(G*G+W*W)))/2),H=kB(P[0]*P[0]+P[1]*P[1]);w=CB(E,(h-H)/(q-1)),R=CB(E,(d-H)/(q+1))}else w=R=0}_>_B?R>_B?(y=qB(D,U,I,N,d,R,g),v=qB(B,F,O,M,d,R,g),l.moveTo(y.cx+y.x01,y.cy+y.y01),R<E?l.arc(y.cx,y.cy,R,vB(y.y01,y.x01),vB(v.y01,v.x01),!g):(l.arc(y.cx,y.cy,R,vB(y.y01,y.x01),vB(y.y11,y.x11),!g),l.arc(0,0,d,vB(y.cy+y.y11,y.cx+y.x11),vB(v.cy+v.y11,v.cx+v.x11),!g),l.arc(v.cx,v.cy,R,vB(v.y11,v.x11),vB(v.y01,v.x01),!g))):(l.moveTo(I,N),l.arc(0,0,d,x,T,!g)):l.moveTo(I,N),h>_B&&k>_B?w>_B?(y=qB(O,M,B,F,h,-w,g),v=qB(I,N,D,U,h,-w,g),l.lineTo(y.cx+y.x01,y.cy+y.y01),w<E?l.arc(y.cx,y.cy,w,vB(y.y01,y.x01),vB(v.y01,v.x01),!g):(l.arc(y.cx,y.cy,w,vB(y.y01,y.x01),vB(y.y11,y.x11),!g),l.arc(0,0,h,vB(y.cy+y.y11,y.cx+y.x11),vB(v.cy+v.y11,v.cx+v.x11),g),l.arc(v.cx,v.cy,w,vB(v.y11,v.x11),vB(v.y01,v.x01),!g))):l.arc(0,0,h,b,C,g):l.lineTo(O,M)}else l.moveTo(0,0);if(l.closePath(),o)return l=null,o+""||null}return o(u,"arc"),u.centroid=function(){var r=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,i=(+n.apply(this,arguments)+ +a.apply(this,arguments))/2-SB/2;return[xB(i)*r,bB(i)*r]},u.innerRadius=function(t){return arguments.length?(e="function"==typeof t?t:gB(+t),u):e},u.outerRadius=function(e){return arguments.length?(t="function"==typeof e?e:gB(+e),u):t},u.cornerRadius=function(e){return arguments.length?(r="function"==typeof e?e:gB(+e),u):r},u.padRadius=function(e){return arguments.length?(i=null==e?null:"function"==typeof e?e:gB(+e),u):i},u.startAngle=function(e){return arguments.length?(n="function"==typeof e?e:gB(+e),u):n},u.endAngle=function(e){return arguments.length?(a="function"==typeof e?e:gB(+e),u):a},u.padAngle=function(e){return arguments.length?(s="function"==typeof e?e:gB(+e),u):s},u.context=function(e){return arguments.length?(l=e??null,u):l},u}),"default"),o(HB,"Linear"),HB.prototype={areaStart:o((function(){this._line=0}),"areaStart"),areaEnd:o((function(){this._line=NaN}),"areaEnd"),lineStart:o((function(){this._point=0}),"lineStart"),lineEnd:o((function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}),"lineEnd"),point:o((function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}),"point")},o(VB,"default"),o(KB,"default"),o(YB,"x"),o(XB,"y"),o((function(e,t){var r=gB(!0),i=null,n=VB,a=null,s=FB(l);function l(o){var l,c,u,h=(o=KB(o)).length,d=!1;for(null==i&&(a=n(u=s())),l=0;l<=h;++l)!(l<h&&r(c=o[l],l,o))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+e(c,l,o),+t(c,l,o));if(u)return a=null,u+""||null}return e="function"==typeof e?e:void 0===e?YB:gB(e),t="function"==typeof t?t:void 0===t?XB:gB(t),o(l,"line"),l.x=function(t){return arguments.length?(e="function"==typeof t?t:gB(+t),l):e},l.y=function(e){return arguments.length?(t="function"==typeof e?e:gB(+e),l):t},l.defined=function(e){return arguments.length?(r="function"==typeof e?e:gB(!!e),l):r},l.curve=function(e){return arguments.length?(n=e,null!=i&&(a=n(i)),l):n},l.context=function(e){return arguments.length?(null==e?i=a=null:a=n(i=e),l):i},l}),"default"),o(JB,"default"),o(ZB,"default"),o((function(){var e=ZB,t=JB,r=null,i=gB(0),n=gB(EB),a=gB(0);function s(o){var s,l,c,u,h,d=(o=KB(o)).length,f=0,p=new Array(d),m=new Array(d),g=+i.apply(this,arguments),y=Math.min(EB,Math.max(-EB,n.apply(this,arguments)-g)),v=Math.min(Math.abs(y)/d,a.apply(this,arguments)),x=v*(y<0?-1:1);for(s=0;s<d;++s)(h=m[p[s]=s]=+e(o[s],s,o))>0&&(f+=h);for(null!=t?p.sort((function(e,r){return t(m[e],m[r])})):null!=r&&p.sort((function(e,t){return r(o[e],o[t])})),s=0,c=f?(y-d*x)/f:0;s<d;++s,g=u)l=p[s],u=g+((h=m[l])>0?h*c:0)+x,m[l]={data:o[l],index:s,value:h,startAngle:g,endAngle:u,padAngle:v};return m}return o(s,"pie"),s.value=function(t){return arguments.length?(e="function"==typeof t?t:gB(+t),s):e},s.sortValues=function(e){return arguments.length?(t=e,r=null,s):t},s.sort=function(e){return arguments.length?(r=e,t=null,s):r},s.startAngle=function(e){return arguments.length?(i="function"==typeof e?e:gB(+e),s):i},s.endAngle=function(e){return arguments.length?(n="function"==typeof e?e:gB(+e),s):n},s.padAngle=function(e){return arguments.length?(a="function"==typeof e?e:gB(+e),s):a},s}),"default");var QB=class{static{o(this,"Bump")}constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}};function eF(e){return new QB(e,!0)}function tF(e){return new QB(e,!1)}function rF(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function iF(e){this._context=e}function nF(e){return new iF(e)}function aF(){}function oF(e){this._context=e}function sF(e){return new oF(e)}function lF(e){this._context=e}function cF(e){return new lF(e)}function uF(e,t){this._basis=new iF(e),this._beta=t}o(eF,"bumpX"),o(tF,"bumpY"),o(rF,"point"),o(iF,"Basis"),iF.prototype={areaStart:o((function(){this._line=0}),"areaStart"),areaEnd:o((function(){this._line=NaN}),"areaEnd"),lineStart:o((function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0}),"lineStart"),lineEnd:o((function(){switch(this._point){case 3:rF(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}),"lineEnd"),point:o((function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:rF(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}),"point")},o(nF,"default"),o(aF,"default"),o(oF,"BasisClosed"),oF.prototype={areaStart:aF,areaEnd:aF,lineStart:o((function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0}),"lineStart"),lineEnd:o((function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}}),"lineEnd"),point:o((function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:rF(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}),"point")},o(sF,"default"),o(lF,"BasisOpen"),lF.prototype={areaStart:o((function(){this._line=0}),"areaStart"),areaEnd:o((function(){this._line=NaN}),"areaEnd"),lineStart:o((function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0}),"lineStart"),lineEnd:o((function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line}),"lineEnd"),point:o((function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,i=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,i):this._context.moveTo(r,i);break;case 3:this._point=4;default:rF(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}),"point")},o(cF,"default"),o(uF,"Bundle"),uF.prototype={lineStart:o((function(){this._x=[],this._y=[],this._basis.lineStart()}),"lineStart"),lineEnd:o((function(){var e=this._x,t=this._y,r=e.length-1;if(r>0)for(var i,n=e[0],a=t[0],o=e[r]-n,s=t[r]-a,l=-1;++l<=r;)i=l/r,this._basis.point(this._beta*e[l]+(1-this._beta)*(n+i*o),this._beta*t[l]+(1-this._beta)*(a+i*s));this._x=this._y=null,this._basis.lineEnd()}),"lineEnd"),point:o((function(e,t){this._x.push(+e),this._y.push(+t)}),"point")};var hF=o((function e(t){function r(e){return 1===t?new iF(e):new uF(e,t)}return o(r,"bundle"),r.beta=function(t){return e(+t)},r}),"custom")(.85);function dF(e,t,r){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-r),e._x2,e._y2)}function fF(e,t){this._context=e,this._k=(1-t)/6}o(dF,"point"),o(fF,"Cardinal"),fF.prototype={areaStart:o((function(){this._line=0}),"areaStart"),areaEnd:o((function(){this._line=NaN}),"areaEnd"),lineStart:o((function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0}),"lineStart"),lineEnd:o((function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:dF(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}),"lineEnd"),point:o((function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:dF(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}),"point")};var pF=o((function e(t){function r(e){return new fF(e,t)}return o(r,"cardinal"),r.tension=function(t){return e(+t)},r}),"custom")(0);function mF(e,t){this._context=e,this._k=(1-t)/6}o(mF,"CardinalClosed"),mF.prototype={areaStart:aF,areaEnd:aF,lineStart:o((function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0}),"lineStart"),lineEnd:o((function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}}),"lineEnd"),point:o((function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:dF(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}),"point")};var gF=o((function e(t){function r(e){return new mF(e,t)}return o(r,"cardinal"),r.tension=function(t){return e(+t)},r}),"custom")(0);function yF(e,t){this._context=e,this._k=(1-t)/6}o(yF,"CardinalOpen"),yF.prototype={areaStart:o((function(){this._line=0}),"areaStart"),areaEnd:o((function(){this._line=NaN}),"areaEnd"),lineStart:o((function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0}),"lineStart"),lineEnd:o((function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line}),"lineEnd"),point:o((function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:dF(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}),"point")};var vF=o((function e(t){function r(e){return new yF(e,t)}return o(r,"cardinal"),r.tension=function(t){return e(+t)},r}),"custom")(0);function xF(e,t,r){var i=e._x1,n=e._y1,a=e._x2,o=e._y2;if(e._l01_a>_B){var s=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,l=3*e._l01_a*(e._l01_a+e._l12_a);i=(i*s-e._x0*e._l12_2a+e._x2*e._l01_2a)/l,n=(n*s-e._y0*e._l12_2a+e._y2*e._l01_2a)/l}if(e._l23_a>_B){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,u=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*c+e._x1*e._l23_2a-t*e._l12_2a)/u,o=(o*c+e._y1*e._l23_2a-r*e._l12_2a)/u}e._context.bezierCurveTo(i,n,a,o,e._x2,e._y2)}function TF(e,t){this._context=e,this._alpha=t}o(xF,"point"),o(TF,"CatmullRom"),TF.prototype={areaStart:o((function(){this._line=0}),"areaStart"),areaEnd:o((function(){this._line=NaN}),"areaEnd"),lineStart:o((function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0}),"lineStart"),lineEnd:o((function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}),"lineEnd"),point:o((function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:xF(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}),"point")};var CF=o((function e(t){function r(e){return t?new TF(e,t):new fF(e,0)}return o(r,"catmullRom"),r.alpha=function(t){return e(+t)},r}),"custom")(.5);function bF(e,t){this._context=e,this._alpha=t}o(bF,"CatmullRomClosed"),bF.prototype={areaStart:aF,areaEnd:aF,lineStart:o((function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0}),"lineStart"),lineEnd:o((function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}}),"lineEnd"),point:o((function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:xF(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}),"point")};var kF=o((function e(t){function r(e){return t?new bF(e,t):new mF(e,0)}return o(r,"catmullRom"),r.alpha=function(t){return e(+t)},r}),"custom")(.5);function _F(e,t){this._context=e,this._alpha=t}o(_F,"CatmullRomOpen"),_F.prototype={areaStart:o((function(){this._line=0}),"areaStart"),areaEnd:o((function(){this._line=NaN}),"areaEnd"),lineStart:o((function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0}),"lineStart"),lineEnd:o((function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line}),"lineEnd"),point:o((function(e,t){if(e=+e,t=+t,this._point){var r=this._x2-e,i=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:xF(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}),"point")};var SF=o((function e(t){function r(e){return t?new _F(e,t):new yF(e,0)}return o(r,"catmullRom"),r.alpha=function(t){return e(+t)},r}),"custom")(.5);function AF(e){this._context=e}function EF(e){return new AF(e)}function wF(e){return e<0?-1:1}function RF(e,t,r){var i=e._x1-e._x0,n=t-e._x1,a=(e._y1-e._y0)/(i||n<0&&-0),o=(r-e._y1)/(n||i<0&&-0),s=(a*n+o*i)/(i+n);return(wF(a)+wF(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function $F(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function LF(e,t,r){var i=e._x0,n=e._y0,a=e._x1,o=e._y1,s=(a-i)/3;e._context.bezierCurveTo(i+s,n+s*t,a-s,o-s*r,a,o)}function IF(e){this._context=e}function NF(e){this._context=new OF(e)}function OF(e){this._context=e}function MF(e){return new IF(e)}function PF(e){return new NF(e)}function BF(e){this._context=e}function FF(e){var t,r,i=e.length-1,n=new Array(i),a=new Array(i),o=new Array(i);for(n[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<i-1;++t)n[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(n[i-1]=2,a[i-1]=7,o[i-1]=8*e[i-1]+e[i],t=1;t<i;++t)r=n[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(n[i-1]=o[i-1]/a[i-1],t=i-2;t>=0;--t)n[t]=(o[t]-n[t+1])/a[t];for(a[i-1]=(e[i]+n[i-1])/2,t=0;t<i-1;++t)a[t]=2*e[t+1]-n[t+1];return[n,a]}function DF(e){return new BF(e)}function UF(e,t){this._context=e,this._t=t}function zF(e){return new UF(e,.5)}function jF(e){return new UF(e,0)}function GF(e){return new UF(e,1)}o(AF,"LinearClosed"),AF.prototype={areaStart:aF,areaEnd:aF,lineStart:o((function(){this._point=0}),"lineStart"),lineEnd:o((function(){this._point&&this._context.closePath()}),"lineEnd"),point:o((function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}),"point")},o(EF,"default"),o(wF,"sign"),o(RF,"slope3"),o($F,"slope2"),o(LF,"point"),o(IF,"MonotoneX"),IF.prototype={areaStart:o((function(){this._line=0}),"areaStart"),areaEnd:o((function(){this._line=NaN}),"areaEnd"),lineStart:o((function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0}),"lineStart"),lineEnd:o((function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:LF(this,this._t0,$F(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}),"lineEnd"),point:o((function(e,t){var r=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,LF(this,$F(this,r=RF(this,e,t)),r);break;default:LF(this,this._t0,r=RF(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}),"point")},o(NF,"MonotoneY"),(NF.prototype=Object.create(IF.prototype)).point=function(e,t){IF.prototype.point.call(this,t,e)},o(OF,"ReflectContext"),OF.prototype={moveTo:o((function(e,t){this._context.moveTo(t,e)}),"moveTo"),closePath:o((function(){this._context.closePath()}),"closePath"),lineTo:o((function(e,t){this._context.lineTo(t,e)}),"lineTo"),bezierCurveTo:o((function(e,t,r,i,n,a){this._context.bezierCurveTo(t,e,i,r,a,n)}),"bezierCurveTo")},o(MF,"monotoneX"),o(PF,"monotoneY"),o(BF,"Natural"),BF.prototype={areaStart:o((function(){this._line=0}),"areaStart"),areaEnd:o((function(){this._line=NaN}),"areaEnd"),lineStart:o((function(){this._x=[],this._y=[]}),"lineStart"),lineEnd:o((function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===r)this._context.lineTo(e[1],t[1]);else for(var i=FF(e),n=FF(t),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(i[0][a],n[0][a],i[1][a],n[1][a],e[o],t[o]);(this._line||0!==this._line&&1===r)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null}),"lineEnd"),point:o((function(e,t){this._x.push(+e),this._y.push(+t)}),"point")},o(FF,"controlPoints"),o(DF,"default"),o(UF,"Step"),UF.prototype={areaStart:o((function(){this._line=0}),"areaStart"),areaEnd:o((function(){this._line=NaN}),"areaEnd"),lineStart:o((function(){this._x=this._y=NaN,this._point=0}),"lineStart"),lineEnd:o((function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)}),"lineEnd"),point:o((function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}}this._x=e,this._y=t}),"point")},o(zF,"default"),o(jF,"stepBefore"),o(GF,"stepAfter");var WF={value:o((()=>{}),"value")};function qF(){for(var e,t=0,r=arguments.length,i={};t<r;++t){if(!(e=arguments[t]+"")||e in i||/[\s.]/.test(e))throw new Error("illegal type: "+e);i[e]=[]}return new HF(i)}function HF(e){this._=e}function VF(e,t){return e.trim().split(/^|\s+/).map((function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}}))}function KF(e,t){for(var r,i=0,n=e.length;i<n;++i)if((r=e[i]).name===t)return r.value}function YF(e,t,r){for(var i=0,n=e.length;i<n;++i)if(e[i].name===t){e[i]=WF,e=e.slice(0,i).concat(e.slice(i+1));break}return null!=r&&e.push({name:t,value:r}),e}o(qF,"dispatch"),o(HF,"Dispatch"),o(VF,"parseTypenames"),HF.prototype=qF.prototype={constructor:HF,on:o((function(e,t){var r,i=this._,n=VF(e+"",i),a=-1,o=n.length;if(!(arguments.length<2)){if(null!=t&&"function"!=typeof t)throw new Error("invalid callback: "+t);for(;++a<o;)if(r=(e=n[a]).type)i[r]=YF(i[r],e.name,t);else if(null==t)for(r in i)i[r]=YF(i[r],e.name,null);return this}for(;++a<o;)if((r=(e=n[a]).type)&&(r=KF(i[r],e.name)))return r}),"on"),copy:o((function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new HF(e)}),"copy"),call:o((function(e,t){if((r=arguments.length-2)>0)for(var r,i,n=new Array(r),a=0;a<r;++a)n[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=0,r=(i=this._[e]).length;a<r;++a)i[a].value.apply(t,n)}),"call"),apply:o((function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var i=this._[e],n=0,a=i.length;n<a;++n)i[n].value.apply(t,r)}),"apply")},o(KF,"get"),o(YF,"set");var XF,JF,ZF=qF,QF=0,eD=0,tD=0,rD=0,iD=0,nD=0,aD="object"==typeof performance&&performance.now?performance:Date,oD="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function sD(){return iD||(oD(lD),iD=aD.now()+nD)}function lD(){iD=0}function cD(){this._call=this._time=this._next=null}function uD(e,t,r){var i=new cD;return i.restart(e,t,r),i}function hD(){sD(),++QF;for(var e,t=XF;t;)(e=iD-t._time)>=0&&t._call.call(void 0,e),t=t._next;--QF}function dD(){iD=(rD=aD.now())+nD,QF=eD=0;try{hD()}finally{QF=0,pD(),iD=0}}function fD(){var e=aD.now(),t=e-rD;t>1e3&&(nD-=t,rD=e)}function pD(){for(var e,t,r=XF,i=1/0;r;)r._call?(i>r._time&&(i=r._time),e=r,r=r._next):(t=r._next,r._next=null,r=e?e._next=t:XF=t);JF=e,mD(i)}function mD(e){QF||(eD&&(eD=clearTimeout(eD)),e-iD>24?(e<1/0&&(eD=setTimeout(dD,e-aD.now()-nD)),tD&&(tD=clearInterval(tD))):(tD||(rD=aD.now(),tD=setInterval(fD,1e3)),QF=1,oD(dD)))}function gD(e,t,r){var i=new cD;return t=null==t?0:+t,i.restart((r=>{i.stop(),e(r+t)}),t,r),i}o(sD,"now"),o(lD,"clearNow"),o(cD,"Timer"),cD.prototype=uD.prototype={constructor:cD,restart:o((function(e,t,r){if("function"!=typeof e)throw new TypeError("callback is not a function");r=(null==r?sD():+r)+(null==t?0:+t),!this._next&&JF!==this&&(JF?JF._next=this:XF=this,JF=this),this._call=e,this._time=r,mD()}),"restart"),stop:o((function(){this._call&&(this._call=null,this._time=1/0,mD())}),"stop")},o(uD,"timer"),o(hD,"timerFlush"),o(dD,"wake"),o(fD,"poke"),o(pD,"nap"),o(mD,"sleep"),o(gD,"default");var yD=ZF("start","end","cancel","interrupt"),vD=[];function xD(e,t,r,i,n,a){var o=e.__transition;if(o){if(r in o)return}else e.__transition={};kD(e,r,{name:t,index:i,group:n,on:yD,tween:vD,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function TD(e,t){var r=bD(e,t);if(r.state>0)throw new Error("too late; already scheduled");return r}function CD(e,t){var r=bD(e,t);if(r.state>3)throw new Error("too late; already running");return r}function bD(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function kD(e,t,r){var i,n=e.__transition;function a(e){r.state=1,r.timer.restart(s,r.delay,r.time),r.delay<=e&&s(e-r.delay)}function s(a){var o,u,h,d;if(1!==r.state)return c();for(o in n)if((d=n[o]).name===r.name){if(3===d.state)return gD(s);4===d.state?(d.state=6,d.timer.stop(),d.on.call("interrupt",e,e.__data__,d.index,d.group),delete n[o]):+o<t&&(d.state=6,d.timer.stop(),d.on.call("cancel",e,e.__data__,d.index,d.group),delete n[o])}if(gD((function(){3===r.state&&(r.state=4,r.timer.restart(l,r.delay,r.time),l(a))})),r.state=2,r.on.call("start",e,e.__data__,r.index,r.group),2===r.state){for(r.state=3,i=new Array(h=r.tween.length),o=0,u=-1;o<h;++o)(d=r.tween[o].value.call(e,e.__data__,r.index,r.group))&&(i[++u]=d);i.length=u+1}}function l(t){for(var n=t<r.duration?r.ease.call(null,t/r.duration):(r.timer.restart(c),r.state=5,1),a=-1,o=i.length;++a<o;)i[a].call(e,n);5===r.state&&(r.on.call("end",e,e.__data__,r.index,r.group),c())}function c(){for(var i in r.state=6,r.timer.stop(),delete n[t],n)return;delete e.__transition}n[t]=r,r.timer=uD(a,0,r.time),o(a,"schedule"),o(s,"start"),o(l,"tick"),o(c,"stop")}function _D(e,t){var r,i,n,a=e.__transition,o=!0;if(a){for(n in t=null==t?null:t+"",a)(r=a[n]).name===t?(i=r.state>2&&r.state<5,r.state=6,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete a[n]):o=!1;o&&delete e.__transition}}function SD(e){return this.each((function(){_D(this,e)}))}function AD(e,t){var r,i;return function(){var n=CD(this,e),a=n.tween;if(a!==r)for(var o=0,s=(i=r=a).length;o<s;++o)if(i[o].name===t){(i=i.slice()).splice(o,1);break}n.tween=i}}function ED(e,t,r){var i,n;if("function"!=typeof r)throw new Error;return function(){var a=CD(this,e),o=a.tween;if(o!==i){n=(i=o).slice();for(var s={name:t,value:r},l=0,c=n.length;l<c;++l)if(n[l].name===t){n[l]=s;break}l===c&&n.push(s)}a.tween=n}}function wD(e,t){var r=this._id;if(e+="",arguments.length<2){for(var i,n=bD(this.node(),r).tween,a=0,o=n.length;a<o;++a)if((i=n[a]).name===e)return i.value;return null}return this.each((null==t?AD:ED)(r,e,t))}function RD(e,t,r){var i=e._id;return e.each((function(){var e=CD(this,i);(e.value||(e.value={}))[t]=r.apply(this,arguments)})),function(e){return bD(e,i).value[t]}}function $D(e,t){var r;return("number"==typeof t?rO:t instanceof sN?JN:(r=sN(t))?(t=r,JN):lO)(e,t)}function LD(e){return function(){this.removeAttribute(e)}}function ID(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ND(e,t,r){var i,n,a=r+"";return function(){var o=this.getAttribute(e);return o===a?null:o===i?n:n=t(i=o,r)}}function OD(e,t,r){var i,n,a=r+"";return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===i?n:n=t(i=o,r)}}function MD(e,t,r){var i,n,a;return function(){var o,s,l=r(this);return null==l?void this.removeAttribute(e):(o=this.getAttribute(e))===(s=l+"")?null:o===i&&s===n?a:(n=s,a=t(i=o,l))}}function PD(e,t,r){var i,n,a;return function(){var o,s,l=r(this);return null==l?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local))===(s=l+"")?null:o===i&&s===n?a:(n=s,a=t(i=o,l))}}function BD(e,t){var r=wL(e),i="transform"===r?xO:$D;return this.attrTween(e,"function"==typeof t?(r.local?PD:MD)(r,i,RD(this,"attr."+e,t)):null==t?(r.local?ID:LD)(r):(r.local?OD:ND)(r,i,t))}function FD(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function DD(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function UD(e,t){var r,i;function n(){var n=t.apply(this,arguments);return n!==i&&(r=(i=n)&&DD(e,n)),r}return o(n,"tween"),n._value=t,n}function zD(e,t){var r,i;function n(){var n=t.apply(this,arguments);return n!==i&&(r=(i=n)&&FD(e,n)),r}return o(n,"tween"),n._value=t,n}function jD(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw new Error;var i=wL(e);return this.tween(r,(i.local?UD:zD)(i,t))}function GD(e,t){return function(){TD(this,e).delay=+t.apply(this,arguments)}}function WD(e,t){return t=+t,function(){TD(this,e).delay=t}}function qD(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?GD:WD)(t,e)):bD(this.node(),t).delay}function HD(e,t){return function(){CD(this,e).duration=+t.apply(this,arguments)}}function VD(e,t){return t=+t,function(){CD(this,e).duration=t}}function KD(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?HD:VD)(t,e)):bD(this.node(),t).duration}function YD(e,t){if("function"!=typeof t)throw new Error;return function(){CD(this,e).ease=t}}function XD(e){var t=this._id;return arguments.length?this.each(YD(t,e)):bD(this.node(),t).ease}function JD(e,t){return function(){var r=t.apply(this,arguments);if("function"!=typeof r)throw new Error;CD(this,e).ease=r}}function ZD(e){if("function"!=typeof e)throw new Error;return this.each(JD(this._id,e))}function QD(e){"function"!=typeof e&&(e=K$(e));for(var t=this._groups,r=t.length,i=new Array(r),n=0;n<r;++n)for(var a,o=t[n],s=o.length,l=i[n]=[],c=0;c<s;++c)(a=o[c])&&e.call(a,a.__data__,c,o)&&l.push(a);return new wU(i,this._parents,this._name,this._id)}function eU(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,i=t.length,n=r.length,a=Math.min(i,n),o=new Array(i),s=0;s<a;++s)for(var l,c=t[s],u=r[s],h=c.length,d=o[s]=new Array(h),f=0;f<h;++f)(l=c[f]||u[f])&&(d[f]=l);for(;s<i;++s)o[s]=t[s];return new wU(o,this._parents,this._name,this._id)}function tU(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}function rU(e,t,r){var i,n,a=tU(t)?TD:CD;return function(){var o=a(this,e),s=o.on;s!==i&&(n=(i=s).copy()).on(t,r),o.on=n}}function iU(e,t){var r=this._id;return arguments.length<2?bD(this.node(),r).on.on(e):this.each(rU(r,e,t))}function nU(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function aU(){return this.on("end.remove",nU(this._id))}function oU(e){var t=this._name,r=this._id;"function"!=typeof e&&(e=z$(e));for(var i=this._groups,n=i.length,a=new Array(n),o=0;o<n;++o)for(var s,l,c=i[o],u=c.length,h=a[o]=new Array(u),d=0;d<u;++d)(s=c[d])&&(l=e.call(s,s.__data__,d,c))&&("__data__"in s&&(l.__data__=s.__data__),h[d]=l,xD(h[d],t,r,d,h,bD(s,r)));return new wU(a,this._parents,t,r)}function sU(e){var t=this._name,r=this._id;"function"!=typeof e&&(e=q$(e));for(var i=this._groups,n=i.length,a=[],o=[],s=0;s<n;++s)for(var l,c=i[s],u=c.length,h=0;h<u;++h)if(l=c[h]){for(var d,f=e.call(l,l.__data__,h,c),p=bD(l,r),m=0,g=f.length;m<g;++m)(d=f[m])&&xD(d,t,r,m,f,p);a.push(f),o.push(l)}return new wU(a,o,t,r)}o(xD,"default"),o(TD,"init"),o(CD,"set"),o(bD,"get"),o(kD,"create"),o(_D,"default"),o(SD,"default"),o(AD,"tweenRemove"),o(ED,"tweenFunction"),o(wD,"default"),o(RD,"tweenValue"),o($D,"default"),o(LD,"attrRemove"),o(ID,"attrRemoveNS"),o(ND,"attrConstant"),o(OD,"attrConstantNS"),o(MD,"attrFunction"),o(PD,"attrFunctionNS"),o(BD,"default"),o(FD,"attrInterpolate"),o(DD,"attrInterpolateNS"),o(UD,"attrTweenNS"),o(zD,"attrTween"),o(jD,"default"),o(GD,"delayFunction"),o(WD,"delayConstant"),o(qD,"default"),o(HD,"durationFunction"),o(VD,"durationConstant"),o(KD,"default"),o(YD,"easeConstant"),o(XD,"default"),o(JD,"easeVarying"),o(ZD,"default"),o(QD,"default"),o(eU,"default"),o(tU,"start"),o(rU,"onFunction"),o(iU,"default"),o(nU,"removeFunction"),o(aU,"default"),o(oU,"default"),o(sU,"default");var lU=DI.prototype.constructor;function cU(){return new lU(this._groups,this._parents)}function uU(e,t){var r,i,n;return function(){var a=zL(this,e),o=(this.style.removeProperty(e),zL(this,e));return a===o?null:a===r&&o===i?n:n=t(r=a,i=o)}}function hU(e){return function(){this.style.removeProperty(e)}}function dU(e,t,r){var i,n,a=r+"";return function(){var o=zL(this,e);return o===a?null:o===i?n:n=t(i=o,r)}}function fU(e,t,r){var i,n,a;return function(){var o=zL(this,e),s=r(this),l=s+"";return null==s&&(this.style.removeProperty(e),l=s=zL(this,e)),o===l?null:o===i&&l===n?a:(n=l,a=t(i=o,s))}}function pU(e,t){var r,i,n,a,o="style."+t,s="end."+o;return function(){var l=CD(this,e),c=l.on,u=null==l.value[o]?a||(a=hU(t)):void 0;(c!==r||n!==u)&&(i=(r=c).copy()).on(s,n=u),l.on=i}}function mU(e,t,r){var i="transform"==(e+="")?vO:$D;return null==t?this.styleTween(e,uU(e,i)).on("end.style."+e,hU(e)):"function"==typeof t?this.styleTween(e,fU(e,i,RD(this,"style."+e,t))).each(pU(this._id,e)):this.styleTween(e,dU(e,i,t),r).on("end.style."+e,null)}function gU(e,t,r){return function(i){this.style.setProperty(e,t.call(this,i),r)}}function yU(e,t,r){var i,n;function a(){var a=t.apply(this,arguments);return a!==n&&(i=(n=a)&&gU(e,a,r)),i}return o(a,"tween"),a._value=t,a}function vU(e,t,r){var i="style."+(e+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==t)return this.tween(i,null);if("function"!=typeof t)throw new Error;return this.tween(i,yU(e,t,r??""))}function xU(e){return function(){this.textContent=e}}function TU(e){return function(){var t=e(this);this.textContent=t??""}}function CU(e){return this.tween("text","function"==typeof e?TU(RD(this,"text",e)):xU(null==e?"":e+""))}function bU(e){return function(t){this.textContent=e.call(this,t)}}function kU(e){var t,r;function i(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&bU(i)),t}return o(i,"tween"),i._value=e,i}function _U(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw new Error;return this.tween(t,kU(e))}function SU(){for(var e=this._name,t=this._id,r=$U(),i=this._groups,n=i.length,a=0;a<n;++a)for(var o,s=i[a],l=s.length,c=0;c<l;++c)if(o=s[c]){var u=bD(o,t);xD(o,e,r,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new wU(i,this._parents,e,r)}function AU(){var e,t,r=this,i=r._id,n=r.size();return new Promise((function(a,s){var l={value:s},c={value:o((function(){0==--n&&a()}),"value")};r.each((function(){var r=CD(this,i),n=r.on;n!==e&&((t=(e=n).copy())._.cancel.push(l),t._.interrupt.push(l),t._.end.push(c)),r.on=t})),0===n&&a()}))}o(cU,"default"),o(uU,"styleNull"),o(hU,"styleRemove"),o(dU,"styleConstant"),o(fU,"styleFunction"),o(pU,"styleMaybeRemove"),o(mU,"default"),o(gU,"styleInterpolate"),o(yU,"styleTween"),o(vU,"default"),o(xU,"textConstant"),o(TU,"textFunction"),o(CU,"default"),o(bU,"textInterpolate"),o(kU,"textTween"),o(_U,"default"),o(SU,"default"),o(AU,"default");var EU=0;function wU(e,t,r,i){this._groups=e,this._parents=t,this._name=r,this._id=i}function RU(e){return DI().transition(e)}function $U(){return++EU}o(wU,"Transition"),o(RU,"transition"),o($U,"newId");var LU=DI.prototype;function IU(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}wU.prototype=RU.prototype={constructor:wU,select:oU,selectAll:sU,selectChild:LU.selectChild,selectChildren:LU.selectChildren,filter:QD,merge:eU,selection:cU,transition:SU,call:LU.call,nodes:LU.nodes,node:LU.node,size:LU.size,empty:LU.empty,each:LU.each,on:iU,attr:BD,attrTween:jD,style:mU,styleTween:vU,text:CU,textTween:_U,remove:aU,tween:wD,delay:qD,duration:KD,ease:XD,easeVarying:ZD,end:AU,[Symbol.iterator]:LU[Symbol.iterator]},o(IU,"cubicInOut");var NU={time:null,delay:0,duration:250,ease:IU};function OU(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function MU(e){var t,r;e instanceof wU?(t=e._id,e=e._name):(t=$U(),(r=NU).time=sD(),e=null==e?null:e+"");for(var i=this._groups,n=i.length,a=0;a<n;++a)for(var o,s=i[a],l=s.length,c=0;c<l;++c)(o=s[c])&&xD(o,e,t,c,s,r||OU(o,t));return new wU(i,this._parents,e,t)}function PU(e){return[+e[0],+e[1]]}function BU(e){return[PU(e[0]),PU(e[1])]}function FU(e){return{type:e}}function DU(e,t,r){this.k=e,this.x=t,this.y=r}o(OU,"inherit"),o(MU,"default"),DI.prototype.interrupt=SD,DI.prototype.transition=MU,o(PU,"number1"),o(BU,"number2"),["w","e"].map(FU),o((function(e,t){return null==e?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]}),"input"),o((function(e){return e&&[e[0][0],e[1][0]]}),"output"),["n","s"].map(FU),o((function(e,t){return null==e?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]}),"input"),o((function(e){return e&&[e[0][1],e[1][1]]}),"output"),["n","w","e","s","nw","ne","sw","se"].map(FU),o((function(e){return null==e?null:BU(e)}),"input"),o((function(e){return e}),"output"),o(FU,"type"),o(DU,"Transform"),DU.prototype={constructor:DU,scale:o((function(e){return 1===e?this:new DU(this.k*e,this.x,this.y)}),"scale"),translate:o((function(e,t){return 0===e&0===t?this:new DU(this.k,this.x+this.k*e,this.y+this.k*t)}),"translate"),apply:o((function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]}),"apply"),applyX:o((function(e){return e*this.k+this.x}),"applyX"),applyY:o((function(e){return e*this.k+this.y}),"applyY"),invert:o((function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]}),"invert"),invertX:o((function(e){return(e-this.x)/this.k}),"invertX"),invertY:o((function(e){return(e-this.y)/this.k}),"invertY"),rescaleX:o((function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))}),"rescaleX"),rescaleY:o((function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))}),"rescaleY"),toString:o((function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}),"toString")};var UU=new DU(1,0,0);function zU(e){for(;!e.__zoom;)if(!(e=e.parentNode))return UU;return e.__zoom}zU.prototype=DU.prototype,o(zU,"transform");
/*! Bundled license information:

dompurify/dist/purify.es.mjs:
  (*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE *)
*/
var jU=h(TA(),1),GU={curveBasis:nF,curveBasisClosed:sF,curveBasisOpen:cF,curveBumpX:eF,curveBumpY:tF,curveBundle:hF,curveCardinalClosed:gF,curveCardinalOpen:vF,curveCardinal:pF,curveCatmullRomClosed:kF,curveCatmullRomOpen:SF,curveCatmullRom:CF,curveLinear:VB,curveLinearClosed:EF,curveMonotoneX:MF,curveMonotoneY:PF,curveNatural:DF,curveStep:zF,curveStepAfter:GF,curveStepBefore:jF},WU=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,qU=o((function(e,t){let r=HU(e,/(?:init\b)|(?:initialize\b)/),i={};if(Array.isArray(r)){let e=r.map((e=>e.args));KE(e),i=MA(i,[...e])}else i=r.args;if(!i)return;let n=IA(e,t),a="config";return void 0!==i[a]&&("flowchart-v2"===n&&(n="flowchart"),i[n]=i[a],delete i[a]),i}),"detectInit"),HU=o((function(e,t=null){try{let r=new RegExp(`[%]{2}(?![{]${WU.source})(?=[}][%]{2}).*\n`,"ig");e=e.trim().replace(r,"").replace(/'/gm,'"'),_A.debug(`Detecting diagram directive${null!==t?" type:"+t:""} based on the text:${e}`);let i,n=[];for(;null!==(i=wA.exec(e));)if(i.index===wA.lastIndex&&wA.lastIndex++,i&&!t||t&&i[1]?.match(t)||t&&i[2]?.match(t)){let e=i[1]?i[1]:i[2],t=i[3]?i[3].trim():i[4]?JSON.parse(i[4].trim()):null;n.push({type:e,args:t})}return 0===n.length?{type:e,args:null}:1===n.length?n[0]:n}catch(r){return _A.error(`ERROR: ${r.message} - Unable to parse directive type: '${t}' based on the text: '${e}'`),{type:void 0,args:null}}}),"detectDirective");o((function(e){return e.replace(wA,"")}),"removeDirectives");var VU=o((function(e,t){for(let[r,i]of t.entries())if(i.match(e))return r;return-1}),"isSubstringInArray");function KU(e,t){if(!e)return t;let r=`curve${e.charAt(0).toUpperCase()+e.slice(1)}`;return GU[r]??t}function YU(e,t){let r=e.trim();if(r)return"loose"!==t.securityLevel?(0,jU.sanitizeUrl)(r):r}o(KU,"interpolateToCurve"),o(YU,"formatUrl");var XU=o(((e,...t)=>{let r=e.split("."),i=r.length-1,n=r[i],a=window;for(let t=0;t<i;t++)if(a=a[r[t]],!a)return void _A.error(`Function name: ${e} not found in window`);a[n](...t)}),"runFunc");function JU(e,t){return e&&t?Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)):0}function ZU(e){let t,r=0;return e.forEach((e=>{r+=JU(e,t),t=e})),tz(e,r/2)}function QU(e){return 1===e.length?e[0]:ZU(e)}o(JU,"distance"),o(ZU,"traverseEdge"),o(QU,"calcLabelPosition");var ez=o(((e,t=2)=>{let r=Math.pow(10,t);return Math.round(e*r)/r}),"roundNumber"),tz=o(((e,t)=>{let r,i=t;for(let t of e){if(r){let e=JU(t,r);if(0===e)return r;if(e<i)i-=e;else{let n=i/e;if(n<=0)return r;if(n>=1)return{x:t.x,y:t.y};if(n>0&&n<1)return{x:ez((1-n)*r.x+n*t.x,5),y:ez((1-n)*r.y+n*t.y,5)}}}r=t}throw new Error("Could not find a suitable point for the given distance")}),"calculatePoint"),rz=o(((e,t,r)=>{_A.info(`our points ${JSON.stringify(t)}`),t[0]!==r&&(t=t.reverse());let i=tz(t,25),n=e?10:5,a=Math.atan2(t[0].y-i.y,t[0].x-i.x),o={x:0,y:0};return o.x=Math.sin(a)*n+(t[0].x+i.x)/2,o.y=-Math.cos(a)*n+(t[0].y+i.y)/2,o}),"calcCardinalityPosition");function iz(e,t,r){let i=structuredClone(r);_A.info("our points",i),"start_left"!==t&&"start_right"!==t&&i.reverse();let n=tz(i,25+e),a=10+.5*e,o=Math.atan2(i[0].y-n.y,i[0].x-n.x),s={x:0,y:0};return"start_left"===t?(s.x=Math.sin(o+Math.PI)*a+(i[0].x+n.x)/2,s.y=-Math.cos(o+Math.PI)*a+(i[0].y+n.y)/2):"end_right"===t?(s.x=Math.sin(o-Math.PI)*a+(i[0].x+n.x)/2-5,s.y=-Math.cos(o-Math.PI)*a+(i[0].y+n.y)/2-5):"end_left"===t?(s.x=Math.sin(o)*a+(i[0].x+n.x)/2-5,s.y=-Math.cos(o)*a+(i[0].y+n.y)/2-5):(s.x=Math.sin(o)*a+(i[0].x+n.x)/2,s.y=-Math.cos(o)*a+(i[0].y+n.y)/2),s}function nz(e){let t="",r="";for(let i of e)void 0!==i&&(i.startsWith("color:")||i.startsWith("text-align:")?r=r+i+";":t=t+i+";");return{style:t,labelStyle:r}}o(iz,"calcTerminalLabelPosition"),o(nz,"getStylesFromArray");var az=0,oz=o((()=>(az++,"id-"+Math.random().toString(36).substr(2,12)+"-"+az)),"generateId");function sz(e){let t="",r="0123456789abcdef";for(let i=0;i<e;i++)t+=r.charAt(Math.floor(16*Math.random()));return t}o(sz,"makeRandomHex");var lz=o((e=>sz(e.length)),"random"),cz=o((function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}}),"getTextObj"),uz=o((function(e,t){let r=t.text.replace(FR.lineBreakRegex," "),[,i]=Tz(t.fontSize),n=e.append("text");n.attr("x",t.x),n.attr("y",t.y),n.style("text-anchor",t.anchor),n.style("font-family",t.fontFamily),n.style("font-size",i),n.style("font-weight",t.fontWeight),n.attr("fill",t.fill),void 0!==t.class&&n.attr("class",t.class);let a=n.append("tspan");return a.attr("x",t.x+2*t.textMargin),a.attr("fill",t.fill),a.text(r),n}),"drawSimpleText"),hz=Tt(((e,t,r)=>{if(!e||(r=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},r),FR.lineBreakRegex.test(e)))return e;let i=e.split(" ").filter(Boolean),n=[],a="";return i.forEach(((e,o)=>{let s=pz(`${e} `,r),l=pz(a,r);if(s>t){let{hyphenatedStrings:i,remainingWord:o}=dz(e,t,"-",r);n.push(a,...i),a=o}else l+s>=t?(n.push(a),a=e):a=[a,e].filter(Boolean).join(" ");o+1===i.length&&n.push(a)})),n.filter((e=>""!==e)).join(r.joinWith)}),((e,t,r)=>`${e}${t}${r.fontSize}${r.fontWeight}${r.fontFamily}${r.joinWith}`)),dz=Tt(((e,t,r="-",i)=>{i=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},i);let n=[...e],a=[],o="";return n.forEach(((e,s)=>{let l=`${o}${e}`;if(pz(l,i)>=t){let e=s+1,t=n.length===e,i=`${l}${r}`;a.push(t?l:i),o=""}else o=l})),{hyphenatedStrings:a,remainingWord:o}}),((e,t,r="-",i)=>`${e}${t}${r}${i.fontSize}${i.fontWeight}${i.fontFamily}`));function fz(e,t){return gz(e,t).height}function pz(e,t){return gz(e,t).width}o(fz,"calculateTextHeight"),o(pz,"calculateTextWidth");var mz,gz=Tt(((e,t)=>{let{fontSize:r=12,fontFamily:i="Arial",fontWeight:n=400}=t;if(!e)return{width:0,height:0};let[,a]=Tz(r),o=["sans-serif",i],s=e.split(FR.lineBreakRegex),l=[],c=UI("body");if(!c.remove)return{width:0,height:0,lineHeight:0};let u=c.append("svg");for(let e of o){let t=0,r={width:0,height:0,lineHeight:0};for(let i of s){let o=cz();o.text=i||"​";let s=uz(u,o).style("font-size",a).style("font-weight",n).style("font-family",e),l=(s._groups||s)[0][0].getBBox();if(0===l.width&&0===l.height)throw new Error("svg element not in render tree");r.width=Math.round(Math.max(r.width,l.width)),t=Math.round(l.height),r.height+=t,r.lineHeight=Math.round(Math.max(r.lineHeight,t))}l.push(r)}return u.remove(),l[isNaN(l[1].height)||isNaN(l[1].width)||isNaN(l[1].lineHeight)||l[0].height>l[1].height&&l[0].width>l[1].width&&l[0].lineHeight>l[1].lineHeight?0:1]}),((e,t)=>`${e}${t.fontSize}${t.fontWeight}${t.fontFamily}`)),yz=class{constructor(e=!1,t){this.count=0,this.count=t?t.length:0,this.next=e?()=>this.count++:()=>Date.now()}static{o(this,"InitIDGenerator")}},vz=o((function(e){return mz=mz||document.createElement("div"),e=escape(e).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),mz.innerHTML=e,unescape(mz.textContent)}),"entityDecode");o((function(e){return"str"in e}),"isDetailedError");var xz=o(((e,t,r,i)=>{if(!i)return;let n=e.node()?.getBBox();n&&e.append("text").text(i).attr("text-anchor","middle").attr("x",n.x+n.width/2).attr("y",-r).attr("class",t)}),"insertTitle"),Tz=o((e=>{if("number"==typeof e)return[e,e+"px"];let t=parseInt(e??"",10);return Number.isNaN(t)?[void 0,void 0]:e===String(t)?[t,e+"px"]:[t,e]}),"parseFontSize");function Cz(e,t){return Hi({},e,t)}o(Cz,"cleanAndMerge");var bz={assignWithDepth:MA,wrapLabel:hz,calculateTextHeight:fz,calculateTextWidth:pz,calculateTextDimensions:gz,cleanAndMerge:Cz,detectInit:qU,detectDirective:HU,isSubstringInArray:VU,interpolateToCurve:KU,calcLabelPosition:QU,calcCardinalityPosition:rz,calcTerminalLabelPosition:iz,formatUrl:YU,getStylesFromArray:nz,generateId:oz,random:lz,runFunc:XU,entityDecode:vz,insertTitle:xz,parseFontSize:Tz,InitIDGenerator:yz};o((function(e){let t=e;return t=t.replace(/style.*:\S*#.*;/g,(function(e){return e.substring(0,e.length-1)})),t=t.replace(/classDef.*:\S*#.*;/g,(function(e){return e.substring(0,e.length-1)})),t=t.replace(/#\w+;/g,(function(e){let t=e.substring(1,e.length-1);return/^\+?\d+$/.test(t)?"ﬂ°°"+t+"¶ß":"ﬂ°"+t+"¶ß"})),t}),"encodeEntities"),o((function(e){return e.replace(/ﬂ°°/g,"&#").replace(/ﬂ°/g,"&").replace(/¶ß/g,";")}),"decodeEntities"),o(((e,t,{counter:r=0,prefix:i,suffix:n},a)=>a||`${i?`${i}_`:""}${e}_${t}_${r}${n?`_${n}`:""}`),"getEdgeId"),o((function(e){return e??null}),"handleUndefinedAttr");var kz=class extends eA{static{o(this,"InfoTokenBuilder")}static{j_(this,"InfoTokenBuilder")}constructor(){super(["info","showInfo"])}},_z={parser:{TokenBuilder:j_((()=>new kz),"TokenBuilder"),ValueConverter:j_((()=>new QS),"ValueConverter")}};function Sz(e=P_){let t=k_(b_(e),WS),r=k_(C_({shared:t}),qS,_z);return t.ServiceRegistry.register(r),{shared:t,Info:r}}o(Sz,"createInfoServices"),j_(Sz,"createInfoServices");var Az=class extends eA{static{o(this,"PacketTokenBuilder")}static{j_(this,"PacketTokenBuilder")}constructor(){super(["packet-beta"])}},Ez={parser:{TokenBuilder:j_((()=>new Az),"TokenBuilder"),ValueConverter:j_((()=>new QS),"ValueConverter")}};function wz(e=P_){let t=k_(b_(e),WS),r=k_(C_({shared:t}),HS,Ez);return t.ServiceRegistry.register(r),{shared:t,Packet:r}}o(wz,"createPacketServices"),j_(wz,"createPacketServices");var Rz={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},$z=VE.gitGraph,Lz=o((()=>Cz({...$z,...tw().gitGraph})),"getConfig"),Iz=new d((()=>{let e=Lz(),t=e.mainBranchName,r=e.mainBranchOrder;return{mainBranchName:t,commits:new Map,head:null,branchConfig:new Map([[t,{name:t,order:r}]]),branches:new Map([[t,null]]),currBranch:t,direction:"LR",seq:0,options:{}}}));function Nz(){return lz({length:7})}function Oz(e,t){let r=Object.create(null);return e.reduce(((e,i)=>{let n=t(i);return r[n]||(r[n]=!0,e.push(i)),e}),[])}o(Nz,"getID"),o(Oz,"uniqBy");var Mz=o((function(e){Iz.records.direction=e}),"setDirection"),Pz=o((function(e){_A.debug("options str",e),e=e?.trim(),e=e||"{}";try{Iz.records.options=JSON.parse(e)}catch(e){_A.error("error while parsing gitGraph options",e.message)}}),"setOptions"),Bz=o((function(){return Iz.records.options}),"getOptions"),Fz=o((function(e){let t=e.msg,r=e.id,i=e.type,n=e.tags;_A.info("commit",t,r,i,n),_A.debug("Entering commit:",t,r,i,n);let a=Lz();r=FR.sanitizeText(r,a),t=FR.sanitizeText(t,a),n=n?.map((e=>FR.sanitizeText(e,a)));let o={id:r||Iz.records.seq+"-"+Nz(),message:t,seq:Iz.records.seq++,type:i??Rz.NORMAL,tags:n??[],parents:null==Iz.records.head?[]:[Iz.records.head.id],branch:Iz.records.currBranch};Iz.records.head=o,_A.info("main branch",a.mainBranchName),Iz.records.commits.set(o.id,o),Iz.records.branches.set(Iz.records.currBranch,o.id),_A.debug("in pushCommit "+o.id)}),"commit"),Dz=o((function(e){let t=e.name,r=e.order;if(t=FR.sanitizeText(t,Lz()),Iz.records.branches.has(t))throw new Error(`Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout ${t}")`);Iz.records.branches.set(t,null!=Iz.records.head?Iz.records.head.id:null),Iz.records.branchConfig.set(t,{name:t,order:r}),jz(t),_A.debug("in createBranch")}),"branch"),Uz=o((e=>{let t=e.branch,r=e.id,i=e.type,n=e.tags,a=Lz();t=FR.sanitizeText(t,a),r&&(r=FR.sanitizeText(r,a));let o=Iz.records.branches.get(Iz.records.currBranch),s=Iz.records.branches.get(t),l=o?Iz.records.commits.get(o):void 0,c=s?Iz.records.commits.get(s):void 0;if(l&&c&&l.branch===t)throw new Error(`Cannot merge branch '${t}' into itself.`);if(Iz.records.currBranch===t){let e=new Error('Incorrect usage of "merge". Cannot merge a branch to itself');throw e.hash={text:`merge ${t}`,token:`merge ${t}`,expected:["branch abc"]},e}if(void 0===l||!l){let e=new Error(`Incorrect usage of "merge". Current branch (${Iz.records.currBranch})has no commits`);throw e.hash={text:`merge ${t}`,token:`merge ${t}`,expected:["commit"]},e}if(!Iz.records.branches.has(t)){let e=new Error('Incorrect usage of "merge". Branch to be merged ('+t+") does not exist");throw e.hash={text:`merge ${t}`,token:`merge ${t}`,expected:[`branch ${t}`]},e}if(void 0===c||!c){let e=new Error('Incorrect usage of "merge". Branch to be merged ('+t+") has no commits");throw e.hash={text:`merge ${t}`,token:`merge ${t}`,expected:['"commit"']},e}if(l===c){let e=new Error('Incorrect usage of "merge". Both branches have same head');throw e.hash={text:`merge ${t}`,token:`merge ${t}`,expected:["branch abc"]},e}if(r&&Iz.records.commits.has(r)){let e=new Error('Incorrect usage of "merge". Commit with id:'+r+" already exists, use different custom Id");throw e.hash={text:`merge ${t} ${r} ${i} ${n?.join(" ")}`,token:`merge ${t} ${r} ${i} ${n?.join(" ")}`,expected:[`merge ${t} ${r}_UNIQUE ${i} ${n?.join(" ")}`]},e}let u=s||"",h={id:r||`${Iz.records.seq}-${Nz()}`,message:`merged branch ${t} into ${Iz.records.currBranch}`,seq:Iz.records.seq++,parents:null==Iz.records.head?[]:[Iz.records.head.id,u],branch:Iz.records.currBranch,type:Rz.MERGE,customType:i,customId:!!r,tags:n??[]};Iz.records.head=h,Iz.records.commits.set(h.id,h),Iz.records.branches.set(Iz.records.currBranch,h.id),_A.debug(Iz.records.branches),_A.debug("in mergeBranch")}),"merge"),zz=o((function(e){let t=e.id,r=e.targetId,i=e.tags,n=e.parent;_A.debug("Entering cherryPick:",t,r,i);let a=Lz();if(t=FR.sanitizeText(t,a),r=FR.sanitizeText(r,a),i=i?.map((e=>FR.sanitizeText(e,a))),n=FR.sanitizeText(n,a),!t||!Iz.records.commits.has(t)){let e=new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');throw e.hash={text:`cherryPick ${t} ${r}`,token:`cherryPick ${t} ${r}`,expected:["cherry-pick abc"]},e}let o=Iz.records.commits.get(t);if(void 0===o||!o)throw new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');if(n&&(!Array.isArray(o.parents)||!o.parents.includes(n)))throw new Error("Invalid operation: The specified parent commit is not an immediate parent of the cherry-picked commit.");let s=o.branch;if(o.type===Rz.MERGE&&!n)throw new Error("Incorrect usage of cherry-pick: If the source commit is a merge commit, an immediate parent commit must be specified.");if(!r||!Iz.records.commits.has(r)){if(s===Iz.records.currBranch){let e=new Error('Incorrect usage of "cherryPick". Source commit is already on current branch');throw e.hash={text:`cherryPick ${t} ${r}`,token:`cherryPick ${t} ${r}`,expected:["cherry-pick abc"]},e}let e=Iz.records.branches.get(Iz.records.currBranch);if(void 0===e||!e){let e=new Error(`Incorrect usage of "cherry-pick". Current branch (${Iz.records.currBranch})has no commits`);throw e.hash={text:`cherryPick ${t} ${r}`,token:`cherryPick ${t} ${r}`,expected:["cherry-pick abc"]},e}let a=Iz.records.commits.get(e);if(void 0===a||!a){let e=new Error(`Incorrect usage of "cherry-pick". Current branch (${Iz.records.currBranch})has no commits`);throw e.hash={text:`cherryPick ${t} ${r}`,token:`cherryPick ${t} ${r}`,expected:["cherry-pick abc"]},e}let l={id:Iz.records.seq+"-"+Nz(),message:`cherry-picked ${o?.message} into ${Iz.records.currBranch}`,seq:Iz.records.seq++,parents:null==Iz.records.head?[]:[Iz.records.head.id,o.id],branch:Iz.records.currBranch,type:Rz.CHERRY_PICK,tags:i?i.filter(Boolean):[`cherry-pick:${o.id}${o.type===Rz.MERGE?`|parent:${n}`:""}`]};Iz.records.head=l,Iz.records.commits.set(l.id,l),Iz.records.branches.set(Iz.records.currBranch,l.id),_A.debug(Iz.records.branches),_A.debug("in cherryPick")}}),"cherryPick"),jz=o((function(e){if(e=FR.sanitizeText(e,Lz()),!Iz.records.branches.has(e)){let t=new Error(`Trying to checkout branch which is not yet created. (Help try using "branch ${e}")`);throw t.hash={text:`checkout ${e}`,token:`checkout ${e}`,expected:[`branch ${e}`]},t}{Iz.records.currBranch=e;let t=Iz.records.branches.get(Iz.records.currBranch);Iz.records.head=void 0!==t&&t?Iz.records.commits.get(t)??null:null}}),"checkout");function Gz(e,t,r){let i=e.indexOf(t);-1===i?e.push(r):e.splice(i,1,r)}function Wz(e){let t=e.reduce(((e,t)=>e.seq>t.seq?e:t),e[0]),r="";e.forEach((function(e){r+=e===t?"\t*":"\t|"}));let i=[r,t.id,t.seq];for(let e in Iz.records.branches)Iz.records.branches.get(e)===t.id&&i.push(e);if(_A.debug(i.join(" ")),t.parents&&2==t.parents.length&&t.parents[0]&&t.parents[1]){let r=Iz.records.commits.get(t.parents[0]);Gz(e,t,r),t.parents[1]&&e.push(Iz.records.commits.get(t.parents[1]))}else{if(0==t.parents.length)return;if(t.parents[0]){let r=Iz.records.commits.get(t.parents[0]);Gz(e,t,r)}}e=Oz(e,(e=>e.id)),Wz(e)}o(Gz,"upsert"),o(Wz,"prettyPrintCommitHistory");var qz=o((function(){_A.debug(Iz.records.commits),Wz([Xz()[0]])}),"prettyPrint"),Hz=o((function(){Iz.reset(),XR()}),"clear"),Vz=o((function(){return[...Iz.records.branchConfig.values()].map(((e,t)=>null!==e.order&&void 0!==e.order?e:{...e,order:parseFloat(`0.${t}`)})).sort(((e,t)=>(e.order??0)-(t.order??0))).map((({name:e})=>({name:e})))}),"getBranchesAsObjArray"),Kz=o((function(){return Iz.records.branches}),"getBranches"),Yz=o((function(){return Iz.records.commits}),"getCommits"),Xz=o((function(){let e=[...Iz.records.commits.values()];return e.forEach((function(e){_A.debug(e.id)})),e.sort(((e,t)=>e.seq-t.seq)),e}),"getCommitsArray"),Jz=o((function(){return Iz.records.currBranch}),"getCurrentBranch"),Zz=o((function(){return Iz.records.direction}),"getDirection"),Qz=o((function(){return Iz.records.head}),"getHead"),ej={commitType:Rz,getConfig:Lz,setDirection:Mz,setOptions:Pz,getOptions:Bz,commit:Fz,branch:Dz,merge:Uz,cherryPick:zz,checkout:jz,prettyPrint:qz,clear:Hz,getBranchesAsObjArray:Vz,getBranches:Kz,getCommits:Yz,getCommitsArray:Xz,getCurrentBranch:Jz,getDirection:Zz,getHead:Qz,setAccTitle:JR,getAccTitle:ZR,getAccDescription:e$,setAccDescription:QR,setDiagramTitle:t$,getDiagramTitle:r$},tj=o(((e,t)=>{f(e,t),e.dir&&t.setDirection(e.dir);for(let r of e.statements)rj(r,t)}),"populate"),rj=o(((e,t)=>{let r={Commit:o((e=>t.commit(ij(e))),"Commit"),Branch:o((e=>t.branch(nj(e))),"Branch"),Merge:o((e=>t.merge(aj(e))),"Merge"),Checkout:o((e=>t.checkout(oj(e))),"Checkout"),CherryPicking:o((e=>t.cherryPick(sj(e))),"CherryPicking")}[e.$type];r?r(e):_A.error(`Unknown statement type: ${e.$type}`)}),"parseStatement"),ij=o((e=>({id:e.id,msg:e.message??"",type:void 0!==e.type?Rz[e.type]:Rz.NORMAL,tags:e.tags??void 0})),"parseCommit"),nj=o((e=>({name:e.name,order:e.order??0})),"parseBranch"),aj=o((e=>({branch:e.branch,id:e.id??"",type:void 0!==e.type?Rz[e.type]:void 0,tags:e.tags??void 0})),"parseMerge"),oj=o((e=>e.branch),"parseCheckout"),sj=o((e=>({id:e.id,targetId:"",tags:0===e.tags?.length?void 0:e.tags,parent:e.parent})),"parseCherryPicking"),lj={parse:o((async e=>{let t=await iA("gitGraph",e);_A.debug(t),tj(t,ej)}),"parse")},cj=a$(),uj=cj?.gitGraph,hj=10,dj=40,fj=new Map,pj=new Map,mj=new Map,gj=[],yj=0,vj="LR",xj=o((()=>{fj.clear(),pj.clear(),mj.clear(),yj=0,gj=[],vj="LR"}),"clear"),Tj=o((e=>{let t=document.createElementNS("http://www.w3.org/2000/svg","text");return("string"==typeof e?e.split(/\\n|\n|<br\s*\/?>/gi):e).forEach((e=>{let r=document.createElementNS("http://www.w3.org/2000/svg","tspan");r.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),r.setAttribute("dy","1em"),r.setAttribute("x","0"),r.setAttribute("class","row"),r.textContent=e.trim(),t.appendChild(r)})),t}),"drawText"),Cj=o((e=>{let t,r,i;return"BT"===vj?(r=o(((e,t)=>e<=t),"comparisonFunc"),i=1/0):(r=o(((e,t)=>e>=t),"comparisonFunc"),i=0),e.forEach((e=>{let n="TB"===vj||"BT"==vj?pj.get(e)?.y:pj.get(e)?.x;void 0!==n&&r(n,i)&&(t=e,i=n)})),t}),"findClosestParent"),bj=o((e=>{let t="",r=1/0;return e.forEach((e=>{let i=pj.get(e).y;i<=r&&(t=e,r=i)})),t||void 0}),"findClosestParentBT"),kj=o(((e,t,r)=>{let i=r,n=r,a=[];e.forEach((e=>{let r=t.get(e);if(!r)throw new Error(`Commit not found for key ${e}`);r.parents.length?(i=Sj(r),n=Math.max(i,n)):a.push(r),Aj(r,i)})),i=n,a.forEach((e=>{Ej(e,i,r)})),e.forEach((e=>{let r=t.get(e);if(r?.parents.length){let e=bj(r.parents);i=pj.get(e).y-dj,i<=n&&(n=i);let t=fj.get(r.branch).pos,a=i-hj;pj.set(r.id,{x:t,y:a})}}))}),"setParallelBTPos"),_j=o((e=>{let t=Cj(e.parents.filter((e=>null!==e)));if(!t)throw new Error(`Closest parent not found for commit ${e.id}`);let r=pj.get(t)?.y;if(void 0===r)throw new Error(`Closest parent position not found for commit ${e.id}`);return r}),"findClosestParentPos"),Sj=o((e=>_j(e)+dj),"calculateCommitPosition"),Aj=o(((e,t)=>{let r=fj.get(e.branch);if(!r)throw new Error(`Branch not found for commit ${e.id}`);let i=r.pos,n=t+hj;return pj.set(e.id,{x:i,y:n}),{x:i,y:n}}),"setCommitPosition"),Ej=o(((e,t,r)=>{let i=fj.get(e.branch);if(!i)throw new Error(`Branch not found for commit ${e.id}`);let n=t+r,a=i.pos;pj.set(e.id,{x:a,y:n})}),"setRootPosition"),wj=o(((e,t,r,i,n,a)=>{if(a===Rz.HIGHLIGHT)e.append("rect").attr("x",r.x-10).attr("y",r.y-10).attr("width",20).attr("height",20).attr("class",`commit ${t.id} commit-highlight${n%8} ${i}-outer`),e.append("rect").attr("x",r.x-6).attr("y",r.y-6).attr("width",12).attr("height",12).attr("class",`commit ${t.id} commit${n%8} ${i}-inner`);else if(a===Rz.CHERRY_PICK)e.append("circle").attr("cx",r.x).attr("cy",r.y).attr("r",10).attr("class",`commit ${t.id} ${i}`),e.append("circle").attr("cx",r.x-3).attr("cy",r.y+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${t.id} ${i}`),e.append("circle").attr("cx",r.x+3).attr("cy",r.y+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${t.id} ${i}`),e.append("line").attr("x1",r.x+3).attr("y1",r.y+1).attr("x2",r.x).attr("y2",r.y-5).attr("stroke","#fff").attr("class",`commit ${t.id} ${i}`),e.append("line").attr("x1",r.x-3).attr("y1",r.y+1).attr("x2",r.x).attr("y2",r.y-5).attr("stroke","#fff").attr("class",`commit ${t.id} ${i}`);else{let o=e.append("circle");if(o.attr("cx",r.x),o.attr("cy",r.y),o.attr("r",t.type===Rz.MERGE?9:10),o.attr("class",`commit ${t.id} commit${n%8}`),a===Rz.MERGE){let a=e.append("circle");a.attr("cx",r.x),a.attr("cy",r.y),a.attr("r",6),a.attr("class",`commit ${i} ${t.id} commit${n%8}`)}a===Rz.REVERSE&&e.append("path").attr("d",`M ${r.x-5},${r.y-5}L${r.x+5},${r.y+5}M${r.x-5},${r.y+5}L${r.x+5},${r.y-5}`).attr("class",`commit ${i} ${t.id} commit${n%8}`)}}),"drawCommitBullet"),Rj=o(((e,t,r,i)=>{if(t.type!==Rz.CHERRY_PICK&&(t.customId&&t.type===Rz.MERGE||t.type!==Rz.MERGE)&&uj?.showCommitLabel){let n=e.append("g"),a=n.insert("rect").attr("class","commit-label-bkg"),o=n.append("text").attr("x",i).attr("y",r.y+25).attr("class","commit-label").text(t.id),s=o.node()?.getBBox();if(s&&(a.attr("x",r.posWithOffset-s.width/2-2).attr("y",r.y+13.5).attr("width",s.width+4).attr("height",s.height+4),"TB"===vj||"BT"===vj?(a.attr("x",r.x-(s.width+16+5)).attr("y",r.y-12),o.attr("x",r.x-(s.width+16)).attr("y",r.y+s.height-12)):o.attr("x",r.posWithOffset-s.width/2),uj.rotateCommitLabel))if("TB"===vj||"BT"===vj)o.attr("transform","rotate(-45, "+r.x+", "+r.y+")"),a.attr("transform","rotate(-45, "+r.x+", "+r.y+")");else{let e=-7.5-(s.width+10)/25*9.5,t=10+s.width/25*8.5;n.attr("transform","translate("+e+", "+t+") rotate(-45, "+i+", "+r.y+")")}}}),"drawCommitLabel"),$j=o(((e,t,r,i)=>{if(t.tags.length>0){let n=0,a=0,o=0,s=[];for(let i of t.tags.reverse()){let t=e.insert("polygon"),l=e.append("circle"),c=e.append("text").attr("y",r.y-16-n).attr("class","tag-label").text(i),u=c.node()?.getBBox();if(!u)throw new Error("Tag bbox not found");a=Math.max(a,u.width),o=Math.max(o,u.height),c.attr("x",r.posWithOffset-u.width/2),s.push({tag:c,hole:l,rect:t,yOffset:n}),n+=20}for(let{tag:e,hole:t,rect:n,yOffset:l}of s){let s=o/2,c=r.y-19.2-l;if(n.attr("class","tag-label-bkg").attr("points",`\n      ${i-a/2-2},${c+2}  \n      ${i-a/2-2},${c-2}\n      ${r.posWithOffset-a/2-4},${c-s-2}\n      ${r.posWithOffset+a/2+4},${c-s-2}\n      ${r.posWithOffset+a/2+4},${c+s+2}\n      ${r.posWithOffset-a/2-4},${c+s+2}`),t.attr("cy",c).attr("cx",i-a/2+2).attr("r",1.5).attr("class","tag-hole"),"TB"===vj||"BT"===vj){let o=i+l;n.attr("class","tag-label-bkg").attr("points",`\n        ${r.x},${o+2}\n        ${r.x},${o-2}\n        ${r.x+hj},${o-s-2}\n        ${r.x+hj+a+4},${o-s-2}\n        ${r.x+hj+a+4},${o+s+2}\n        ${r.x+hj},${o+s+2}`).attr("transform","translate(12,12) rotate(45, "+r.x+","+i+")"),t.attr("cx",r.x+2).attr("cy",o).attr("transform","translate(12,12) rotate(45, "+r.x+","+i+")"),e.attr("x",r.x+5).attr("y",o+3).attr("transform","translate(14,14) rotate(45, "+r.x+","+i+")")}}}}),"drawCommitTags"),Lj=o((e=>{switch(e.customType??e.type){case Rz.NORMAL:return"commit-normal";case Rz.REVERSE:return"commit-reverse";case Rz.HIGHLIGHT:return"commit-highlight";case Rz.MERGE:return"commit-merge";case Rz.CHERRY_PICK:return"commit-cherry-pick";default:return"commit-normal"}}),"getCommitClassType"),Ij=o(((e,t,r,i)=>{let n={x:0,y:0};if(!(e.parents.length>0))return"TB"===t?30:"BT"===t?(i.get(e.id)??n).y-dj:0;{let r=Cj(e.parents);if(r){let a=i.get(r)??n;return"TB"===t?a.y+dj:"BT"===t?(i.get(e.id)??n).y-dj:a.x+dj}}return 0}),"calculatePosition"),Nj=o(((e,t,r)=>{let i="BT"===vj&&r?t:t+hj,n="TB"===vj||"BT"===vj?i:fj.get(e.branch)?.pos,a="TB"===vj||"BT"===vj?fj.get(e.branch)?.pos:i;if(void 0===a||void 0===n)throw new Error(`Position were undefined for commit ${e.id}`);return{x:a,y:n,posWithOffset:i}}),"getCommitPosition"),Oj=o(((e,t,r)=>{if(!uj)throw new Error("GitGraph config not found");let i=e.append("g").attr("class","commit-bullets"),n=e.append("g").attr("class","commit-labels"),a="TB"===vj||"BT"===vj?30:0,s=[...t.keys()],l=uj?.parallelCommits??!1,c=o(((e,r)=>{let i=t.get(e)?.seq,n=t.get(r)?.seq;return void 0!==i&&void 0!==n?i-n:0}),"sortKeys"),u=s.sort(c);"BT"===vj&&(l&&kj(u,t,a),u=u.reverse()),u.forEach((e=>{let o=t.get(e);if(!o)throw new Error(`Commit not found for key ${e}`);l&&(a=Ij(o,vj,a,pj));let s=Nj(o,a,l);if(r){let e=Lj(o),t=o.customType??o.type,r=fj.get(o.branch)?.index??0;wj(i,o,s,e,r,t),Rj(n,o,s,a),$j(n,o,s,a)}"TB"===vj||"BT"===vj?pj.set(o.id,{x:s.x,y:s.posWithOffset}):pj.set(o.id,{x:s.posWithOffset,y:s.y}),a="BT"===vj&&l?a+dj:a+dj+hj,a>yj&&(yj=a)}))}),"drawCommits"),Mj=o(((e,t,r,i,n)=>{let a=("TB"===vj||"BT"===vj?r.x<i.x:r.y<i.y)?t.branch:e.branch,s=o((e=>e.branch===a),"isOnBranchToGetCurve"),l=o((r=>r.seq>e.seq&&r.seq<t.seq),"isBetweenCommits");return[...n.values()].some((e=>l(e)&&s(e)))}),"shouldRerouteArrow"),Pj=o(((e,t,r=0)=>{let i=e+Math.abs(e-t)/2;if(r>5)return i;if(gj.every((e=>Math.abs(e-i)>=10)))return gj.push(i),i;let n=Math.abs(e-t);return Pj(e,t-n/5,r+1)}),"findLane"),Bj=o(((e,t,r,i)=>{let n=pj.get(t.id),a=pj.get(r.id);if(void 0===n||void 0===a)throw new Error(`Commit positions not found for commits ${t.id} and ${r.id}`);let o,s=Mj(t,r,n,a,i),l="",c="",u=0,h=0,d=fj.get(r.branch)?.index;if(r.type===Rz.MERGE&&t.id!==r.parents[0]&&(d=fj.get(t.branch)?.index),s){l="A 10 10, 0, 0, 0,",c="A 10 10, 0, 0, 1,",u=10,h=10;let e=n.y<a.y?Pj(n.y,a.y):Pj(a.y,n.y),r=n.x<a.x?Pj(n.x,a.x):Pj(a.x,n.x);"TB"===vj?n.x<a.x?o=`M ${n.x} ${n.y} L ${r-u} ${n.y} ${c} ${r} ${n.y+h} L ${r} ${a.y-u} ${l} ${r+h} ${a.y} L ${a.x} ${a.y}`:(d=fj.get(t.branch)?.index,o=`M ${n.x} ${n.y} L ${r+u} ${n.y} ${l} ${r} ${n.y+h} L ${r} ${a.y-u} ${c} ${r-h} ${a.y} L ${a.x} ${a.y}`):"BT"===vj?n.x<a.x?o=`M ${n.x} ${n.y} L ${r-u} ${n.y} ${l} ${r} ${n.y-h} L ${r} ${a.y+u} ${c} ${r+h} ${a.y} L ${a.x} ${a.y}`:(d=fj.get(t.branch)?.index,o=`M ${n.x} ${n.y} L ${r+u} ${n.y} ${c} ${r} ${n.y-h} L ${r} ${a.y+u} ${l} ${r-h} ${a.y} L ${a.x} ${a.y}`):n.y<a.y?o=`M ${n.x} ${n.y} L ${n.x} ${e-u} ${l} ${n.x+h} ${e} L ${a.x-u} ${e} ${c} ${a.x} ${e+h} L ${a.x} ${a.y}`:(d=fj.get(t.branch)?.index,o=`M ${n.x} ${n.y} L ${n.x} ${e+u} ${c} ${n.x+h} ${e} L ${a.x-u} ${e} ${l} ${a.x} ${e-h} L ${a.x} ${a.y}`)}else l="A 20 20, 0, 0, 0,",c="A 20 20, 0, 0, 1,",u=20,h=20,"TB"===vj?(n.x<a.x&&(o=r.type===Rz.MERGE&&t.id!==r.parents[0]?`M ${n.x} ${n.y} L ${n.x} ${a.y-u} ${l} ${n.x+h} ${a.y} L ${a.x} ${a.y}`:`M ${n.x} ${n.y} L ${a.x-u} ${n.y} ${c} ${a.x} ${n.y+h} L ${a.x} ${a.y}`),n.x>a.x&&(l="A 20 20, 0, 0, 0,",c="A 20 20, 0, 0, 1,",u=20,h=20,o=r.type===Rz.MERGE&&t.id!==r.parents[0]?`M ${n.x} ${n.y} L ${n.x} ${a.y-u} ${c} ${n.x-h} ${a.y} L ${a.x} ${a.y}`:`M ${n.x} ${n.y} L ${a.x+u} ${n.y} ${l} ${a.x} ${n.y+h} L ${a.x} ${a.y}`),n.x===a.x&&(o=`M ${n.x} ${n.y} L ${a.x} ${a.y}`)):"BT"===vj?(n.x<a.x&&(o=r.type===Rz.MERGE&&t.id!==r.parents[0]?`M ${n.x} ${n.y} L ${n.x} ${a.y+u} ${c} ${n.x+h} ${a.y} L ${a.x} ${a.y}`:`M ${n.x} ${n.y} L ${a.x-u} ${n.y} ${l} ${a.x} ${n.y-h} L ${a.x} ${a.y}`),n.x>a.x&&(l="A 20 20, 0, 0, 0,",c="A 20 20, 0, 0, 1,",u=20,h=20,o=r.type===Rz.MERGE&&t.id!==r.parents[0]?`M ${n.x} ${n.y} L ${n.x} ${a.y+u} ${l} ${n.x-h} ${a.y} L ${a.x} ${a.y}`:`M ${n.x} ${n.y} L ${a.x-u} ${n.y} ${l} ${a.x} ${n.y-h} L ${a.x} ${a.y}`),n.x===a.x&&(o=`M ${n.x} ${n.y} L ${a.x} ${a.y}`)):(n.y<a.y&&(o=r.type===Rz.MERGE&&t.id!==r.parents[0]?`M ${n.x} ${n.y} L ${a.x-u} ${n.y} ${c} ${a.x} ${n.y+h} L ${a.x} ${a.y}`:`M ${n.x} ${n.y} L ${n.x} ${a.y-u} ${l} ${n.x+h} ${a.y} L ${a.x} ${a.y}`),n.y>a.y&&(o=r.type===Rz.MERGE&&t.id!==r.parents[0]?`M ${n.x} ${n.y} L ${a.x-u} ${n.y} ${l} ${a.x} ${n.y-h} L ${a.x} ${a.y}`:`M ${n.x} ${n.y} L ${n.x} ${a.y+u} ${c} ${n.x+h} ${a.y} L ${a.x} ${a.y}`),n.y===a.y&&(o=`M ${n.x} ${n.y} L ${a.x} ${a.y}`));if(void 0===o)throw new Error("Line definition not found");e.append("path").attr("d",o).attr("class","arrow arrow"+d%8)}),"drawArrow"),Fj=o(((e,t)=>{let r=e.append("g").attr("class","commit-arrows");[...t.keys()].forEach((e=>{let i=t.get(e);i.parents&&i.parents.length>0&&i.parents.forEach((e=>{Bj(r,t.get(e),i,t)}))}))}),"drawArrows"),Dj=o(((e,t)=>{let r=e.append("g");t.forEach(((e,t)=>{let i=t%8,n=fj.get(e.name)?.pos;if(void 0===n)throw new Error(`Position not found for branch ${e.name}`);let a=r.append("line");a.attr("x1",0),a.attr("y1",n),a.attr("x2",yj),a.attr("y2",n),a.attr("class","branch branch"+i),"TB"===vj?(a.attr("y1",30),a.attr("x1",n),a.attr("y2",yj),a.attr("x2",n)):"BT"===vj&&(a.attr("y1",yj),a.attr("x1",n),a.attr("y2",30),a.attr("x2",n)),gj.push(n);let o=e.name,s=Tj(o),l=r.insert("rect"),c=r.insert("g").attr("class","branchLabel").insert("g").attr("class","label branch-label"+i);c.node().appendChild(s);let u=s.getBBox();l.attr("class","branchLabelBkg label"+i).attr("rx",4).attr("ry",4).attr("x",-u.width-4-(!0===uj?.rotateCommitLabel?30:0)).attr("y",-u.height/2+8).attr("width",u.width+18).attr("height",u.height+4),c.attr("transform","translate("+(-u.width-14-(!0===uj?.rotateCommitLabel?30:0))+", "+(n-u.height/2-1)+")"),"TB"===vj?(l.attr("x",n-u.width/2-10).attr("y",0),c.attr("transform","translate("+(n-u.width/2-5)+", 0)")):"BT"===vj?(l.attr("x",n-u.width/2-10).attr("y",yj),c.attr("transform","translate("+(n-u.width/2-5)+", "+yj+")")):l.attr("transform","translate(-19, "+(n-u.height/2)+")")}))}),"drawBranches"),Uj=o((function(e,t,r,i,n){return fj.set(e,{pos:t,index:r}),t+=50+(n?40:0)+("TB"===vj||"BT"===vj?i.width/2:0)}),"setBranchPosition"),zj=o((function(e,t,r,i){if(xj(),_A.debug("in gitgraph renderer",e+"\n","id:",t,r),!uj)throw new Error("GitGraph config not found");let n=uj.rotateCommitLabel??!1,a=i.db;mj=a.getCommits();let o=a.getBranchesAsObjArray();vj=a.getDirection();let s=UI(`[id="${t}"]`),l=0;o.forEach(((e,t)=>{let r=Tj(e.name),i=s.append("g"),a=i.insert("g").attr("class","branchLabel"),o=a.insert("g").attr("class","label branch-label");o.node()?.appendChild(r);let c=r.getBBox();l=Uj(e.name,l,t,c,n),o.remove(),a.remove(),i.remove()})),Oj(s,mj,!1),uj.showBranches&&Dj(s,o),Fj(s,mj),Oj(s,mj,!0),bz.insertTitle(s,"gitTitleText",uj.titleTopMargin??0,a.getDiagramTitle()),s$(void 0,s,uj.diagramPadding,uj.useMaxWidth)}),"draw"),jj={draw:zj},Gj=o((e=>`\n  .commit-id,\n  .commit-msg,\n  .branch-label {\n    fill: lightgrey;\n    color: lightgrey;\n    font-family: 'trebuchet ms', verdana, arial, sans-serif;\n    font-family: var(--mermaid-font-family);\n  }\n  ${[0,1,2,3,4,5,6,7].map((t=>`\n        .branch-label${t} { fill: ${e["gitBranchLabel"+t]}; }\n        .commit${t} { stroke: ${e["git"+t]}; fill: ${e["git"+t]}; }\n        .commit-highlight${t} { stroke: ${e["gitInv"+t]}; fill: ${e["gitInv"+t]}; }\n        .label${t}  { fill: ${e["git"+t]}; }\n        .arrow${t} { stroke: ${e["git"+t]}; }\n        `)).join("\n")}\n\n  .branch {\n    stroke-width: 1;\n    stroke: ${e.lineColor};\n    stroke-dasharray: 2;\n  }\n  .commit-label { font-size: ${e.commitLabelFontSize}; fill: ${e.commitLabelColor};}\n  .commit-label-bkg { font-size: ${e.commitLabelFontSize}; fill: ${e.commitLabelBackground}; opacity: 0.5; }\n  .tag-label { font-size: ${e.tagLabelFontSize}; fill: ${e.tagLabelColor};}\n  .tag-label-bkg { fill: ${e.tagLabelBackground}; stroke: ${e.tagLabelBorder}; }\n  .tag-hole { fill: ${e.textColor}; }\n\n  .commit-merge {\n    stroke: ${e.primaryColor};\n    fill: ${e.primaryColor};\n  }\n  .commit-reverse {\n    stroke: ${e.primaryColor};\n    fill: ${e.primaryColor};\n    stroke-width: 3;\n  }\n  .commit-highlight-outer {\n  }\n  .commit-highlight-inner {\n    stroke: ${e.primaryColor};\n    fill: ${e.primaryColor};\n  }\n\n  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}\n  .gitTitleText {\n    text-anchor: middle;\n    font-size: 18px;\n    fill: ${e.textColor};\n  }\n`),"getStyles"),Wj={parser:lj,db:ej,renderer:jj,styles:Gj};export{Wj as diagram};export default null;
