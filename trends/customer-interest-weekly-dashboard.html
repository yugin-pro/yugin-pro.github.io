<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="generator" content="Observable Framework v1.13.0">
<title>customer interest trends dashboard | Yugin Dmitriy</title>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Source+Serif+4:ital,opsz,wght@0,8..60,200..900;1,8..60,200..900&amp;display=swap" crossorigin>
<link rel="preload" as="style" href="../_observablehq/theme-air,near-midnight.dcdbf18e.css">
<link rel="preload" as="style" href="../_observablehq/stdlib/inputs.ea9fd553.css">
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css2?family=Source+Serif+4:ital,opsz,wght@0,8..60,200..900;1,8..60,200..900&amp;display=swap" crossorigin>
<link rel="stylesheet" type="text/css" href="../_observablehq/theme-air,near-midnight.dcdbf18e.css">
<link rel="stylesheet" type="text/css" href="../_observablehq/stdlib/inputs.ea9fd553.css">
<link rel="modulepreload" href="../_observablehq/client.ba604ce8.js">
<link rel="modulepreload" href="../_observablehq/runtime.9393ab6d.js">
<link rel="modulepreload" href="../_observablehq/stdlib.55124be9.js">
<link rel="modulepreload" href="../_import/components/trendNumber.d31e6ad4.js">
<link rel="modulepreload" href="../_import/components/lineChart.e37967f8.js">
<link rel="modulepreload" href="../_npm/htl@0.3.1/72f4716c.js">
<link rel="modulepreload" href="../_npm/react@19.1.0/jsx-runtime.2a823644.js">
<link rel="modulepreload" href="../_import/components/Feedback.32e3b5f1.js">
<link rel="modulepreload" href="../_npm/d3@7.9.0/e780feca.js">
<link rel="modulepreload" href="../_observablehq/stdlib/duckdb.d51cccc5.js">
<link rel="modulepreload" href="../_observablehq/stdlib/inputs.c3b3de1a.js">
<link rel="modulepreload" href="../_npm/@observablehq/plot@0.6.17/d761ef9b.js">
<link rel="modulepreload" href="../_npm/react-dom@19.1.0/ab55ceaa.js">
<link rel="modulepreload" href="../_npm/react@19.1.0/c1c75d32.js">
<link rel="modulepreload" href="../_npm/@duckdb/duckdb-wasm@1.29.0/36014af5.js">
<link rel="modulepreload" href="../_npm/isoformat@0.2.1/18cbf477.js">
<link rel="modulepreload" href="../_npm/d3-array@3.2.4/e93ca09f.js">
<link rel="modulepreload" href="../_npm/d3-axis@3.0.0/0f2de24d.js">
<link rel="modulepreload" href="../_npm/d3-brush@3.0.0/65eb105b.js">
<link rel="modulepreload" href="../_npm/d3-chord@3.0.1/7ef8fb2e.js">
<link rel="modulepreload" href="../_npm/d3-color@3.1.0/aeb57b94.js">
<link rel="modulepreload" href="../_npm/d3-contour@4.0.2/1d2aed74.js">
<link rel="modulepreload" href="../_npm/d3-delaunay@6.0.4/5ced1d52.js">
<link rel="modulepreload" href="../_npm/d3-dispatch@3.0.1/9ba9c7f3.js">
<link rel="modulepreload" href="../_npm/d3-drag@3.0.0/4202580c.js">
<link rel="modulepreload" href="../_npm/d3-dsv@3.0.1/9cffc2bd.js">
<link rel="modulepreload" href="../_npm/d3-ease@3.0.1/cdd7e898.js">
<link rel="modulepreload" href="../_npm/d3-fetch@3.0.1/b4e2ad9a.js">
<link rel="modulepreload" href="../_npm/d3-force@3.0.0/5e804d15.js">
<link rel="modulepreload" href="../_npm/d3-format@3.1.0/86074ef6.js">
<link rel="modulepreload" href="../_npm/d3-geo@3.1.1/40599fb3.js">
<link rel="modulepreload" href="../_npm/d3-hierarchy@3.1.2/e49e792c.js">
<link rel="modulepreload" href="../_npm/d3-interpolate@3.0.1/8d1e5425.js">
<link rel="modulepreload" href="../_npm/d3-path@3.1.0/20d3f133.js">
<link rel="modulepreload" href="../_npm/d3-polygon@3.0.1/7553081f.js">
<link rel="modulepreload" href="../_npm/d3-quadtree@3.0.1/0dfd751c.js">
<link rel="modulepreload" href="../_npm/d3-random@3.0.1/3c90ee06.js">
<link rel="modulepreload" href="../_npm/d3-scale@4.0.2/843b6a76.js">
<link rel="modulepreload" href="../_npm/d3-scale-chromatic@3.1.0/ba24c2e7.js">
<link rel="modulepreload" href="../_npm/d3-selection@3.0.0/4d94e5b7.js">
<link rel="modulepreload" href="../_npm/d3-shape@3.2.0/6d3a6726.js">
<link rel="modulepreload" href="../_npm/d3-time@3.1.0/9f03c579.js">
<link rel="modulepreload" href="../_npm/d3-time-format@4.1.0/07c9626f.js">
<link rel="modulepreload" href="../_npm/d3-timer@3.0.1/b58a267d.js">
<link rel="modulepreload" href="../_npm/d3-transition@3.0.1/004da2ac.js">
<link rel="modulepreload" href="../_npm/d3-zoom@3.0.0/b5786b3f.js">
<link rel="modulepreload" href="../_npm/interval-tree-1d@1.0.4/53fe8176.js">
<link rel="modulepreload" href="../_npm/apache-arrow@19.0.1/42e4d6a9.js">
<link rel="modulepreload" href="../_npm/internmap@2.0.3/e08981d9.js">
<link rel="modulepreload" href="../_npm/delaunator@5.0.1/02d43215.js">
<link rel="modulepreload" href="../_npm/binary-search-bounds@2.0.5/cbf6ba23.js">
<link rel="modulepreload" href="../_npm/tslib@2.8.1/b62a9c4a.js">
<link rel="modulepreload" href="../_npm/flatbuffers@24.12.23/ff64aefa.js">
<link rel="modulepreload" href="../_npm/robust-predicates@3.0.2/aa00730b.js">

    <meta name="keywords" content="shopify trends, internet marketing trends, digital trends, analytics trends, social medi trends">
    <meta name="description" content="Weekly digest of user experience journey by analysing google trends data.">
    <meta name="author" content="Yugin Dmitriy">
    <link rel="icon" href="../_file/web-analyst.21c0b145.ico" type="image/png" sizes="48x48">
  <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-M282T4N');</script>
  <!-- End Google Tag Manager -->
  <meta name="google-site-verification" content="SnaMInDF57_RYreZY9l7S1zwVfZSGmcLEV421Ohkl_g">
  <meta name="msvalidate.01" content="DEA98ACCD6D8E6BB2DF43CD0031A6E00">
    
<script type="module">

import {define} from "../_observablehq/client.ba604ce8.js";

define({id: "b646b8ba", inputs: ["d3","DuckDBClient","htl"], outputs: ["trend8week","sql","currentWeek","currentPostLink","textcolor","insertLink"], body: async (d3,DuckDBClient,htl) => {
const trend8week = await d3.csv('https://docs.google.com/spreadsheets/d/e/2PACX-1vTc26cIfILij4WUX9yF4070HAflKpxLqHJajwlnUpkpgp5zyCUkYhqZeKYOg84G8X-K7Ba1hZK9yon_/pub?gid=2085325824&single=true&output=csv')

const sql = DuckDBClient.sql({trends: trend8week})
const currentWeek = 10
const currentPostLink = 'https://www.linkedin.com/posts/yugin-pro_google-trends-2025-th-week-review-activity-7302776589304385536-G9Ni?utm_source=share&utm_medium=member_desktop&rcm=ACoAADu7AnEBjkP3OItHX42Ve3RrlToNflZTyjs'

function textcolor(content, style = {}) {
  function yiq(color) {
    const {r, g, b} = d3.rgb(color);
    return (r * 299 + g * 587 + b * 114) / 1000 / 255; // returns values between 0 and 1
  }
  const {
    background,
    color = yiq(background) >= 0.6 ? "#111" : "white", 
    padding = "0 5px",
    borderRadius = "4px",
    fontWeight = 800,
    ...rest
  } = typeof style === "string" ? {background: style} : style;
  return htl.html`<span style=${{
    background, 
    color, 
    padding, 
    borderRadius, 
    fontWeight, 
    ...rest
  }}>${content}</span>`;
}

function insertLink(name,url) {
    return htl.html`<a target="_blank" href="${url}">${name}</a> `
}
return {trend8week,sql,currentWeek,currentPostLink,textcolor,insertLink};
}});

define({id: "877a63b8", mode: "inline", inputs: ["currentWeek","display"], body: async (currentWeek,display) => {
display(await(
currentWeek
))
}});

define({id: "82c770c1", mode: "inline", inputs: ["textcolor","display"], body: async (textcolor,display) => {
display(await(
textcolor('94%', 'darkgreen')
))
}});

define({id: "020125e5", mode: "inline", inputs: ["insertLink","currentPostLink","display"], body: async (insertLink,currentPostLink,display) => {
display(await(
insertLink('sharing your thoughts, reasoning process, and any brave ideas',currentPostLink)
))
}});

define({id: "e111b2aa", outputs: ["canvas","context"], body: () => {
const canvas = document.createElement("canvas");
  canvas.width = 640;
  canvas.height = 30;
  canvas.style.border = "1px solid gray";

const context =  canvas.getContext("2d")
context.clearRect(0, 0, canvas.width, canvas.height);
context.font = "14px Arial";
context.fillStyle = "black";
context.fillText("Loading...", canvas.width / 2 - 50, canvas.height / 2);

return {canvas,context};
}});

define({id: "a457e8f0", mode: "inline", inputs: ["canvas","display"], body: async (canvas,display) => {
display(await(
canvas
))
}});

define({id: "7bd08028", inputs: ["sql"], outputs: ["toprequests"], body: async (sql) => {
const toprequests = await sql`    select topic,request,interest
    from trends
    where week_passed = 0 and request_type = 'TOP'
`;
return {toprequests};
}});

define({id: "b0fec9bd", inputs: ["sql"], outputs: ["risrequests"], body: async (sql) => {
const risrequests = await sql`    select topic,request,interest
    from trends
    where week_passed = 0 and request_type = 'RISING'
`;
return {risrequests};
}});

define({id: "6e321204", mode: "inline", inputs: ["Inputs","toprequests","display"], body: async (Inputs,toprequests,display) => {
display(await(
Inputs.table(toprequests)
))
}});

define({id: "d4465f53", mode: "inline", inputs: ["Inputs","risrequests","display"], body: async (Inputs,risrequests,display) => {
display(await(
Inputs.table(risrequests)
))
}});

define({id: "b09ec8f0", inputs: ["toprequests","canvas"], body: async (toprequests,canvas) => {
await toprequests
canvas.remove();

}});

define({id: "203060c8", outputs: ["trendNumber","formatTrend","lineChart"], body: async () => {
const [{trendNumber, formatTrend}, {lineChart}] = await Promise.all([import("../_import/components/trendNumber.d31e6ad4.js"), import("../_import/components/lineChart.e37967f8.js")]);

return {trendNumber,formatTrend,lineChart};
}});

define({id: "8613bb86", inputs: ["sql"], outputs: ["high_summary"], body: async (sql) => {
const high_summary = await sql`      with req as (
            select week_passed, request_type, requests, max(topics) over (partition by week_passed) topics from (
              select week_passed,request_type, count(distinct topic) topics, count(*) requests
              from trends
              group by week_passed,request_type
            )
          )

      select week_passed::int * -1 week_passed, topics, TOP::int as top_requests, RISING::int as rising_requests
      from (
          PIVOT req
          ON request_type in ('TOP', 'RISING')
          USING sum(requests)
          group by week_passed, topics
      )
      order by week_passed asc`;
return {high_summary};
}});

define({id: "1de2a1ef", inputs: ["high_summary","Generators","resize","lineChart"], outputs: ["summary","generateValue","topRequestChart","risingRequestChart","topRequest","risingRequest"], body: async (high_summary,Generators,resize,lineChart) => {
const [...summary] = await high_summary
// Like Generators.input, but works with resize, and adds a default value.
function generateValue(target, defaultValue) {
  return Generators.observe((notify) => {
    const changed = ({target}) => notify(target.value ?? defaultValue);
    if (defaultValue !== undefined) notify(defaultValue);
    target.addEventListener("input", changed);
    return () => target.removeEventListener("input", changed);
  });
}

const topRequestChart = resize((width) => lineChart(summary, {width, x:"week_passed", y: "top_requests"}));
const risingRequestChart = resize((width) => lineChart(summary, {width, x:"week_passed",y: "rising_requests"}));

const topRequest = generateValue(topRequestChart, summary.at(-1));
const risingRequest = generateValue(risingRequestChart, summary.at(-1));

return {summary,generateValue,topRequestChart,risingRequestChart,topRequest,risingRequest};
}});

define({id: "a7fadc66", mode: "inline", inputs: ["topRequest","display"], body: async (topRequest,display) => {
display(await(
topRequest["top_requests"].toLocaleString("en-US")
))
}});

define({id: "8dc161ff", mode: "inline", inputs: ["trendNumber","summary","topRequest","display"], body: async (trendNumber,summary,topRequest,display) => {
display(await(
trendNumber(await summary, {focus: topRequest, value: "top_requests"})
))
}});

define({id: "90b3da38", mode: "inline", inputs: ["topRequest","display"], body: async (topRequest,display) => {
display(await(
topRequest["topics"].toLocaleString("en-US")
))
}});

define({id: "d0ca337d", mode: "inline", inputs: ["topRequestChart","display"], body: async (topRequestChart,display) => {
display(await(
topRequestChart
))
}});

define({id: "2852b890", mode: "inline", inputs: ["risingRequest","display"], body: async (risingRequest,display) => {
display(await(
risingRequest["rising_requests"].toLocaleString("en-US")
))
}});

define({id: "c2af7271", mode: "inline", inputs: ["trendNumber","summary","risingRequest","display"], body: async (trendNumber,summary,risingRequest,display) => {
display(await(
trendNumber([...summary], {focus: risingRequest, value: "rising_requests"})
))
}});

define({id: "eeb61faf", mode: "inline", inputs: ["risingRequestChart","display"], body: async (risingRequestChart,display) => {
display(await(
risingRequestChart
))
}});

define({id: "58869bf3", mode: "inline", inputs: ["textcolor","display"], body: async (textcolor,display) => {
display(await(
textcolor('number of queries', 'darkgreen')
))
}});

define({id: "ad82b45c", mode: "inline", inputs: ["textcolor","display"], body: async (textcolor,display) => {
display(await(
textcolor('average numbers', 'darkgreen')
))
}});

define({id: "e119d8e0", mode: "inline", inputs: ["textcolor","display"], body: async (textcolor,display) => {
display(await(
textcolor('week-to-week comparison', 'darkgreen')
))
}});

define({id: "ad265106", inputs: ["sql"], outputs: ["categoryes"], body: async (sql) => {
const categoryes = await sql`    with words as (
      select week_iso, week_passed,topic,request_type, request,word, word_number_in_request
      , count(distinct topic) over (partition by week_passed,request_type, word ROWS BETWEEN UNBOUNDED PRECEDING AND UNBOUNDED FOLLOWING EXCLUDE CURRENT ROW) word_distribution_over_topic
      , count(distinct request) over (partition by week_passed,request_type, word ROWS BETWEEN UNBOUNDED PRECEDING AND UNBOUNDED FOLLOWING EXCLUDE CURRENT ROW) word_distribution_over_request     
      from (
        select week_iso, week_passed,topic,request_type, request, unnest(string_split(request,' ')) word
        ,length(string_split(request,' ')) word_number_in_request
        from trends
      )
      where length(word) > 3
    ), source as (
        select week_passed,topic,request_type, count(*) words, count(distinct word) uniq_words, count(distinct request) requests, max(word_distribution_over_topic)::int topics_has, max(word_distribution_over_request)::int requests_has, round(avg(word_number_in_request)::float,2) avg_words_in_req
        from words
        group by week_passed,topic,request_type
        order by week_passed
    ), current as (
        select * from source
        where week_passed = 0
    ), previos as (
        select topic, request_type, requests - request_prev requests_wtw
         from (
        select c.*, s.requests request_prev from current c
        left join (select topic, request_type, requests from source
        where week_passed = 1) s using(topic, request_type)
        )
    ), previos_avg as (
        select topic,request_type, floor(avg(requests))::int avg_req from source
        where week_passed != 0
        group by topic,request_type
    )
    
    PIVOT (
      UNPIVOT (
        select s.* , pa.avg_req requests_avg from (
        select c.*, p.requests_wtw from current c
        left join previos p using(topic, request_type)
        ) s
        left join previos_avg pa using(topic, request_type)
        )
      ON words,uniq_words,topics_has,requests_has,requests,requests_avg,avg_words_in_req,requests_wtw
      INTO
        NAME metric
        VALUE metric_value
      )
    ON request_type in ('TOP','RISING')
    USING first(metric_value);`;
return {categoryes};
}});

define({id: "4333c5bd", inputs: ["d3","categoryes"], outputs: ["html","struct"], body: async (d3,categoryes) => {
const {html} = await import("../_npm/htl@0.3.1/72f4716c.js");
  
  const struct = d3.group(categoryes, d => d.topic, d => d.metric)

return {html,struct};
}});

define({id: "a9a4330c", mode: "inline", inputs: ["struct","html","formatTrend","d3","display"], body: async (struct,html,formatTrend,d3,display) => {
display(await(
Array.from(struct, ([key, values]) => html.fragment`   
    <div class="card">
        <h2>${key}</h2>
        <table>
        <thead>
            <tr>
              <th style="color: var(--theme-foreground-muted)">metric</th>
              <th style="color: var(--theme-foreground-muted)">TOP</th>
              <th style="color: var(--theme-foreground-muted)">RISING</th>
              </tr>
        </thead>
        <tbody>
        ${Array.from(values, ([key, values]) => html.fragment`          
            <tr>
            <td style="color: var(--theme-foreground-muted)">${key}</td>
            <td><b>${key =='requests_wtw' ? formatTrend(values.map(d => d.TOP).join(", ")) : values.map(d =>  d3.format("3,.2r")(d.TOP)).join(", ")}</b></td>
            <td><b>${key =='requests_wtw' ? formatTrend(values.map(d => d.RISING).join(", ")) : values.map(d => d3.format("3,.2r")(d.RISING)).join(", ")}</b></td>
            </tr>
        `)}
        </tbody>
        </table>
    </div>
    `)
))
}});

define({id: "e054a9b9", inputs: ["sql"], outputs: ["relations_nodes"], body: async (sql) => {
const relations_nodes = await sql`     with words as (
      select topic,request_type,word
      , list(distinct topic) over (partition by request_type, word ROWS BETWEEN UNBOUNDED PRECEDING AND UNBOUNDED FOLLOWING EXCLUDE CURRENT ROW) word_distribution_over_topic
      , count(distinct topic) over (partition by request_type, word ROWS BETWEEN UNBOUNDED PRECEDING AND UNBOUNDED FOLLOWING EXCLUDE CURRENT ROW) word_distribution_over_request     
      from (
        select distinct topic,request_type, unnest(string_split(request,' ')) word
        from trends
        where week_passed = 0
      )
    )

    select id,request_type,max(fr) as "group" 
    from (
    select * 
    , count(distinct value) over (partition by target) fr
        from (
      select id,target,request_type, sum(value) as value
      from (
      select topic as id,target, request_type,count(*) as value
      from (
      select topic ,request_type,word, unnest(word_distribution_over_topic) as target
      from words
      where length(word) > 3
      )
      group by 1,2,3
      )
      group by 1,2,3
        )
    )
    group by id,request_type`;
return {relations_nodes};
}});

define({id: "74afa7df", inputs: ["sql"], outputs: ["relations_links"], body: async (sql) => {
const relations_links = await sql`    with words as (
      select topic,request_type,word
      , list(distinct topic) over (partition by request_type, word ROWS BETWEEN UNBOUNDED PRECEDING AND UNBOUNDED FOLLOWING EXCLUDE CURRENT ROW) word_distribution_over_topic
      , count(distinct topic) over (partition by request_type, word ROWS BETWEEN UNBOUNDED PRECEDING AND UNBOUNDED FOLLOWING EXCLUDE CURRENT ROW) word_distribution_over_request     
      from (
        select distinct topic,request_type, unnest(string_split(request,' ')) word
        from trends
        where week_passed = 0
      )
    )


      select topic as source,target, request_type,count(*) as value
      from (
      select topic ,request_type,word, unnest(word_distribution_over_topic) as target
      from words
      where length(word) > 3
      )
      group by 1,2,3`;
return {relations_links};
}});

define({id: "5ff306cd", inputs: ["sql","relations_form"], outputs: ["relations_words"], body: async (sql,relations_form) => {
const relations_words = await sql`    with words as (
      select topic,request_type,word
      , list(distinct topic) over (partition by request_type, word ROWS BETWEEN UNBOUNDED PRECEDING AND UNBOUNDED FOLLOWING EXCLUDE CURRENT ROW) word_distribution_over_topic
      , count(distinct topic) over (partition by request_type, word ROWS BETWEEN UNBOUNDED PRECEDING AND UNBOUNDED FOLLOWING EXCLUDE CURRENT ROW) word_distribution_over_request     
      from (
        select distinct topic,request_type, unnest(string_split(request,' ')) word
        from trends
        where week_passed = 0
      )
    )

    select distinct word
    from words
    where topic in ${relations_form.topic_select.join(',')}
    and length(word) > 3
  `;
return {relations_words};
}});

define({id: "72c03889", inputs: ["display","Inputs","sql"], body: async (display,Inputs,sql) => {
display(Inputs.table(await sql`     with words as (
      select topic,request_type,word
      , list(distinct topic) over (partition by request_type, word ROWS BETWEEN UNBOUNDED PRECEDING AND UNBOUNDED FOLLOWING EXCLUDE CURRENT ROW) word_distribution_over_topic
      , count(distinct topic) over (partition by request_type, word ROWS BETWEEN UNBOUNDED PRECEDING AND UNBOUNDED FOLLOWING EXCLUDE CURRENT ROW) word_distribution_over_request     
      from (
        select * from (
          select distinct topic,request_type, unnest(string_split(request,' ')) word
          from trends
          where week_passed = 0 
        )
        where length(word) > 2
      ) 
    )

    select * 
    , count() over (partition by target, request_type ) dfdf
        from (

      select topic as id,target, request_type,count(*) as value
      from (
      select topic ,request_type,word, unnest(IF(IFNULL(word_distribution_over_topic, []) != [], word_distribution_over_topic, [null])) as target
      from words
      )
      group by 1,2,3
      order by id, request_type, value desc
     )  
`, {select: false}));
}});

define({id: "39f78cfb", inputs: ["view","Inputs","d3","relations_nodes"], outputs: ["relations_form"], body: (view,Inputs,d3,relations_nodes) => {
  const relations_form = view(Inputs.form({
    request_type_checkbox: Inputs.radio(d3.group(relations_nodes, (d) => d.request_type).keys(), {label: "request type"}),
    topic_select: Inputs.select(d3.group(relations_nodes, (d) => d.id).keys(), {multiple: true,label: "topic"})
  }));
return {relations_form};
}});

define({id: "a113b7a1", inputs: ["d3","relations_nodes","relations_form","relations_links","view"], outputs: ["r_nodes","r_links","samegroupF","samegroup"], body: (d3,relations_nodes,relations_form,relations_links,view) => {
  const r_nodes = d3.filter(relations_nodes, d => relations_form.request_type_checkbox == d.request_type)

  const r_links = d3.filter(relations_links, d => relations_form.request_type_checkbox == d.request_type)

 const samegroupF = () => {
  const groups = new Map(r_nodes.map((d) => [d.id, d.group]));
  return ({source, target}) => {
    source = groups.get(source);
    target = groups.get(target);
    return source !== target ? source : null;
  };
}
const samegroup = samegroupF()
 view(relations_form.topic_select)
return {r_nodes,r_links,samegroupF,samegroup};
}});

define({id: "3102ddbf", inputs: ["Plot","d3","r_nodes","r_links","relations_form","samegroup","display"], body: async (Plot,d3,r_nodes,r_links,relations_form,samegroup,display) => {
display(await(
Plot.plot({
  width: 1000,
  height: 500,
  axis: null,
  y: {domain: [-5, 10]}, // see https://github.com/observablehq/plot/issues/1541
  color: {    type: "categorical",
    scheme: "Dark2", domain: d3.range(15), unknown: "#ccc"},
  marks: [
    Plot.dot(r_nodes, {y: 0, x: "id", fill: "group", sort: {x: "fill"}}),
    Plot.text(r_nodes, {y: 0, x: "id", text: "id", textAnchor: "top", dy: 40, fill: "group", rotate: -60}),
    Plot.arrow(r_links, {
      filter: (d) => relations_form.topic_select.includes(d.source),
      y: 0, x1: "source", x2: "target", sweep: "-x", bend: 70, headLength: 0, stroke: samegroup, sort: samegroup, reverse: true})
  ]
})
))
}});

define({id: "5e402a8a", inputs: ["view","Inputs"], outputs: ["risingTypeSwitch"], body: (view,Inputs) => {
const risingTypeSwitch = view(Inputs.radio(["Breakout", "+%"], {label: "RISING TYPE",value: 'Breakout', format: (x) => x == '+%' ? "Fast Growing" : x}));
return {risingTypeSwitch};
}});

define({id: "611ccbab", inputs: ["sql","risingTypeSwitch"], outputs: ["breakout_requests"], body: async (sql,risingTypeSwitch) => {
const breakout_requests = await sql`    select topic,request
    , count(*) over (partition by topic) rn
    from trends
    where week_passed = 0 and interest like ${risingTypeSwitch} and request_type = 'RISING'
    order by rn desc
`;
return {breakout_requests};
}});

define({id: "95a00e1f", inputs: ["d3","breakout_requests"], outputs: ["breakout_requests_gr"], body: (d3,breakout_requests) => {
  const breakout_requests_gr = d3.group(breakout_requests, d => d.topic)
return {breakout_requests_gr};
}});

define({id: "c887ec08", mode: "inline", inputs: ["breakout_requests_gr","html","display"], body: async (breakout_requests_gr,html,display) => {
display(await(
Array.from(breakout_requests_gr, ([key, values]) => html.fragment` 
      <div style="display:inline-block;text-align: center;margin:1rem 0rem">
      <h5>${key}</h5>
      ${Array.from(values, (value) => html.fragment`         
        <div style="text-align: center;background-color:aliceblue;border: 1px solid lightblue;border-radius: 10px;margin:5px 10px;padding: 0px 5px"><small>${value.request}</small></div>
      `)}
      </div>
    `)
))
}});

define({id: "ac076542", inputs: ["view","Inputs"], outputs: ["topTypeSwitch"], body: (view,Inputs) => {
const topTypeSwitch = view(Inputs.radio(["Breakout", "+%"], {label: "RISING TYPE",value: 'Breakout', format: (x) => x == '+%' ? "Fast Growing" : x}));
return {topTypeSwitch};
}});

define({id: "1ef91460", inputs: ["sql"], outputs: ["top_requests"], body: async (sql) => {
const top_requests = await sql`    select topic,request
    , count(*) over (partition by topic) rn
    from trends
    where week_passed = 0 and request_type = 'TOP'
    order by rn desc
`;
return {top_requests};
}});

define({id: "c9c45e74", inputs: ["display","Inputs","sql"], outputs: ["top_requests_words"], body: async (display,Inputs,sql) => {
const top_requests_words = ((_) => (display(Inputs.table(_, {select: false})), _))(await sql`-- select week_iso,topic, words, count(*) word_rating
-- ,max(topics) topics, max(requests) requests
-- from (
    select week_iso, week_passed, topic,request, length(words_list) wll --, unnest(words_list) words
    , topics, requests
    from (
      select * ,string_split(trim(request), ' ') words_list
      , count(distinct topic) over (partition by week_iso) topics
      , count(distinct request) over (partition by week_iso, topic) requests
      from (
        select distinct week_iso, week_passed, topic, request
        from trends
        where request_type = 'TOP'
      )
    )
-- )
-- group by week_iso, topic, words
-- order by week_iso, topic, word_rating desc`);
return {top_requests_words};
}});

define({id: "4a71f69b", inputs: ["d3","top_requests"], outputs: ["top_requests_gr"], body: (d3,top_requests) => {
  const top_requests_gr = d3.group(top_requests, d => d.topic)
return {top_requests_gr};
}});

define({id: "6cb1bf60", inputs: ["Plot","top_requests_words","display"], body: async (Plot,top_requests_words,display) => {
display(await(
Plot.plot({
  marginBottom: 100,
  fx: {padding: 0, label: null, tickRotate: 90, tickSize: 6},
  x: {axis: null, paddingOuter: 1},
  y: {grid: true},
  color: {legend: true},
  marks: [
    Plot.barY(top_requests_words, Plot.groupX({y2: "count"}, {x: "week_passed", fx: "wll", fill: (d)=> d.week_passed == 0 ?  'blue': 'lightblue'})),
    Plot.ruleY([0])
  ]
})
))
}});

define({id: "c8266054", mode: "inline", inputs: ["top_requests_gr","html","display"], body: async (top_requests_gr,html,display) => {
display(await(
Array.from(top_requests_gr, ([key, values]) => html.fragment` 
      <div style="display:inline-block;text-align: center;margin:1rem 0rem">
      <h5>${key}</h5>
      ${Array.from(values, (value) => html.fragment`         
        <div style="text-align: center;background-color:aliceblue;border: 1px solid lightblue;border-radius: 10px;margin:5px 10px;padding: 0px 5px"><small>${value.request}</small></div>
      `)}
      </div>
    `)
))
}});

define({id: "40842213", mode: "jsx", inputs: ["display"], outputs: ["jsx","Feedback"], body: async (display) => {
const [{jsx}, {Feedback}] = await Promise.all([import("../_npm/react@19.1.0/jsx-runtime.2a823644.js"), import("../_import/components/Feedback.32e3b5f1.js")]);
display(/* @__PURE__ */ jsx(Feedback, {}));
return {jsx,Feedback};
}});

</script>
</head>
<body>
<input id="observablehq-sidebar-toggle" type="checkbox" title="Toggle sidebar">
<label id="observablehq-sidebar-backdrop" for="observablehq-sidebar-toggle"></label>
<nav id="observablehq-sidebar">
  <ol>
    <label id="observablehq-sidebar-close" for="observablehq-sidebar-toggle"></label>
    <li class="observablehq-link"><a href="../">Yugin Dmitriy</a></li>
  </ol>
  <ol>
    <li class="observablehq-link"><a href="../experience">Experience overview</a></li>
  </ol>
  <details>
    <summary>Case studies</summary>
    <ol>
    <li class="observablehq-link"><a href="../customer-journey/customer-experience-journey-mapping">Customer journey mapping</a></li>
    <li class="observablehq-link"><a href="../data-engineer/marketing-data-engineering">Marketing data engineering</a></li>
    <li class="observablehq-link"><a href="../pbi/google-trends-reporting">Power BI Google Trends reporting</a></li>
    <li class="observablehq-link"><a href="../conversion-optimisation/by-audience-segmentation">Conversion Optimisation</a></li>
    </ol>
  </details>
  <details>
    <summary>Solutions</summary>
    <ol>
    <li class="observablehq-link"><a href="../solutions/develop-gtm-variable-tag-templates">Develop GTM variable tag templates</a></li>
    <li class="observablehq-link"><a href="../solutions/aws-data-warehouse">AWS data warehouse</a></li>
    </ol>
  </details>
  <details>
    <summary>New</summary>
    <ol>
    <li class="observablehq-link"><a href="./marketing-analytics-trends-13">marketing trends 13 </a></li>
    <li class="observablehq-link"><a href="../news-review/data-analytics-and-marketing-news-13">13 week news recap</a></li>
    <li class="observablehq-link"><a href="../news-review/data-analytics-and-marketing-12-2025">12 week news recap</a></li>
    <li class="observablehq-link"><a href="../news-review/data-analytics-and-marketing-11-2025">11 week news recap</a></li>
    <li class="observablehq-link"><a href="../news-review/data-analytics-and-marketing-10-2025">10 week news recap</a></li>
    <li class="observablehq-link"><a href="../new/google-tag-manger-template-in-gallery">GTM template variable in gallery</a></li>
    </ol>
  </details>
</nav>
<script>{const e=document.querySelector("#observablehq-sidebar"),t=document.querySelector("#observablehq-sidebar-toggle"),r=sessionStorage.getItem("observablehq-sidebar");r?t.checked=r==="true":t.indeterminate=!0;for(const o of document.querySelectorAll("#observablehq-sidebar summary")){const s=o.parentElement;switch(sessionStorage.getItem(`observablehq-sidebar:${o.textContent}`)){case"true":s.open=!0;break;case"false":s.classList.contains("observablehq-section-active")||(s.open=!1);break}}addEventListener("beforeunload",()=>sessionStorage.setItem("observablehq-sidebar-scrolly",`${e.scrollTop}`));const a=sessionStorage.getItem("observablehq-sidebar-scrolly");a!=null&&(e.style.cssText="overflow: hidden;",e.scrollTop=+a,e.style.cssText="");}</script>
<div id="observablehq-center">
<aside id="observablehq-toc" data-selector="h1:not(:first-of-type)[id], h2:first-child[id], :not(h1) + h2[id]">
<nav>
<div>Contents</div>
<ol>
<li class="observablehq-secondary-link"><a href="#source-data">Source data</a></li>
<li class="observablehq-secondary-link"><a href="#topic-requests-number-over-weeks">Topic requests number over weeks</a></li>
<li class="observablehq-secondary-link"><a href="#breakout-requests">Breakout requests</a></li>
<li class="observablehq-secondary-link"><a href="#top-requests">TOP requests</a></li>
</ol>
</nav>
</aside>
<main id="observablehq-main" class="observablehq">
<div class="observablehq observablehq--block"><!--:b646b8ba:--></div>
<h1 id="google-trends-2025-th-week-review" tabindex="-1"><a class="observablehq-header-anchor" href="#google-trends-2025-th-week-review">Google Trends 2025 <observablehq-loading></observablehq-loading><!--:877a63b8:-->th Week Review</a></h1>
<h2 id="overview" tabindex="-1"><a class="observablehq-header-anchor" href="#overview">Overview</a></h2>
<p>According to a survey conducted by <a href="https://blog.hubspot.com/marketing/hubspot-blog-marketing-industry-trends-report" target="_blank" rel="noopener noreferrer">HubSpot</a>, <observablehq-loading></observablehq-loading><!--:82c770c1:--> of digital marketing experts emphasize that understanding audience interest is crucial for product development and planning marketing efforts to create personalized customer experience. This insight allows businesses to tailor their strategies to meet the specific needs and preferences of their target audience, leading to more effective marketing campaigns and successful product launches.</p>
<div class="note">I encourage you to join this revealing process by examining these visualisations and raw datasets and <observablehq-loading></observablehq-loading><!--:020125e5:--> about what type of insights can be extracted and what type of chart would be optimal to uncover hidden patterns.</div>
<h2 id="source-data" tabindex="-1"><a class="observablehq-header-anchor" href="#source-data">Source data</a></h2>
<p><a href="https://trends.google.com/trends/" target="_blank" rel="noopener noreferrer">Google Trends</a> provides valuable data of the popularity of search queries over time, which can be a powerful tool for understanding market trends and consumer behavior.However, raw data alone is not very useful; it needs to be analyzed to extract meaningful insights and identify patterns or trends. Analysis involves piecing together various data points to form a comprehensive understanding of the overall picture.</p>
<div class="observablehq observablehq--block"><!--:e111b2aa:--></div>
<p><observablehq-loading></observablehq-loading><!--:a457e8f0:--></p>
<div class="observablehq observablehq--block"><!--:7bd08028:--></div>
<div class="observablehq observablehq--block"><!--:b0fec9bd:--></div>
<div class="grid grid-cols-2">
    <div class="card">
    <h3>TOP queries</h3>
    <p>The most popular search queries. Scoring is on a relative scale where a value of 100 is the most commonly searched query, 50 is a query searched half as often as the most popular query, and so on.
</p>
    <observablehq-loading></observablehq-loading><!--:6e321204:-->
    </div>
    <div class="card">
    <h3>Rising queries</h3>
    <p>Tueries with the biggest increase in search frequency since the last time period. Results marked 'Breakout' had a tremendous increase, probably because these queries are new and had few (if any) prior searches.
</p>
    <observablehq-loading></observablehq-loading><!--:d4465f53:-->
    </div>
</div>
<div class="observablehq observablehq--block"><!--:b09ec8f0:--></div>
<h2 id="topic-requests-number-over-weeks" tabindex="-1"><a class="observablehq-header-anchor" href="#topic-requests-number-over-weeks">Topic requests number over weeks</a></h2>
<div class="observablehq observablehq--block"><!--:203060c8:--></div>
<style type="text/css">

.crop {
  padding-bottom: 0;
  overflow: hidden;
}

</style>
<div class="observablehq observablehq--block"><!--:8613bb86:--></div>
<div class="observablehq observablehq--block"><!--:1de2a1ef:--></div>
<div class="grid grid-cols-2">
  <div class="card crop">
    <h2>TOP Requests </h2>     
    <span class="big"><observablehq-loading></observablehq-loading><!--:a7fadc66:--></span>
    <observablehq-loading></observablehq-loading><!--:8dc161ff:-->
    <span> over </span><span class="big"><observablehq-loading></observablehq-loading><!--:90b3da38:--></span> topics
    <observablehq-loading></observablehq-loading><!--:d0ca337d:-->
  </div>
  <div class="card crop">
    <h2>RISING Requests </h2>
    <span class="big"><observablehq-loading></observablehq-loading><!--:2852b890:--></span>
    <observablehq-loading></observablehq-loading><!--:c2af7271:-->
    <observablehq-loading></observablehq-loading><!--:eeb61faf:-->
  </div>
</div>
<p>Having a bird's-eye view is interesting, but it can be complicated to achieve using the native Google UI, especially if your business spans many topics or queries (as it usually does). Therefore, it would be very handy to have an overview of all topics in one place, showing the <observablehq-loading></observablehq-loading><!--:58869bf3:-->, <observablehq-loading></observablehq-loading><!--:ad82b45c:--> over the previous 7 weeks, and a <observablehq-loading></observablehq-loading><!--:e119d8e0:--> with the previous week to identify valuable information and catch our attention.</p>
<div class="observablehq observablehq--block"><!--:ad265106:--></div>
<div class="observablehq observablehq--block"><!--:4333c5bd:--></div>
<div class="grid grid-cols-3">
 <observablehq-loading></observablehq-loading><!--:a9a4330c:-->
</div>
<p>Topic relations</p>
<div class="observablehq observablehq--block"><!--:e054a9b9:--></div>
<div class="observablehq observablehq--block"><!--:74afa7df:--></div>
<div class="observablehq observablehq--block"><!--:5ff306cd:--></div>
<div class="observablehq observablehq--block"><!--:72c03889:--></div>
<div class="observablehq observablehq--block"><!--:39f78cfb:--></div>
<div class="observablehq observablehq--block"><!--:a113b7a1:--></div>
<div class="observablehq observablehq--block"><observablehq-loading></observablehq-loading><!--:3102ddbf:--></div>
<h2 id="breakout-requests" tabindex="-1"><a class="observablehq-header-anchor" href="#breakout-requests">Breakout requests</a></h2>
<p>The Rising tab represents terms that were searched for with the term you entered and had the most significant growth in volume over the selected time period. You’ll see a percentage of the Rising term’s growth compared to the previous time period. If you see “Breakout” instead of a percentage, it means that the search term grew by more than 5000%.</p>
<div class="observablehq observablehq--block"><!--:5e402a8a:--></div>
<div class="observablehq observablehq--block"><!--:611ccbab:--></div>
<div class="observablehq observablehq--block"><!--:95a00e1f:--></div>
  <div>
    <observablehq-loading></observablehq-loading><!--:c887ec08:-->
  </div>
<p>The search queries can be categorized into several key themes, reflecting the interests within the Netherlands related to digital marketing, business, and data analytics:</p>
<h2 id="top-requests" tabindex="-1"><a class="observablehq-header-anchor" href="#top-requests">TOP requests</a></h2>
<p>The most popular search queries. Scoring is on a relative scale where a value of 100 is the most commonly searched query, 50 is a query searched half as often as the most popular query, and so on.</p>
<div class="observablehq observablehq--block"><!--:ac076542:--></div>
<div class="observablehq observablehq--block"><!--:1ef91460:--></div>
<div class="observablehq observablehq--block"><!--:c9c45e74:--></div>
<div class="observablehq observablehq--block"><!--:4a71f69b:--></div>
<div class="observablehq observablehq--block"><observablehq-loading></observablehq-loading><!--:6cb1bf60:--></div>
  <div>
    <observablehq-loading></observablehq-loading><!--:c8266054:-->
  </div>
<p>The search queries can be categorized into several key themes, reflecting the interests within the Netherlands related to digital marketing, business, and data analytics:</p>
<div class="observablehq observablehq--block"><!--:40842213:--></div>
</main>
<footer id="observablehq-footer">
<div>Built with <a href="https://observablehq.com/" target="_blank" rel="noopener noreferrer">Observable</a> on <a title="2025-04-05T12:03:14">Apr 5, 2025</a>.</div>
</footer>
</div>
</body>
</html>
